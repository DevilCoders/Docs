# Дашборды для grafana

Тут лежат generic дашборды для графаны.
Используется jsonnet (язык) и grafonnet (библиотека) для генерации дашбордов.

## Обновление и отладка

Для залики дашбордов в графану нужен token.
https://yav.yandex-team.ru/secret/sec-01erd27wbk2vr5ba2wcb64yyw5/explore/versions

Перед дальнейшей работы надо положить его в environment:
```bash
export GRAFANA_API_TOKEN='.......'
```

Для тестовой загрузки дашбордов нужно запустить одну из следующих команд:
```bash
./scripts/deploy-dashboards.sh -t # загрузка всех дашбордов помеченных тегом grafana
./scripts/deploy-dashboards.sh -t //common/dashboards:http-app # загрузка одного дашборда
```

В конце работы скрипта в консоли будут ссылки на дашборды. Для тестирования они создаются в папке test.

Для обновления основных версий дашбордов надо запустить команду выше без флага `-t` и из master ветки. 