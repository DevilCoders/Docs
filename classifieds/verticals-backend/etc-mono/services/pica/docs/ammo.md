# Стрельбы

Все необходимое для стрельб по Пике находится в [директории](../gun).

Для стрельб завели отдельный неймспейс _stress_test_.
Все стрельбы следует проводить только в нем.
Для этого неймспейса не ходим в Аватарницу, а отдаем сгенерированный результат через рандомный промежуток времени.


# Как пострелять

## Lunapark

Чтобы пострелять по пике нужно:
- сгенерировать патроны
    - go build в [директории](../gun/ammo-gen)
    - запустить полученный бинарник
    - в [файле](../gun/ammo-gen/ammo.json) будут патроны
- заполнить конфиг стрельбы на [Лунапарке](https://lunapark.yandex-team.ru/firestarter/), используя [шаблон](../gun/shoot_template.yml).
- запустить стрельбу

[Пример стрельб](https://lunapark.yandex-team.ru/VSDATA-1210)
 
[Стрельбу](https://lunapark.yandex-team.ru/2639364#tab=test_data&tags=&plot_groups=main&machines=&metrics=&mobile=&slider_start=1608710032&slider_end=1608710332) можно считать референсной.
    
## Локально

Можно запустить стрельбы локально:
- сгенерировать патроны
    - go build в [директории](../gun/ammo-gen)
    - запустить полученный бинарник
    - в [файле](../gun/ammo-gen/ammo.json) будут патроны
- make protoc & make build в [директории](../gun)
- запустить полученный бинарник


