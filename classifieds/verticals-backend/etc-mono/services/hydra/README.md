# Hydra

## hydra-profile

### Назначение
Предоставляет сервисы персистентных счетчиков и лимитеров

Чтобы создать тикет на заведение нового счётчика или лимитера, заполните [форму](https://forms.yandex-team.ru/surveys/76551/).

### Где живёт
Testing: http://hydra-profile-api-http.vrts-slb.test.vertis.yandex.net

Stable: http://hydra-profile-api-http.vrts-slb.prod.vertis.yandex.net

### Основные сущности
**clicker** - неуникальный счетчик

**limiter** - фактически это то же самое, что и clicker, только с обратным отсчетом

**token counter** - уникальный счетчик. Каждый инкремент имеет идентификатор. Два инкремента с одним идентификатором увеличат значение счетчика только на один

**eternal clicker** - неуникальный счетчик без протухания

Все сущности, кроме **eternal clicker** работают в *движущемся окне*, то есть имеют ттл.

### Имплементация
В качестве хранилища используется Cassandra.

Каждая сущность живет в отдельной таблице.

Ттл определяется на уровне таблицы.

Так же есть слой кэширования на основе redis.

### Поддержка
[Как завести новый кликер](profile-api/docs/clicker.md)

[Как завести новый лимитер](profile-api/docs/limiter.md)

[Документация Hydra API](https://wiki.yandex-team.ru/vertis/hydra/API/#apiv2)
