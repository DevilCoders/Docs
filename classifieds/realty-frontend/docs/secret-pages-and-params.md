# Секретные страницы и параметры

## Страницы

Есть секретные страницы, которые доступны только внутри сети
или для пользователей с `sid 669` (публичные пользователи привязанные к staff).

### /version

Страница с номером версии и переменными окружения. Доступна внутри сети.

### /experiments

Страница с экспериментами.
Доступна в `development` и `testing` для всех, а в `production` для пользователей с `sid 669`.

### /resources

Страница, на которой можно временно изменить url конкретного ресурса для текущего пользователя. Если на бэкенде поднята отдельная виртуалка для фичи, то можно подключить ее к фронтовой сборке без выкатывания в тестинг. Доступна в `development` и `testing` для всех. Не доступна в проде.

## Параметры

Также, у нас есть секретные параметры для страниц

### ?disable-api=<resource_name>

Позволяет задизейблить ручку(вызов api), бывает полезно при тестировании, чтобы проверить поведение
итерфейса при плохом ответе бекенда.

Пример:
```
?disable-api=region_info.get
```

### ?uid=<user_uid> на смешанной выдаче

Позволяет отфильтровать офферы по юзеру. Удобно когда нужно работать со сниппетом собственного оффера.

### /management-new/cc/007/?cc_current_user=1

Чтобы попасть в личный кабинет юзера, направленного из колл-центра, нужно пройти длинный путь в конце которого нужно получить короткий код для доступа (в примере выше это "007"). Для удобства разработки и тестирования можно воспользоваться параметром `cc_current_user=1`. Он позволит зайти в ЛК с произвольным кодом, а в качестве юзера по которому будут получены офферы будет использован текущий авторизованный пользователь. Работает только в деве и тестинге.

### ?moderator=1

В тестинге на карточке оффера даёт права на показ блока модерации.

### ?bizdev=1

В тестинге дает все права биздева. Нужно для захода под другим юзером (через параметр vos_user_login).

### ?vos_user_login=\<uid>

Возможность зайти в сервис под видом дугого пользователя. Функционал при этом будет ограничен в зависимости от выданных прав. В тестинге для получения всех необходимых прав достаточно добавить параметр ?bizdev=1. Для доступа в проде необходимо заказать нужные права в [IDM](https://idm.yandex-team.ru) - "Внутренние сервисы вертикалей -> Пользовательские группы -> Биздев Недвижимости".

### ?_ym_debug=1

Для проверки, что цели яндекс метрики отправляются. [Подробнее](https://yandex.ru/support/metrica/general/check-goal.html).

### ?_branch=<branch_name>

Проставляет куку `_branch=<branch-name>`, тем самым позволяет зайти на бранч, раскатанный в продакшене.

### ?expFlags=<exp_name>

Включает эксперимент <exp_name>, после чего перезагружает страницу, чтобы эксперимент применился.
Если передано несколько экспериментов - будет применён только первый из списка.
Пример использования:
```
?expFlags=REALTYFRONT-17_simple_exp_name
```
