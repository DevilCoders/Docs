# Данные выгруженные из S3

Бекенд выгружает для нас разного рода данные в яндексовое хранилище S3 для использования их на фронте без похода в ручки. Это даёт ощутимый бонус в производительности без похода в другой сервис за ними. Данные обновляются бекендом с какой-то периодичностью и их нужно обновлять у нас.

## Как выгрузить данные

Для получения данных из S3 для локальной разработки необходимо выполнить: make get-s3-data. Данная команда выполняется автоматически при билде проекта, руками это нужно делать только если вы хотите загрузить свежие данные. В тестовом и продовом окружение данные обновляются автоматически.

## Формат выгружаемых данных

Посмотреть на формат выгружаемых данных можно [в файле с типами](../app/lib/data/types.ts).

На первой строчке находятся названия файлов в хранилище (agencyInfo, например). Далее перечисленые модели выгружаемых данных, например [дерево регионов](../app/lib/data/types.ts#L22)

## В какие файлы s3 выгружаются данные

Сейчас для тестинга базовый урл выглядит так: https://s3.mds.yandex.net/vertistraf/resources/realty/testing

Чтобы получить, например застройщиков, урл будет: https://s3.mds.yandex.net/vertistraf/resources/realty/testing/developerInfo/current.json, где developerInfo это название файла из типов.
