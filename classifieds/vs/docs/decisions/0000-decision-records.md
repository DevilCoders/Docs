# ЖИР-0000: Ведём журнал избранных решений (ЖИР)

* Статус: предложено
* Ответственные: @ya-goodfella
* Дата: 2021-11-24

## Контекст и постановка проблемы

При решении каких-то технических и бизнес-проблем в группе часто возникает необходимость в том, чтобы сохранялись
какие-то документальные описания контекста проблемы и возможных путей её решения. Предлагается вести журнал таких
решений в формате, предложенном в этом документе.

## Предпосылки к решению

* Сложно помногу раз объяснять всем почему делается то или иное
* Разность контекстов даже внутри команды
* Даже существующая документация динамична и быстро устаревает
* Нет механизмов версионирования решений

## Рассмотренные варианты решения

* Писать в [вики](https://wiki.yandex-team.ru/)
* Писать в [тикетах](https://st.yandex-team.ru/VS/)
* Писать в формате [ADR](https://adr.github.io/) в репозитории

## Избранное решение

Будем писать записи в ЖИР в формате [ADR](https://adr.github.io/). Для этих целей в этой директории есть файл
template.md, который можно использовать как образец.

### Положительное влияние

* Обо всех решениях будет оставаться хотя бы короткая записка почему выбрано это решение и что оно из себя представляет
* Принятые решения лежат рядом с кодом в определенном формате и нумеруются. На них можно ссылаться, в том числе из
самого кода.

### Отрицательное влияние <!-- optional -->

* Нужно будет прилагать усилия, чтобы приучить людей пользоваться ЖИРом.

## Плюсы и минусы различных вариантов <!-- optional -->

### Писать в Вики

Пример: https://wiki.yandex-team.ru/vertis/search/vasgen/

#### +
* Текст диздока индексируется внутренним поиском
* Есть опциональный WYSIWYG редактор
#### -
* Страницы быстро расползаются по личным кластерам сотрудников и могут перекопироваться
* Нет возможности сделать изменение в рамках PR одновременно с кодом

### Писать в тикетах

#### +
* Документ можно связать с тикетами, которые образуют контекст проблемы
* Текст попадает в индекс поиска по стартреку (только описание)
#### -
* Тикеты быстро теряются
* У тикетов сложный lifecycle, есть ощущение, что это натяжка совы на глобус

### Писать в формате [ADR](https://adr.github.io/) в репозитории

#### +
* Простой формат
* Лежит и развивается вместе с кодом
* Принимается через PR и обсуждения, обсуждение остаётся в PR
* Легче ссылаться на ADR лежащие в одном репозитории
#### -
* Нет полноценного поиска по тексту ADR
