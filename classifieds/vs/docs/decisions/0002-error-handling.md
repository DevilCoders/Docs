# {ЖИР-0002: Обработка ошибок в ZIO}

* Статус: предложено
* Ответственные: @corney
* Дата: 2022-04-12

## Контекст и постановка проблемы

Когда мы начали проект, мы использовали в качестве контекста ошибок тип VasgenStatus и его производные. Изначальная
мысль была в том, что мы можем ввести специальные типы ошибок, которые можем ловить там, где требуется их особая
обработка.

Это привело к перегруженности типа `VasgenStatus` и к бездумному оборачиванию ошибок типа `Throwable` в этот тип.

## Рассмотренные варианты решения

* Оставить все, как есть
* Перейти к упрощенному варианту обработки ошибок:
    * Если есть возможность варианты `ZIO`, предлагающие работу без ошибок, использовать их (`UIO`, `URIO`)
    * Если предполагается отдельная реакция на различные типы ошибок, то имеет смысл выделить их в коде, чтобы потом
      использовать их в контексте логики приложения (см. `S3Exception`, `S3NotFound`, `S3NotModified`)
    * Во всех прочих ситуациях стараться обходиться типом `Task`

## Принятое решение

Выбрали вариант: Перейти к упрощенному варианту обработки ошибок.

* Легче код
* Глядя на возвращаемый тип сразу понятно, стоит ли ожидать нестандартной реакции на события

<!-- markdownlint-disable-file MD013 -->
