### Прием документов на индексацию

Ресивер принимает на вход сообщение 
[WriteRequest](https://github.com/YandexClassifieds/schema-registry/blob/02a95ad77120b250e8a39d99e6bf197330990b7c/proto/vertis/vasgen/grpc/receiver.proto#L20),
содержащее список сообщений, нуждающихся в отправке, политику, в соответствии с которой нужно отбрасывать сообщения, 
не прошедшие валидацию и домен, в соответствии с которым осуществляется маршрутизация сообщений. 

Так как в настоящее время для каждого проекта есть свой экземпляр ресивера, поле domain является устаревшим и будет
удалено в одной из следующих версий протокола.

Поле `policy` может принимать одно из следующих значений:

- DROP_FIELD, значение по умолчанию. В случае, если в запросе указана именно такая политика, документ отправляется на 
  индексацию в случае, если у него есть ошибки уровня "поле". Документы с ошибкой в структуре документа или с невалидным 
  первичным ключом на индексацию не отправляются.
- DROP_DOCUMENT В случае, если в запросе указана такая политика, документ, содержащий хотя бы одну ошибку, на 
  индексацию не отправляется.
- DROP_REQUEST В случае, если в запросе указана такая политика, все документы сообщения отбрасываются и не попадают на 
  валидацию
  
Отправленное в receiver сообщение проходит валидацию, которая информирует о различных неконсистентностях сообщения.
После валидации и отсылки сообщения на индексацию, сервер создает ответ, содержащий в поле `error` информацию о 
возникших в процессе валидации и дальнейшей отсылки сообщения ошибках, а так же поле `status`, содержащее информацию 
о том, было ли сообщение отправлено на индексацию.
