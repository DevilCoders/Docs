# FAQ-черновик

Мы всё ещё динамично развивающаяся компания, но уже не стартап.
Поэтому новым людям бывает сложно разобраться в проекте, несмотря на наличие доков.
Пока что решили все wtf записывать сюда, а знающие ответы – будут отвечать)
Отвеченные вопросы постепенно будем переносить в соответствующие доки, чтобы не превращать этот в свалку.

##  npm ERR! Maximum call stack size exceeded
Периодически возникает такая ошибка. В простом случае, она лечится выполнением `npm ci` в корне проекта.
Если нет, нужно найти сломанные симлинки запуском этой команды в корне проекта: `find -L . -type l -ls | grep 'File system loop detected'`.
Найденные сломанные симлинки нужно удалить и пересоздать (например, `rm www-mobile/node_modules && ln -rs node_modules www-mobile/node_modules`).

## Где хранить всякие реиспользуемые статичные данные
Для начала нужно убедиться, что эти данные в самом деле реиспользуемые. Точно ли есть несколько мест, где они нужны? Не нужно закладываться на "а если через сто лет нам понадобится ...".

Дальше, нужно задать вопрос: есть ли потребность, чтобы менеджеры/маркетологи/... сами правили бы эти данные. Если нет, то правильно положить json с этими данными куда-нибудь в `auto-core/data`. Если же да, то правильно положить их в [Бункер](https://bunker.yandex-team.ru/auto_ru/).

[Как работать с Бункером](./bunker.md).

## Какой Component правильно использовать

Правильно использовать `React.PureComponent` или, если есть причины, `React.Component`.

## Неотвеченное

- У меня наибольшие сложности возникали с пониманием как передаются данные по шагам от контроллера до компонента /zyuzin
- Сходу сложно понять, где что лежит в каждом проекте и что уже легаси, а что пока нет /loukianov
- Постоянно забываю, откуда и когда появляется state /ngkim
- Если action используется в двух и более папках внутри dataDomain, то куда его вынести?
- Как правильно настроить виртуальную машинку и приступить к работе. В уже имеющемся [описании](https://a.yandex-team.ru/arcadia/classifieds/autoru-frontend/docs/first-steps.md) нет информации про realsync и т.д. /alivander
- Очень тяжело бывает найти какой запрос в какую ручку ходит
- Как настраивать параметры метрики? Как проверить что все было сделано правильно? /1n1t

### Первый день

- Запросить доступ в гитхаб
- Добавить ssh-ключ на staff
- Создать задачу на создание виртуалки, например, https://st.yandex-team.ru/VERTISADMIN-20034
- Проблема с ipv6 (ping6 yandex.net не работал) и коннектом на виртуалку решилась перезапуском wi-fi
- Ошибка `Error watch filename.js ENOSPC`.
Ответ: ошибка возникает, когда одновременно запущено несколько проектов. По-умолчанию в linux стоит довольно маленькое число количества файлов, за изменениями в которых может смотреть процесс. Чтобы увеличить это число, надо выполнить команду
```
echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf && sudo sysctl -p
# если в ответ пишется "Read-only file system", то надо писать админам. Они обещали это исправить.
```
- долгая сборка была из-за проблемной памяти хоста виртуалки
