# Сборка
В корне проекта расположен makefile, у которого есть набор следующих основных целей:
 * **`stop`** - Завершение работы проекта
 * **`start`** - Запуск проекта
 * **`restart`** - Перезапуск проекта
 * **`build`** - Сборка проекта
 * **`clean`** - Чистка проекта
 * **`test`** - Запуск линтеров
 * **`privs`** - Запуск `enb`-сборщика для сборки `*.priv.js` и `*.bh.js` в бандл
 * **`enb-make`** - Запуск `enb`-сборщика для сборки всех бандлов
 * **`configs`** - Переинициализация текущего конфига
 * **`deps`** - Обновление зависимостей `npm` пакетов
 * **`react`** - Сборка react-бандла через webpack
 * **`react-watch`** - Запуска webpack в режиме watch (автоматическая пересборка)


После добавления/изменения/удаления файлов `*.bh.js`, `*.priv.js`, `*.deps.js`, нужно выполнить команду `make privs`.

После изменения js-файлов внутри `app` (или любых файлов, которые использует node.js) ничего специального делать не нужно, node.js приложение будет перезапущено автоматически, о чем будет запись в `debug.log`.

После изменения `styl`-файлов и `js`-файлов из папки `blocks` (БЭМ-часть проекта) БЭМ-бандл пересобирается автоматически.

После изменения `css`-файлов и `js`-файлов из папки `react` (React-часть проекта) бандл надо пересобирать вручную с помощью `make react` или вотчер `make react-watch`.

После `git pull` или `git checkout` нужно обязательно выполнять команду `make deps`, так как могли добавиться/измениться `npm` зависимости.
