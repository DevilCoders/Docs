# Первые шаги

Здесь описан пошаговый процесс разворачивания проекта фронта [Авто.ру](https://auto.ru).
Проект включает в себя серверное Node.js приложение и клиентский код (все в одной монорепе).

<a name="project_ssh"></a>
## Настройка ssh
Как правильно настроить ssh, написано в [вики](https://wiki.yandex-team.ru/diy/macos/ssh/#generacijaparykljuchejj).

<a name="project_init"></a>
## Запуск проекта

Для настройки используется [ansible](https://docs.ansible.com), ставим его через `brew`

```bash
brew install ansible
```

1. Клонируем репозиторий:

 ```bash
 cd ~
 git clone git@github.com:YandexClassifieds/autoru-frontend.git
 ```

2. Конфигурируем окружение
 ```bash
 cd autoru-frontend
 make ansible-local
 ```
При установке скрипт попросит sudo-пароль (`BECOME password:`), если плейбук завис на `TASK [Gathering Facts] ok: [localhost]` - скорее всего пароль введён неправильно

Первоначальный запуск может быть долгим из-за скачивания бинарников геобазы (~1.6Gb), все повторные запуски будут использовать существующий кэш.
После установки может понадобиться перезапустить терминал или выполнить `source ~/.zshrc` или `source ~/.bash_profile`, чтобы nvm и node были доступны.

3. Собираем нужный проект
```bash
 cd <PROJECT_NAME>
 make
 ```
 где `<PROJECT_NAME>` - это `www-mobile`, `www-desktop`, `www-cabinet` или `www-poffer`. После

Для более удобной разработки можно включить вебпак-вотчер и логи, итого будет три вкладки терминала:
 ```
 1. make react-watch - вебпак-вотчер (клиентский код есть не во всех проектах, возможно он вам не нужен)
 2. make start - само приложение на ноде (локально оно запускается не в фоне, а в текущем терминале - для более удобного контроля)
 3. make logs - логи (их также можно смотреть через IDE в директории проекта, например `www-desktop/logs/debug.log`)
 ```

4. Наслаждаемся результатом
Если все прошло хорошо, то сайт будет доступен по URL (проект `www-desktop`):
`https://autoru-frontend.local.dev.avto.ru/`

<a name="project_editor"></a>
## Настройка редактора для работы с кодом

Для более удобной работы с проектом можно выбрать и настроить редактор кода в соответствии с [этой докой](./editor.md)

## Что дальше?
Прочти другие важные доки из [списка](./README.md): всё про работу с React, как мы пишем css, что такое descript, как происходит процесс работы над задачей и многое другое.
