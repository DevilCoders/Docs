# Отправка логов с клиента на сервер

В каждом проекте есть поддержка добавления в error и debug логи на сервере собственных строк.

Нужно это для поиска проблем в конкретной вкладке пользователя.
Чтобы по page-request-id связать то, как страница генерировалась с тем, что происходило после загрузки (запросы в апи и тд), и действиями пользователя/изменениями в интерфейсе (которые и предполагается логировать с помощью описываемого инструмента).

## Использование

```js
const clientLog = require('auto-core/lib/clientLog');

// запись в debug log
clientLog.debug('debug message');

// запись в error log
clientLog.error('error message');
```

Обе функции принимают строки.

## Поиск в логах

В логи падает отправленная строка с префиксом `CLIENT:` с добавлением текущей даты на клиенте в формате `YYYY-MM-DD HH:mm:ss.SSS`

Формат:
```
DEBUG CLIENT LOG: <дата с клиента> <page-request-id> <app-id> <версия клиента>/<версия сервера> <отправленное сообщение>

ERROR CLIENT LOG: <дата с клиента> <page-request-id> <app-id> <версия клиента>/<версия сервера> <отправленное сообщение>
```

## Нагрузка

Можно делать логирование более или менее часто.
Строки на клиенте накапливаются и отправляются на сервер группами не более 20 записей не реже чем в 100ms 
