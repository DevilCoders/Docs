# Запуск сервиса на локальной машине

### Вариант первый (автоматический)

С помощью макроса `shiva_service` - создайте новый таргет рядом с бинарником, который вы хотите запускать и укажите ему название сервиса в шиве, как показано ниже:
```python
load("//tools/shiva:rules.bzl", "shiva_service")

scala_binary(
    name = "api",
    ...
)

...

shiva_service(
    name = "service",
    service_name = "gost-api",
    binary = ":api"
)
```

После этого вы сможете запустить свой сервис, указав нужный `shiva_service` в качестве таргета.

Скрипт, сгенерированный `shiva_service`, обменяет ваш ssh-ключ на OAuth-токен, подтянет из шивы тестовые конфиги вашего сервиса и зарезолвит все секреты, используя полученный OAuth-токен.

### Вариант второй (ручной)

Прописать руками все конфиги, которыми можно делиться, в "application.development.conf" и все, которыми делиться нельзя,
в "application.local.conf". После этого можно запускать нужный `scala_binary`.
