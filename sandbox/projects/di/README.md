## Сандбокс-машинерия Интерфейса Дистрибуции (DI).

https://wiki.yandex-team.ru/DI/

### Поддержка релизов для SOX-сервисов Интерфейса Дистрибуции

**Поддержано для задач**
- [BUILD_PYDI_FRONTEND](https://a.yandex-team.ru/arc/trunk/arcadia/sandbox/projects/di/build/build_front)

#### Общее описание
Для релиза ресурса в SOX-сервис используется несколько странная машинерия. Сперва задача сборки прихранивает во внутренности ресурса файлик с именем тэга сборки. Затем вычисляет контрольную сумму файла(-ов) релиза и отправляет пару сумма-тэг в секретницу. При этом число записей в секретнице может быть обрезано до заданного числа "свежих" релизов, и только эти записи будут считаться валидными при проверке кода (поддержка нескольких ревизий важна для маневров с откатом-накатом релизов).

#### Описание SOX-параметров задачи
- `Build version` - тот самый тэг релиза, должен быть уникальным;
- `Name of Yandex Vault secret for checksums` - имя секрета, в котором хранятся пары тэг-чексумма (для конкретного типа задачи);
- `Name of Yandex Vault secret for releases` - имя секрета, в котором хранится история релизов (для конкретного типа задачи);
- `Sox tool binary` - временное решение в ожидании схождения [голсы](https://goals.yandex-team.ru/filter?goal=14128), лучше использовать последний собранный ресурс.
