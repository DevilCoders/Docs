# Arcadia CI F.A.Q.

В данном разделе описаны известные проблемы, с которыми может столкнуться разработчик морды в Arcadia.

### Упал кубик в CI, где найти причину?

При неуспешном завершении тасклета информацию об ошибки можно найти либо в информации о кубике в CI (в случае, если тасклет не дошел до исполнения в sandbox), либо в логах sandbox задачи, перейти в которую можно кликнув на иконку sandbox в кубике.

### Yappy бета не создалась, кубик пишет про timeout

Бывают ситуации, когда беты в Yappy создаются дольше обычного, и вылезают за timeout в тасклете по созданию беты. В большинстве случаев помогает перезапуск кубика.

Если бета все равно не создается (и продолжительное время после падения кубика бета все еще в состоянии inconsistent), скорее всего что-то сломалось на стороне Yappy. Уточнить можно в чате поддержки [Priemka support](https://t.me/joinchat/TKUtWxbFTvmkbYEi). Если же бета успешно переходит в состояние consistent, но ей требуется больше чем timeout времени, то можно увеличить timeout в [коде](https://a.yandex-team.ru/arc/trunk/arcadia/portal/avocado/tasklets/utils/yappy.py?rev=r8373342#L17).

### Yappy бета не создается после ручных правок чего-либо

В этом случае скорее всего поможет деаллокация и удаление беты и повторный запуск кубика.

### При релизе фейлится кубик обновления статуса тикета после testing'а

В очереди HOME отсутствует переход из "Тестируется" в "Выкладывается" для тикетов. Предполагается, что релизный тикет должен быть переведен в состояние "Протестировано" ответственным QA. После ручного изменения статуса тикета на "Протестировано" повторный запуск кубика переведет тикет в состояние "Выклыдывается".

### При релизе фейлится кубик

Тасклеты для релиза используют много других сервисов посредством API, которые иногда могут быть недоступны. В этом случае:
1. Перезапустить кубик
2. Если кубик все так же завершается с ошибкой, проверить, выполнились ли действия, которые кубик должен был сделать
3. В случае, если действия кубика не были выполнены, выполнить их руками

На данный момент ситуации, когда приходилось вклиниваться в релизный процесс руками, не случалось.

### При релизе фейлится кубик после ручных изменений в Nanny

Тасклеты релизного flow ожидают, что сервис будет находиться в том же состоянии, в котором его оставили предыдущие выполненный тасклеты. По этой причине, если какой-либо кубик не может выполниться после ручных манипуляций (например, выбор другого snapshot'а в качестве current), необходимо вернуть состояние до изменений, либо отменить текущий релиз и стартовать новый flow.
