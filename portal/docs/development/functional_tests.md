## –§—Ä—ç–π–º–≤–æ—Ä–∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥ —Ç–µ—Å—Ç–æ–≤ - –ö–æ—Ç—ç üòª
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è —Å–ª–∞–±–∞–∫–æ–≤, —Å–∫–æ—Ä–µ–µ –ø–æ–∫–∞–∂–∏ [–ø—Ä–∏–º–µ—Ä—ã!](https://docs.yandex-team.ru/portal/development/functional_tests#primery-kote)
- –°–∫–æ—Ä–µ–µ –ø–æ–ø—Ä–æ–±—É–π [–≤–µ–± üåé –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ](https://docs.yandex-team.ru/portal/development/functional_tests#veb-interfejs-kote-%F0%9F%8C%8E) –ö–æ—Ç–µ, –∂–¥–µ–º –æ—Ç–∑—ã–≤–æ–≤ –∏ —Ñ–∏—á—Ä–µ–∫–≤–µ—Å—Ç–æ–≤!

### –ó–∞–ø—É—Å–∫


–§—Ä—ç–π–º–≤–æ—Ä–∫ –∂–∏–≤–µ—Ç –≤ function_tests/tests/kote/ [—Å–º. Arcanum](https://a.yandex-team.ru/arcadia/portal/main/function_tests/tests/kote).

–í—Å–µ —Ç–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —Ä–∞–∑–æ–º –≤ —Ñ–∞–π–ª–µ ```test_run_tests.py```, –µ–≥–æ –∑–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –æ–±—ã—á–Ω—ã–µ —Ç–µ—Å—Ç—ã.
```
./venv/bin/py.test tests/kote/test_run_tests.py -s --morda_env=v175d0.wdevx
```

–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä ```--tests_path``` –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç–µ—Å—Ç –∏–ª–∏ –ø—Ä–æ–≥–Ω–∞—Ç—å –ø–∞–ø–∫—É —Å —Ç–µ—Å—Ç–∞–º–∏.

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ yaml —Ñ–∞–π–ª–∞:
```
./venv/bin/py.test tests/kote/test_run_tests.py -s --tests_path=./tests/kote/tests/api/search/2/topnews_extended/test_favorites_off_by_option.yaml --morda_env=v175d0.wdevx
```
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–∞–ø–∫–∏:
```
./venv/bin/py.test tests/kote/test_run_tests.py -s --tests_path=./tests/kote/tests/api/search/2/topnews_extended/ --morda_env=v175d0.wdevx
```

–°–∞–º–æ—Ç–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è, –µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ --tests_path –∑–Ω–∞—á–µ–Ω–∏–µ self_test:
```
./venv/bin/py.test tests/kote/test_run_tests.py -s --morda_env=v209d0.wdevx --tests_path=self_test
```

–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä ```--morda_env``` –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –¥–µ–≤–µ, –ø–æ –¥–µ—Ñ–æ–ª—Ç—É —Ä–∞–≤–µ–Ω production, —Ç–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –Ω–∞ –ø—Ä–æ–¥–µ. –í–µ–∑–¥–µ –¥–∞–ª–µ–µ {env} - –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ –º–µ—Å—Ç–∞, –∫—É–¥–∞ –º—ã —Ö–æ–¥–∏–º.

–¢–µ—Å—Ç—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –∏–∑ —Å–µ–±—è yaml-–¥–æ–∫—É–º–µ–Ω—Ç—ã, –≥–¥–µ –ø—Ä–æ–ø–∏—Å–∞–Ω–æ, –∫—É–¥–∞ –∏ —Å –∫–∞–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –º—ã —Ö–æ–¥–∏–º, —Ç–æ, —á—Ç–æ —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å + –ø—É—Ç—å –¥–æ —Å—Ö–µ–º—ã. 

{% note warning %}

–ó–∞–ø—É—Å–∫–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã, –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 'test', –Ω–∞–ø—Ä–∏–º–µ—Ä, 'test_touch_topnews.yaml'. –°–∞–º–æ—Ç–µ—Å—Ç—ã, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –≤ –ø–∞–ø–∫–µ tests/framework_test/ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è.

{% endnote %}

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å [–ø—Ä–∏–º–µ—Ä](https://paste.yandex-team.ru/6225553)

### –ë–ª–æ–∫–∏ –≤ –∫–æ–Ω—Ñ–∏–≥–µ

–Ø–º–ª —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ 5 –±–ª–æ–∫–æ–≤: `meta`, `config`, `get_params`, `result` –∏ `schema`:

#### meta

* `meta` - –±–ª–æ–∫, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –æ–±—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ—Å—Ç–µ. –í –±–ª–æ–∫–µ `meta` –µ—Å—Ç—å 2 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª—è: `task` –∏ `desc`
    * `task` - –Ω–æ–º–µ—Ä —Ç–∞—Å–∫–∞
    * `desc` - –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∫–µ–π—Å–∞
    * `xfail` - –ø—Ä–∏ –∑–Ω–∞—á–µ–Ω–∏–∏ True —Ç–µ—Å—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ xfail (–ø—Ä–æ—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ –ø–∞–¥–∞–µ—Ç –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç)

#### config

* `config` - —Å–ª–æ–≤–∞—Ä—å, –≤ –∫–æ—Ç–æ—Ä–æ–º —É–∫–∞–∑–∞–Ω –∫–ª–∏–µ–Ω—Ç –∏ parent (–µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å), –ø–æ–ª–µ `client` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤(—Å–º. `get_params`), —Å–ø–∏—Å–∫–æ–º –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—ã, –¥–æ–º–µ–Ω—ã –∏ path –¥–ª—è url-–∫–ª–∏–µ–Ω—Ç–∞.

    * ```client``` - –∫—É–¥–∞ –∏–¥–µ–º:
        * ```api_search_android``` - –ü–ü –∞–Ω–¥—Ä–æ–∏–¥ –∏–¥–µ—Ç –≤ {env}yandex.ru/portal/api/search/2/?app_platform=android
        * ```api_search_ios``` - –ü–ü ios –∏–¥–µ—Ç –≤ {env}yandex.ru/portal/api/search/2/?app_platform=iphone
        * ```ya_bro_android``` - —è–±—Ä–æ –∞–Ω–¥—Ä–æ–∏–¥ –∏–¥–µ—Ç –≤ {env}yandex.ru/portal/api/yabrowser/2/?app_platform=android
        * ```ya_bro_ios``` - —è–±—Ä–æ ios –∏–¥–µ—Ç –≤ {env}yandex.ru/portal/api/yabrowser/2/?app_platform=iphone
        * ```ya_bro_ipad``` - —è–±—Ä–æ ios –∏–¥–µ—Ç –≤ {env}yandex.ru/portal/api/yabrowser/2/?app_platform=ipad
        * ```desktop``` - –¥–µ—Å–∫—Ç–æ–ø –∏–¥–µ—Ç –≤ {env}yandex.ru/
        * ```touch``` - —Ç–∞—á –∏–¥–µ—Ç –≤ {env}yandex.ru/?content=touch
        * ```ntp``` - –Ω—Ç–ø –∏–¥–µ—Ç –≤ {env}yandex.ru/portal/ntp/refresh_data/
        * ```url``` - –∑–∞–¥–∞–µ—Ç —É—Ä–ª, –∏–¥–µ—Ç –≤–º–µ—Å—Ç–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º ```path``` –≤–∏–¥–∞ ```*/``` –∏–¥–µ—Ç –≤ {env}yandex.ru/path/
        * ```mock``` - –∏–º–∏—Ç–∞—Ç–æ—Ä —Å–µ—Ç–µ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –ó–∞–ø—Ä–æ—Å—ã –Ω–∏–∫—É–¥–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è. –û–∂–∏–¥–∞–µ–º—ã–π "–æ—Ç–≤–µ—Ç" —Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏–∑ —Ñ–∞–π–ª–∞, —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ ```name```. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–∞–º–æ—Ç–µ—Å—Ç–æ–≤ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞. –î–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ json. 
    
    * ```request_body``` - —Ç–µ–ª–æ POST-–∑–∞–ø—Ä–æ—Å–∞. –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –ø–æ–ª—è `request_body` –∑–∞–ø—Ä–æ—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è POST'–æ–º. –í —ç—Ç–æ–º –ø–æ–ª–µ –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è JSON –≤ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–µ YAML'–∞.
    * `parent` - –ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞ —Å —à–∞–±–ª–æ–Ω–æ–º. –®–∞–±–ª–æ–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏–∑ —Å–µ–±—è yaml —Å –∫–∞–∫–∏–º–∏-—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∑–∞–∏–º—Å—Ç–≤—É–µ–º –∏–ª–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º, —Å–µ–π—á–∞—Å –µ—Å–ª–∏ –∏ –≤ —Ç–µ—Å—Ç–µ, –∏ –≤ —à–∞–±–ª–æ–Ω–µ –µ—Å—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–æ–ª—è, –±–µ—Ä–µ—Ç—Å—è –ø–æ–ª–µ –∏–∑ —Ç–µ—Å—Ç–∞. –ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Å–ø–∏—Å–∫–æ–º, —Ç–æ–≥–¥–∞ –æ—Ç—Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∞—è –ª–æ–≥–∏–∫–∞: –≤—Ç–æ—Ä–æ–π —Ñ–∞–π–ª –≤ —Å–ø–∏—Å–∫–µ –≤–æ–∑—å–º–µ—Ç –ø–µ—Ä–≤—ã–π –∫–∞–∫ —à–∞–±–ª–æ–Ω, —Ç—Ä–µ—Ç–∏–π –≤–æ–∑—å–º–µ—Ç –∫–∞–∫ —à–∞–±–ª–æ–Ω —Ç–æ, —á—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å, –≤ –∫–æ–Ω—Ü–µ —Å–∞–º —Ç–µ—Å—Ç –≤–æ–∑—å–º–µ—Ç –∫–∞–∫ —à–∞–±–ª–æ–Ω –æ–±—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

    * `domain` - top-level domain (ru, com, etc.), –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å
    * `sldomain` - second-level domain (yandex, ya, etc.). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è "yandex"
    * `headers` - –∑–∞–≥–æ–ª–æ–≤–∫–∏, –¥–æ–±–∞–≤–ª—è–µ–º—ã–µ –≤ HTTP –∑–∞–ø—Ä–æ—Å—ã
    * `name` - –∏–º—è —Ñ–∞–π–ª–∞ —Å "–æ—Ç–≤–µ—Ç–æ–º" –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ ```mock```
    * `path` - –ø—É—Ç—å –¥–ª—è `url` –∫–ª–∏–µ–Ω—Ç–∞
    * `get_headers_only` - –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏, –∞ –≤ —Ç–µ–ª–µ –Ω–µ json).

–ü—Ä–∏–º–µ—Ä:

``` 
config:
    client: url
    path: portal/ntp/refresh_data/
    domain: ru
    headers:
        Y-Browser-Experiments: MSwyLDM7MiwzLDQ7OCw3LC0xOzY1NDcxMiwwLDk=
        User-Agent: 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.85 YaBrowser/21.11.3.954 (beta) Yowser/2.5 Safari/537.36'

–ó–∞–ø—Ä–æ—Å –ø–æ–π–¥–µ—Ç –ø–æ –∞–¥—Ä–µ—Å—É https://{env}yandex.ru/portal/ntp/refresh_data/?get_param1=get_param1&get_param2=get_param2..
```

```
config:
  client: mock
  name: internal_checks
result:
  re:
    simple_match: [ RE, Test ]
    url: [ RE, 'http(s)?://(www.)?yandex.ru/tests' ]
    start_with: [ RE, '^Bingo' ]
    not_start_with: [ NOT, RE, '^Bingo' ]
    utf: [ RE, '—Ç–µ–∫—Å—Ç –≤ utf8' ]
```
–ó–∞–ø—Ä–æ—Å –Ω–∏–∫—É–¥–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è. –î–∞–Ω–Ω—ã–µ "–æ—Ç–≤–µ—Ç–∞" —Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∏–∑ —Ñ–∞–π–ª–∞ [framework_test/mocks/internal_checks](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/mocks/internal_checks)

#### get_params

* `get_params` - —Å–ª–æ–≤–∞—Ä—å —Å –≥–µ—Ç-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å —Å–ø–∏—Å–∫–æ–º (–∑–∞–¥–∞–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ [], —Ç–µ—Å—Ç—ã –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —Å–ø–∏—Å–∫–∞—Ö)

{% note warning %}

–û–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å–æ —Å–ø–∏—Å–∫–æ–º –≤–æ–∑–º–æ–∂–Ω—ã—Ö get –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–∂–Ω–æ [–∑–¥–µ—Å—å](https://wiki.yandex-team.ru/Morda/Get-parametry/). –ù–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–µ–∑–Ω—ã–º–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ —è–≤–ª—è—é—Ç—Å—è:
- ab_flags - —Ñ–æ—Ä—Å–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–ª–∞–≥–æ–≤
- httpmock - –ø–æ–¥–º–µ–Ω–∞ –æ—Ç–≤–µ—Ç–∞ —Ä—É—á–µ–∫ –Ω–∞ –º–æ–∫–∏
- madm_mocks - –ø–æ–¥–º–µ–Ω–∞ —ç–∫—Å–ø–æ—Ä—Ç–æ–≤ –Ω–∞ –º–æ–∫–∏
- madm_options - —Ñ–æ—Ä—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø—Ü–∏–π –∏–∑ —ç–∫—Å–ø–æ—Ä—Ç–∞ options
- cleanvars - –≤—ã–≤–æ–¥ –∫–ª–∏–Ω–≤–∞—Ä–æ–≤ (–≤–µ–±) –∏–ª–∏ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ raw_data (api)

{% endnote %}

–ï—Å–ª–∏ –µ—Å—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≥–µ—Ç-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∏–º–µ–Ω–∞–º–∏, —Ç–æ –Ω—É–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∏—Ö —Å–ø–∏—Å–∫–æ–º —Å–ø–∏—Å–∫–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `srcskip=TOP_NEWS&srcskip=GREENBOX` –∑–∞–¥–∞–µ—Ç—Å—è –≤ —Ç–µ—Å—Ç–µ –∫–∞–∫ 
```
get_params:
    srcskip: [[TOP_NEWS, GREENBOX]]
```

–ü—Ä–∏–º–µ—Ä:
```
get_params:
    geo: [213, 193, 194]
    time: [12:12:12, 12:12:13, 12:12:14]
    ab_flags: flag1:flag2=1:flag3=flag4=1
```
–ë—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã 9 –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–æ –≤—Å–µ–º–∏ –≤–æ–∑–º–æ–∂–Ω—ã–º–∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ `geo` –∏ `date`.

#### result

* ```result``` - –æ–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç, –º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ/—Ç–∏–ø/None:
  * ```IS_EMPTY``` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ None
  * ```NOT_EMPTY``` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ not None
  * ```IS_INT``` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ int
  * ```IS_DICT``` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ dict 
  * ```IS_ARRAY``` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ list
  * ```IS_STRING``` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—Ç—Ä–æ–∫—É
  * ```IS_EXIST``` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–∞
  * ```NOT_EXIST``` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–ª—é—á–∞

–ü—Ä–∏ –¥—Ä—É–≥–∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ. –ú–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–¥–∞–Ω —Å–ø–∏—Å–∫–æ–º(–≤ ```[]```), –≥–¥–µ –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç(`NOT`, `AND`, `OR`, `RE` –∏–ª–∏ `CALLBACK`) —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫–æ–º—É '–Ω–µ', –ª–æ–≥–∏—á–µ—Å–∫–æ–º—É '–∏', –ª–æ–≥–∏—á–µ—Å–∫–æ–º—É '–∏–ª–∏', —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é –∏–ª–∏ callback-—Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –∫–æ –≤—Å–µ–º –ø—Ä–æ–≤–µ—Ä–∫–∞–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è.

–î–ª—è —á–∏—Å–ª–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è - –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–∞ —Å—Ç—Ä–æ–∫—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ 'a..b', –≥–¥–µ a –∏ b - —á–∏—Å–ª–∞, —Ç–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ç–æ, —á—Ç–æ a <= value >= b, –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å '>a' (–≤–º–µ—Å—Ç–æ > –º–æ–≥—É—Ç –±—ã—Ç—å <, <=, >=), a –∏ b –º–æ–≥—É—Ç –±—ã—Ç—å –¥—Ä–æ–±–Ω—ã–º–∏, —Ç–æ–≥–¥–∞ –æ—Ç–¥–µ–ª—è–µ–º –¥—Ä–æ–±–Ω—É—é —á–∞—Å—Ç—å —Ç–æ—á–∫–æ–π.

–í `result` –ª–µ–∂–∞—Ç —Å–ª–æ–≤–∞—Ä–∏ —Å —Ç–∞–∫–æ–π –∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, –∫–∞–∫ –≤ –æ—Ç–≤–µ—Ç–µ –∑–∞–ø—Ä–æ—Å–∞:
```
result:
    Mail:
        show: [NOT, 2, 3, 0, 4]
        processed: [OR, 1, 0]
        banner: IS_EMPTY
```

–ó–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ `set-cookie`, –ª–µ–∂–∞—Ç –≤ —Å–ª–æ–≤–∞—Ä–µ `HEADERS` ([–ø—Ä–∏–º–µ—Ä](https://paste.yandex-team.ru/10663067)). –ö–ª—é—á–∏ —ç—Ç–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É. –ï—Å–ª–∏ –∫–ª—é—á–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç, —Ç–æ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –≤ –ø–æ—Ä—è–¥–∫–µ –∏—Ö —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤ –æ—Ç–≤–µ—Ç–µ.

##### –°—Å—ã–ª–∫–∏

–í –∫–∞—á–µ—Å—Ç–≤–µ –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –ø–æ–ª–µ –∏–∑ –±–ª–æ–∫–∞ get_params. –ü—Ä–∏–º–µ—Ä:
```
config: 
    client: desktop
get_params:
    geo: 213
result:
    GeoID: '@geo'
```
–ü—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ —É –ø–æ–ª—è GeoID –≤ –æ—Ç–≤–µ—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∞–∫–æ–µ –∂–µ, –∫–∞–∫ —É –≥–µ—Ç-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞ geo.

##### –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ —Å–ø–∏—Å–æ–∫ –æ–¥–∏–Ω –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ NOT, AND –∏–ª–∏ OR.

–ù–∞–ø—Ä–∏–º–µ—Ä, –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç show –Ω–µ —Ä–∞–≤–µ–Ω 0, 2, 3 –∏–ª–∏ 4, —Ç–æ–≥–¥–∞ –ø–∏—à–µ–º:

`show: [NOT, 2, 3, 0, 4]`

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ show –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏ int –∏ —Ä–∞–≤–µ–Ω 1(—á–∏—Å–ª—É), —Ç–æ –ø–∏—à–µ–º:

`show: [AND, IS_INT, 1]`

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ processed —Ä–∞–≤–µ–Ω –∏–ª–∏ 1 –∏–ª–∏ 0, —Ç–æ –ø–∏—à–µ–º:

`processed: [OR, 1, 0]`

–õ–æ–≥–∏—á–µ—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –±–æ–ª—å—à–∏–º–∏ –∏ –≤–∫–ª—é—á–∞—Ç—å –≤ —Å–µ–±—è –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –ø–∞—Ä—É –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ –∏ –¥—Ä—É–≥–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –ø–æ —Ç–∏–ø—É:

`Stocks: [OR, value: IS_EXIST, [AND, value1: IS_EXIST, value2: IS_EXIST]]`

##### –†–µ–≥—É–ª—è—Ä–∫–∏

–í result –ø–æ–¥–¥–µ—Ä–∂–∞–Ω—ã —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è - –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ —Å–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä RE

–ü—Ä–∏–º–µ—Ä—ã —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π RE:
```
config:
  client: mock
  name: internal_checks
result:
  re:
    simple_match: [ RE, Test ]
    url: [ RE, 'http(s)?://(www.)?yandex.ru/tests' ]
    start_with: [ RE, '^Bingo' ]
    not_start_with: [ NOT, RE, '^Bingo' ]
    utf: [ RE, '—Ç–µ–∫—Å—Ç –≤ utf8' ]
    # RE –≤ —Å–ª–æ–∂–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞
    # combo: [ OR, 'a', 'b', [ RE, zen ], [ RE, core ] ]
```

##### CALLBACK

–ü–æ–ª—è –∏–∑ –æ—Ç–≤–µ—Ç–∞ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ —Å–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä CALLBACK –∏ –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ–º –ø—Ä–æ–≤–µ—Ä—è—Ç—å –æ—Ç–≤–µ—Ç. –§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Ñ–∞–π–ª–µ kote/utils/kote_callback_functions.py. –§—É–Ω–∫—Ü–∏—é –ª—É—á—à–µ –Ω–∞–∑—ã–≤–∞—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ HOME_(–Ω–æ–º–µ—Ä –∑–∞–¥–∞—á–∏)_(—á—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç), —á—Ç–æ–±—ã –Ω–µ –≤–æ–∑–Ω–∏–∫–∞–ª–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ –ø—É—Ç–∞–Ω–∏—Ü—ã. –í —Ñ—É–Ω–∫—Ü–∏—é –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è 2 –∞—Ä–≥—É–º–µ–Ω—Ç–∞: response(–∫—É—Å–æ–∫ –æ—Ç–≤–µ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ–º) –∏ test_path(–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞ —Å —è–º–ª–æ–º).

–ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã —Ö–æ—Ç–∏–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç —Ü–µ–ª–∏–∫–æ–º, —Ç–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–æ–ª–æ–∂–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ kote/utils/kote_callback_functions.py:
```
def HOME_0_example(response, test_path):
    assert isinstance(response, dict), 'Response is not dict\nFailed on test {}'.format(test_path) 
```
–í —Å–∞–º–æ–º —Ç–µ—Å—Ç–µ —É–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ—Å—å –æ—Ç–≤–µ—Ç:
```
config:
    client: desktop
result: [CALLBACK, HOME_0_example]
```
–ò–ª–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ö–æ—Ç–∏–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–ª—å–∫–æ –∫–∞–∫–æ–π-—Ç–æ –∫—É—Å–æ–∫ –æ—Ç –æ—Ç–≤–µ—Ç–∞, —Ç–æ–≥–¥–∞ –Ω–∞–ø–∏—à–µ–º —á—Ç–æ-—Ç–æ —Ç–∞–∫–æ–µ:
```
config:
    client: desktop
result:
    Mail: [CALLBACK, HOME_0_example]
```

#### schema

* `schema` - –±–ª–æ–∫, –≤ –∫–æ—Ç–æ—Ä–æ–º –ª–µ–∂–∞—Ç —Å—Ö–µ–º—ã –∏ –≤—Å–µ, —á—Ç–æ —Å –Ω–∏–º–∏ —Å–≤—è–∑–∞–Ω–æ

–ö–æ—Ä–µ–Ω—å –ø—É—Ç–∏ –¥–ª—è —Å—Ö–µ–º—ã - –ø–∞–ø–∫–∞ function_tests

–ï—Å–ª–∏ —Ö–æ—Ç–∏–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Å—å –æ—Ç–≤–µ—Ç –ø–æ —Å—Ö–µ–º–µ, —Ç–æ –ø—Ä–æ—Å—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ–º –ø—É—Ç—å –¥–æ —Å—Ö–µ–º—ã, –µ—Å–ª–∏ —Ö–æ—Ç–∏–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –±–ª–æ–∫(–±–ª–æ–∫–∏), —Ç–æ –ø–µ—Ä–µ–¥–∞–µ–º –≤ –±–ª–æ–∫ —Å–ª–æ–≤–∞—Ä—å, –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞ –¥–æ –Ω—É–∂–Ω–æ–≥–æ –Ω–∞–º –±–ª–æ–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:
```
schema:
    Weather: path/to/weater/schema/weather.json
    Afisha:
        something: path/to/afisha/something/schema/something.json

–∏–ª–∏

schema: path/to/schema/schema.json
```
–°–µ–π—á–∞—Å –Ω–µ–ª—å–∑—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏ –≤–µ—Å—å –æ—Ç–≤–µ—Ç –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –±–ª–æ–∫–∏ –ø–æ —Å—Ö–µ–º–∞–º, –¥–æ–±–∞–≤–ª—é –ø–æ–∑–∂–µ, –µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —Ç–∞–∫–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å.


### –ü—Ä–æ–≤–µ—Ä–∫–∏ –º–∞—Å—Å–∏–≤–æ–≤

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–∞—Å—Å–∏–≤–æ–≤ –≤–≤–µ–¥–µ–Ω—ã —Å–ª—É–∂–µ–±–Ω—ã–µ —Å–ª–æ–≤–∞ LENGTH, ITEM, FILTER –∏ FILTERED_LENGTH.

- `LENGTH` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª–∏–Ω—ã –º–∞—Å—Å–∏–≤–∞. –ü–æ–¥–¥–µ—Ä–∂–∞–Ω—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã.
- `FILTER` - –∑–∞–¥–∞–µ—Ç —É—Å–ª–æ–≤–∏–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑ –º–∞—Å—Å–∏–≤–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥–µ—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å—Å—è –¥–µ–π—Å—Ç–≤–∏–µ ITEM. –í —É—Å–ª–æ–≤–∏—è—Ö —Ñ–∏–ª—å—Ç—Ä–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ—Ç—ç –ø—Ä–æ–≤–µ—Ä–∫–∏.
- `ITEM` - –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∑–∞–¥–∞–Ω–Ω–æ–º—É —É—Å–ª–æ–≤–∏—é —Ñ–∏–ª—å—Ç—Ä–∞. –ï—Å–ª–∏ —Ñ–∏–ª—å—Ç—Ä –Ω–µ –∑–∞–¥–∞–Ω, –¥–ª—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞.
- `FILTERED_LENGTH` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –∑–∞–¥–∞–Ω `FILTERED_LENGTH: 2`, —Ç–æ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ç–æ, —á—Ç–æ –±—ã–ª–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —Ä–æ–≤–Ω–æ 2 —ç–ª–µ–º–µ–Ω—Ç–∞ –º–∞—Å—Å–∏–≤–∞(–ø–æ–ª–µ–∑–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å–≤—è–∑–∫–µ —Å FILTER). –ï—Å–ª–∏ FILTERED_LENGTH –Ω–µ –∑–∞–¥–∞–Ω, —Ç–æ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ç–æ, —á—Ç–æ –±—ã–ª –ø—Ä–æ–≤–µ—Ä–µ–Ω —Ö–æ—Ç—è –±—ã 1 —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞. –ü–æ–¥–¥–µ—Ä–∂–∞–Ω—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã.

–î–æ–ø—É—Å—Ç–∏–º, —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∞—Å—Å–∏–≤ block –Ω–∞ —Ç–æ, —á—Ç–æ –µ–≥–æ –¥–ª–∏–Ω–∞ –≤—Å–µ–≥–¥–∞ 5, –∞ –≤ –∫–∞–∂–¥–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ –µ—Å—Ç—å –∫–ª—é—á key —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º value, —Ç–æ–≥–¥–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª—É–∂–µ–±–Ω—ã–µ —Å–ª–æ–≤–∞ ITEM –∏ LENGTH:

```
block:
    LENGTH: 5
    ITEM:
        key: value
```

ITEM —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ü–∏–∫–ª –ø–æ –≤—Å–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞–º –º–∞—Å—Å–∏–≤–∞, —Ç–æ –µ—Å—Ç—å –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è —Å –Ω–∏–º –∫–∞–∫ —Å –∏–Ω–¥–µ–∫—Å–æ–º.

FILTER –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫:
```
config:
  client: mock
  name: internal_checks
result:
  filter:
    FILTER:
      f1: test1
      f2: f2
      f3: [ OR, 7, 8, 9 ]
    ITEM:
      message: ok
```

–ú–æ–∫ internal_checks –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å [–∑–¥–µ—Å—å](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/mocks/internal_checks)

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ç–æ, —á—Ç–æ —Ä–æ–≤–Ω–æ 1 —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—è–º FILTER, —Ç–æ –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–∞–∫:
```
array:
    FILTER:
        item_0: IS_INT
        item_1: IS_STRING
    FILTERED_LENGTH: 1
    ITEM:
        item_3: IS_EXIST
```

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–°–µ–π—á–∞—Å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç 2 —Å–ø–æ—Å–æ–±–∞ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –≤ –ö–æ—Ç—ç - –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≥–æ—Ç–æ–≤—ã–º–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –∏–ª–∏ –≥–µ—Ç-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `test_auth`.

#### –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã

–≠—Ç–æ - –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±. –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–∞–∫–∏–º –∫–ª–∏–µ–Ω—Ç–æ–º, –Ω—É–∂–Ω–æ –∫ –Ω–∞–∑–≤–∞–Ω–∏—é –∫–ª–∏–µ–Ω—Ç–∞ –¥–æ–ø–∏—Å–∞—Ç—å `_oauth` –∏–ª–∏ `_session_id` –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ oauth-—Ç–æ–∫–µ–Ω—É –∏–ª–∏ session_id  —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–º –Ω—É–∂–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –≤ —Ç–µ—Å—Ç–µ –¥–ª—è –ø–ø –Ω–∞ –¥–≤—É—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö, —Ç–æ–≥–¥–∞ –±–ª–æ–∫ config –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–∏—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º: 

```
config:
    client: [api_search_android_oauth, api_search_ios_oauth]
```

#### –ì–µ—Ç-–ø–∞—Ä–∞–º–µ—Ç—Ä test_auth

–í —Å–ª—É—á–∞–µ, –∫–æ–≥–¥–∞ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ—á–µ–º—É-—Ç–æ –Ω–µ —Ö–≤–∞—Ç–∏–ª–æ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–∞, –º–æ–∂–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–æ–∫–æ–º –æ—Ç–≤–µ—Ç–∞ –±–ª–µ–∫–±–æ–∫—Å–∞ –∏ –≥–µ—Ç-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º test_auth. –î–ª—è —ç—Ç–æ–≥–æ –º–æ–∫ –æ—Ç–≤–µ—Ç–∞ –±–ª–µ–∫–±–æ–∫—Å–∞(—Ç–æ, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ data) –Ω—É–∂–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ [–ø–∞–ø–∫—É —Å –º–æ–∫–∞–º–∏](https://a.yandex-team.ru/arc_vcs/portal/main/tests/data/http) –∏ –≤ —Å–∞–º–æ–º —Ç–µ—Å—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –≥–µ—Ç-–ø–∞—Ä–∞–º–µ—Ç—Ä test_auth —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `'oauth_token@mock_name'` –∏–ª–∏ `'session_id@mock_name'` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω—É–∂–Ω–∞(oauth –∏–ª–∏ session_id). –ö–∞–∫ –ø—Ä–∏–º–µ—Ä - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ –∏–∑ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤:

```
config:
  parent: tests/kote/clients/touch.yaml
get_params:
  test_auth: 'oauth_token@blackbox_testing_1'
```

### –§–ª–∞–ø–æ–¥–∞–≤
–§–ª–∞–ø–æ–¥–∞–≤ —Å–æ–∑–¥–∞–Ω —Å —Ü–µ–ª—å—é –±–æ—Ä–æ—Ç—å—Å—è —Å —Ñ–ª–∞–ø–∞—é—â–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏. –†–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫ –∂–µ, –∫–∞–∫ —Ä–µ—Ç—Ä–∞–∏ –≤ —Å—Ç–∞—Ä–æ–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–µ. –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä `--retry_count=n`, –≥–¥–µ n - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Ç—Ä–∞–µ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, 0). –í –º–µ–π–∫–µ –ø—Ä–æ–ø–∏—Å–∞–Ω –∫–∞–∫ RETRY_COUNT. 

### –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å –ø—É–ª–ª-—Ä–µ–∫–≤–µ—Å—Ç–æ–≤
–ë—É–¥–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ, –∫–æ–≥–¥–∞ –≤—ã–µ–¥–µ—Ç —ç—Ç–æ—Ç [—Ç–∞—Å–∫](https://st.yandex-team.ru/HOME-79625).

–°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `--yt_collect=1` –≤ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–µ –∏–ª–∏ `YT_COLLECT=1` –≤ –º–µ–π–∫–µ. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ, —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å —Ñ–ª–∞–ø–Ω—É–≤—à–∏–µ (–µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä --retry_count –∏–ª–∏ RETRY_COUNT) –∏ —É–ø–∞–≤—à–∏–µ —Ç–µ—Å—Ç—ã. –ó–∞—Ç–µ–º —ç—Ç–∏ —Ç–µ—Å—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ [yt](https://yt.yandex-team.ru/hahn/navigation?path=//home/morda/function_tests/rc_tests) –∏ –≥–æ–ª–æ–≤–∞–Ω, –æ—Ç–¥–µ–ª—å–Ω–æ [—É–ø–∞–≤—à–∏–µ](https://yasm.yandex-team.ru/chart/signals=push-morda_kote_fails1_num_tttt;hosts=ASEARCH;itype=portal-yasm-proxy/) –∏ [—Ñ–ª–∞–ø–Ω—É–≤—à–∏–µ](https://yasm.yandex-team.ru/chart/signals=push-morda_kote_flaps_num_tttt;hosts=ASEARCH;itype=portal-yasm-proxy/). –°–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –∑–∞ —ç—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç, –∂–∏–≤–µ—Ç –≤ kote/utils/yt_sender.py
 
## –ü—Ä–∏–º–µ—Ä—ã –ö–æ—Ç—ç

{% note warning %}

–í–æ –≤—Å–µ—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö –º–æ–∫ internal_checks, –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª–∏–∫ –∂–∏–≤—É—â–∏–π [—Ç—É—Ç](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/mocks/internal_checks)

{% endnote %}


‚Ññ1. [–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ –∫–ª–∏–µ–Ω—Ç –ø–ø –∞–Ω–¥—Ä–æ–∏–¥–∞ –±–µ–∑ –≥–µ—Ç-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –∫–æ–¥ 200](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_1.yaml)
```
config:
    client: api_search_android
```

‚Ññ2. [–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ –∫–ª–∏–µ–Ω—Ç –¥–µ—Å–∫—Ç–æ–ø–∞ —Å –¥–æ–º–µ–Ω–æ–º ua, –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–¥ 200](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_2.yaml)

```
config:
    client: desktop
    domain: ua
```

‚Ññ3. [–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ —Ä–∞–∑–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ –¥–æ–º–µ–Ω–∞–º–∏(–≤—Å–µ–≥–æ 6 –∑–∞–ø—Ä–æ—Å–æ–≤)](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_3.yaml)

```
config:
    client: [desktop, touch]
    domain: [ru, ua, by]
```

–í `[]` –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π, —Ç–æ–≥–¥–∞ –Ω–∞ –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –∑–∞–ø—Ä–æ—Å

‚Ññ4. [–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å—ã –≤ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –ø—É—Ç—å —á–µ—Ä–µ–∑ url-–∫–ª–∏–µ–Ω—Ç](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_4.yaml)

```
config:
    client: url
    path: "portal/api/search/2/?geo=213"
```

‚Ññ5. [–ó–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ url-–∫–ª–∏–µ–Ω—Ç, –Ω–æ —Å–ª–æ–∂–Ω–µ–µ](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_5.yaml)

```
config:
    client: url
    path: ['portal/ntp/refresh_data/?ab_flags=yabro_newtgo_exp', '?ab_flags=focus_search&cleanvars=1']
```
–ö–∞–≤—ã—á–∫–∏ –Ω—É–∂–Ω—ã –ø–æ—Ç–æ–º—É —á—Ç–æ yaml —Ä—É–≥–∞–µ—Ç—Å—è –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∏–º–≤–æ–ª—ã. –û—Ç–ø—Ä–∞–≤—è—Ç—Å—è –≤—Å–µ–≥–æ 6 –∑–∞–ø—Ä–æ—Å–æ–≤: 3 –≤ –Ω–ø—Ç, 3 –≤ –¥–µ—Å–∫—Ç–æ–ø.

‚Ññ6. [–ó–∞–ø—Ä–æ—Å—ã —Å –≥–µ—Ç-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ geo](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_6.yaml)

```
config:
    client: desktop
    domain: [ru, ua, by]
get_params:
    geo: [213, 2, 225]
```
‚Ññ7. [–ó–∞–ø—Ä–æ—Å—ã —Å –Ω–∞–±–æ—Ä–∞–º–∏ –≥–µ—Ç-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤(geo –∏ –∫–∞–∫–∏–µ-—Ç–æ –∞–±-—Ñ–ª–∞–≥–∏)](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_7.yaml)

```
config:
    client: desktop
get_params:
    ab_flags: ['covid_block', 'covid_speed', 'covid_block:covid_speed']
    geo: [213, 2, 225]
```
‚Ññ8. [–ú–æ–∫–∞—Ç—å –ú–ê–î–ú —Ç–æ–∂–µ –º–æ–∂–Ω–æ](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_8.yaml) (—Å–º [–¥–æ–∫—É](https://docs.yandex-team.ru/portal/development/functional_tests#moki-madm))

```
config:
    client: desktop
get_params:
    madm_mocks: 'div_fullscreens=div_fullscreens_mock_1:shortcuts_settings_v2=shortcuts_settings_v2_mock_1'
```

‚Ññ9. [–ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_9.yaml)

```
config:
    client: ya_bro_ios
get_params:
    geo_country: 213
result:
    pages:
      0:
        title: '–î–∑–µ–Ω'
        type: 'zen'
    api_version: '2'
```
pages - –º–∞—Å—Å–∏–≤, –æ–±—Ä–∞—â–∞–µ–º—Å—è –ø–æ –∏–Ω–¥–µ–∫—Å—É –∫–∞–∫ –∫ —Å–ª–æ–≤–∞—Ä—è–º

‚Ññ10. [–ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç –Ω–∞ —Ç–∏–ø—ã](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_10.yaml)

```
config:
    client: ya_bro_ios
get_params:
    geo: [213, 2, 225]
result:
    block: IS_ARRAY
    geo_country: IS_INT
    lang: IS_STRING
```

‚Ññ11. [–ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∫–∏–µ-—Ç–æ –ø–æ–ª—è –Ω–∞ —Ç–∏–ø—ã, –∫–∞–∫–∏–µ-—Ç–æ –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏—è](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_11.yaml)

```
config:
    client: desktop
    domain: [ru, ua, by]
get_params:
    cleanvars: weather
    geo: [213, 2]
result:
    Weather:
        show: 1
        t1: NOT_EMPTY
        t2: IS_STRING
        t2name: IS_STRING
    Weather_map: IS_DICT
```

‚Ññ12. [–ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏—è + –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ö–µ–º—É](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_12.yaml)

```
config:
    client: desktop
    domain: [ru, by]
get_params:
    ab_flags: ab_flag
    cleanvars: weather
    geo: [213, 2]
result:
    Weather_map:
        show: 1
        time: IS_INT
        GenTime: IS_INT
schema:
    Weather: schema/cleanvars/weather/desktop/weather.json
```

‚Ññ13. [–ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç –∏ –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –Ω–∞ —Å—Ö–µ–º—É, —Ç–æ–ª—å–∫–æ —Å–ª–æ–∂–Ω–µ–µ](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_13.yaml)

```
config:
    client: desktop
    domain: [ru, ua, by]
get_params:
    cleanvars: weather
    geo: [213, 2]
result:
    Weather:
        show: [OR, 1, "1"]
        t1: IS_STRING
        t2: IS_STRING
        t3: IS_STRING
    Weather_map:
        show: 1
        time: IS_INT
        GenTime: IS_INT
schema:
    Weather: schema/cleanvars/weather/desktop/weather.json
```

‚Ññ14. –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–∞

[–§–∞–π–ª–∏–∫-—à–∞–±–ª–æ–Ω(parent_test):](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/parent_test_example_14.yaml)

```
config: 
    domain: [ru, ua, by]
get_params:
    geo: [213, 2, 225]
```

[–°–∞–º —Ç–µ—Å—Ç:](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_14_1.yaml)
```
config: 
    client: desktop
    parent: tests/kote/tests/framework_test/examples/parent_test_example_14.yaml
get_params:
    ab_flags: ab_flag
```

–¢–µ—Å—Ç "–∑–∞–±–∏—Ä–∞–µ—Ç" –ø–æ–ª—è –∏–∑ parent_test_example_14, —Ç–µ–ø–µ—Ä—å [–ø—Ä–∏–º–µ—Ä](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_14_2.yaml), –≥–¥–µ –º—ã –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º —ç—Ç–∏ –ø–æ–ª—è:

```
config: 
    client: desktop
    parent: tests/kote/tests/framework_test/examples/parent_test_example_14.yaml
get_params:
    ab_flags: ab_flag
    geo: 213
```
–¢–µ–ø–µ—Ä—å –≤ –∏—Ç–æ–≥–æ–≤–æ–º —Ç–µ—Å—Ç–µ –º—ã –±—É–¥–µ–º –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å —Ç–æ–ª—å–∫–æ —Å –æ–¥–Ω–∏–º geo.

‚Ññ15. [–õ–æ–≥–∏—á–µ—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_15.yaml)

```
config: 
    client: desktop
get_params:
    cleanvars: weather
result:
    Weather:
        show: [OR, 0, 1]
        processed: [NOT, 0]
```
‚Ññ16. [–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_16.yaml)
```
config:
  parent: ['tests/kote/tests/framework_test/examples/test_example_14_2.yaml', 'tests/kote/tests/framework_test/examples/parent_test_example_14.yaml']
```
–°–Ω–∞—á–∞–ª–∞ –≤—Ç–æ—Ä–æ–π —Ñ–∞–π–ª –Ω–∞—Å–ª–µ–¥—É–µ—Ç –æ—Ç –ø–µ—Ä–≤–æ–≥–æ, –∑–∞—Ç–µ–º —Å–∞–º —Ç–µ—Å—Ç –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞, —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑.

‚Ññ17. [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ITEM](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_17.yaml)
```
config:
  client: api_search_ios
result:
  block:
    ITEM: 
      data: IS_DICT
```

‚Ññ18. [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ LENGTH](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_18.yaml)
```
config:
  client: desktop
result:
  blocks_layout:
    LENGTH: 2
```

‚Ññ19. [–ë–æ–ª—å—à–æ–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤–º–µ—Å—Ç–µ —Å ITEM](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_19.yaml)
```
config:
  client: desktop
get_params:
  geo: 213
result:
  AfishaInserts:
    events:
      ITEM: [AND, event_id: IS_STRING, type: IS_STRING, [OR, genre: IS_INT, name: IS_STRING]]
```

–ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–∞ events —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–ª—é—á–∏ event_id –∏ type + –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è - —Å—Ç—Ä–æ–∫–∏ + –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–ª–∏ –∫–ª—é—á genre(—á–∏—Å–ª–æ) –∏–ª–∏ –∫–ª—é—á name(—Å—Ç—Ä–æ–∫–∞).

‚Ññ20. [mock-–∫–ª–∏–µ–Ω—Ç –∏ —Ä–µ–≥—É–ª—è—Ä–∫–∏](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/examples/test_example_20.yaml)
```
config:
  client: mock
  path: internal_checks
result:
  example20:
    array:
      LENGTH: "<2"
      0:
        inner_array:
          FILTER:
            regular_string1: [RE, "^Regular e*"]
          ITEM:
            regular_string2: "Another regular expression"
```
–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –¥–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞ array –º–µ–Ω—å—à–µ –¥–≤—É—Ö, –∑–∞—Ç–µ–º, –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –º–∞—Å—Å–∏–≤–∞ inner_array, —É–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç —Ç–æ–ª—å–∫–æ —Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –∫–ª—é—á regular_string1 —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω—é, –∞ —É–∂–µ –≤ —Ç–∞–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–ª—é—á regular_string2. 

‚Ññ21. [Callback-—Ñ—É–Ω–∫—Ü–∏—è](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/tests/framework_test/test_callback.yaml)
```
config:
  client: mock
  path: internal_checks
result: [CALLBACK, HOME_77872_callback_example]
```
–§—É–Ω–∫—Ü–∏—è –∂–∏–≤–µ—Ç [—Ç—É—Ç](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/tests/kote/utils/kote_callback_functions.py)
```
def HOME_77872_callback_example(response, test_path):
    assert response['logic']['int'] == 1, 'Failed on callback function HOME_77872_callback_example\nFailed on test {}'.format(test_path)
```

## –§–∏—á—Ä–µ–∫–≤–µ—Å—Ç—ã –ö–æ—Ç—ç

{% cut "–ö–∞–∫ –Ω–∞–ø–∏—Å–∞—Ç—å —Ñ–∏—á—Ä–µ–∫–≤–µ—Å—Ç —Ç–∞–∫, —á—Ç–æ–±—ã –ø–æ–Ω—è–ª–∏" %}

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ—Å—Ç–∞—Ä–∞–π—Ç–µ—Å—å –ø–∏—Å–∞—Ç—å —Ñ–∏—á—Ä–µ–∫–≤–µ—Å—Ç—ã –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ. –í –∏–¥–µ–∞–ª–µ - –ø—Ä–∏–º–µ—Ä —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞, –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ, —á—Ç–æ –æ–Ω –¥–µ–ª–∞–µ—Ç, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–∞—Å—Ç—É –∏–ª–∏ –ø–∏—Å–∞—Ç—å —Å—Ä–∞–∑—É –∑–¥–µ—Å—å. –ü—Ä–∏–º–µ—Ä:

–õ–æ–≥–∏–∫–∞ –¥–ª—è IS_EXIST –∏ NOT_EXIST
```
result:
    key: [OR, [AND, key1: IS_EXIST, key2: IS_EXIST], [AND, key3: IS_EXIST, key4: IS_EXIST]]
```
–ü—Ä–æ–≤–µ—Ä–∏—Ç, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –æ–¥–Ω–∞ –∏–∑ –ø–∞—Ä –∫–ª—é—á–µ–π (key1, key2) –∏–ª–∏ (key3, key4)

{% endcut %}

### –§–∏—á—Ä–µ–∫–≤–µ—Å—Ç—ã —Å—Ç—Ä–∞–Ω–∏—á–∫–∏

1. –ö—Ä–∞—Å–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –ø–∞–¥–∞—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤*
2. –ö–æ—Ä–æ—Ç–∫–∞—è —Å—Å—ã–ª–∫–∞, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞ (—Ç–µ–ª–æ —Ç–µ—Å—Ç–∞ + –º–æ–∫ –ø–æ–ª–µ–π + –æ–∫—Ä—É–∂–µ–Ω–∏–µ). –ö–µ–π—Å - –Ω–∞–±—Ä–∞–ª —Ç–µ—Å—Ç, –Ω—É–∂–Ω–æ –∏–º –ø–æ–¥–µ–ª–∏—Ç—å—Å—è –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ (–ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å —Ä–∞—Å—à–∞—Ä–∏–≤–∞–Ω–∏–µ–º –∑–∞–ø—Ä–æ—Å–∞ –≤ yt).

### –§–∏—á—Ä–µ–∫–≤–µ—Å—Ç—ã —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞

1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–ª—é—á–µ–π –¥–ª—è —Ö—ç—à–µ–π
2. b2b —Ç–µ—Å—Ç—ã
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Å—Å–∏–≤–æ–≤ –±–µ–∑ —É—á–µ—Ç–∞ –ø–æ—Ä—è–¥–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTP –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤: –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ cookie –≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏, –∫–æ–¥–æ–≤ –æ—Ç–≤–µ—Ç–∞, –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞
5. –ú–∞–∫—Ä–æ—Å—ã –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π. –ù–∞–ø—Ä–∏–º–µ—Ä, DOMAIN, URL, DATE, TIMESTAMP, DATETIME –∏ —Ç.–¥.
6. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ü–µ–ø–æ—á–µ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤: base64, json, plain text, protobuf. –ú–æ–∂–µ—Ç –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ heavy_req (–≤–ª–æ–∂–µ–Ω–Ω—ã–π json), –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏ —Ç–µ—Å—Ç–æ–≤ (–≤ base64), –¥–∞–Ω–Ω—ã—Ö –∏–∑ –≤–µ—Ä—à–∏–Ω—ã –≤ protobuf, —Ç–µ–∫—Å—Ç–∞ AS IS —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º subreqs=1 –±–µ–∑ for_apphost
7. –ù–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–∫–µ–π—Å–æ–≤ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ yaml
8. inline –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
9. –õ–æ–≥–∏–∫–∞ –¥–ª—è IS_EXIST –∏ NOT_EXIST
    ```
    result:
        key: [OR, [AND, key1: IS_EXIST, key2: IS_EXIST], [AND, key3: IS_EXIST, key4: IS_EXIST]]
    ```
    –ü—Ä–æ–≤–µ—Ä–∏—Ç, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –æ–¥–Ω–∞ –∏–∑ –ø–∞—Ä –∫–ª—é—á–µ–π (key1, key2) –∏–ª–∏ (key3, key4)

10. –°–¥–µ–ª–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ —É—Å—Ç–∞—Ä–µ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–æ–≤
11. –ü—Ä–∏–∫—Ä—É—Ç–∏—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω–∏—Ü—É
12. !–ü–µ—Ä–µ–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã –ø–æ —Ñ–∏—á–∞–º –∞ –Ω–µ –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º
13. –ü–æ–∫–∞–∑–∞—Ç—å –≤ –ª–æ–≥–∞—Ö —Ç–∞—Å–∫ –∏–∑ –±–ª–æ–∫–∞ meta ^^
14. –£–º–µ—Ç—å –¥–æ—Å—Ç–∞–≤–∞—Ç—å –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ X-Yandex-Req-Id –∏–ª–∏ X-Requestid –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ª–æ–≥–æ–≤ –∏–∑ —Ä—É—á–µ–∫:
    - /test/errorlog/?Requestid=%requesid
    - /portal/front/errorlog/?Requestid=%requesid
15. –£–º–µ—Ç—å —Å–æ–≤–µ—Ä—à–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤ –æ–¥–Ω–æ–º —Ç–µ—Å—Ç–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è url-–∫–ª–∏–µ–Ω—Ç–∞ —É–∫–∞–∑—ã–≤–∞—Ç—å –º–∞—Å—Å–∏–≤ path. –¢–∞–∫ –∂–µ –º–æ–∂–Ω–æ –ø–æ–¥—É–º–∞—Ç—å –Ω–∞–¥ —É–≤–∫–ª—é—á–µ–Ω–∏–µ–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —É–∫–∞–∑–∞–Ω–∏–µ–º –≥–µ—Ç-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –º–∞—Å—Å–∏–≤–∞—Ö –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –¥–ª–∏–Ω—ã, —Å–µ–π—á–∞—Å –≤ —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É–º–Ω–æ–∂–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —á—Ç–æ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –±–µ—Å–ø–æ–ª–µ–∑–Ω–æ –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.
 
    —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º –∞–Ω–∞–ª–∏–∑–æ–º –ª–æ–≥–æ–≤ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –Ω–∞–ª–∏—á–∏—è –æ—à–∏–±–æ–∫/–≤–∞—Ä–Ω–∏–Ω–≥–æ–≤

## –í–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ö–æ—Ç–µ üåé
–ù–∞ –ª—é–±–æ–º –∏–Ω—Å—Ç–∞–Ω—Å–µ –ª—é–±–æ–≥–æ –¥–µ–≤–∞ —É–∂–µ –µ—Å—Ç—å –≤–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ö–æ—Ç–µ.
–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ ```/test/kote```, –Ω–∞–ø—Ä–∏–º–µ—Ä, [https://v175d1.wdevx.yandex.ru/test/kote](https://v175d1.wdevx.yandex.ru/test/kote)

{% note warning %}

–ï—Å–ª–∏ –≤–º–µ—Å—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ç–µ—Å—Ç–æ–≤ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ—à–∏–±–∫–∏ –≤–∏–¥–∞ ```Unable to open ../function_tests/tests/kote/tests/framework_test/mocks/tmp/mock_file_28.06.2022_19:43:18.022709.json``` –∏–ª–∏ –¥—Ä—É–≥–∏–µ, –Ω—É–∂–Ω–æ –≤ –ø–∞–ø–∫–µ ```function_tests```  –∏–Ω—Å—Ç–∞–Ω—Å–∞ —Å–¥–µ–ª–∞—Ç—å ```make kote_fix```. –≠—Ç–æ –¥–∞—Å—Ç –¥–æ—Å—Ç—É–ø—ã —Å—Ç—Ä–∞–Ω–∏—á–∫–µ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ –Ω—É–∂–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏. –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ ```sudo chmod -R 777```. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Ç–∞–∫ –∏ –Ω–µ —É—à–ª–∞, –ø–∏—à–∏—Ç–µ [alexeybabenko@](https://staff.yandex-team.ru/alexeybabenko).

{% endnote %}

![](https://jing.yandex-team.ru/files/alexeybabenko/Screenshot%20from%202022-06-28%2019-25-55.png)

–ß—Ç–æ —Å–µ–π—á–∞—Å –≤ –Ω–µ–º –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
- –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç –≤ –ø–æ–ª–µ Test field.
- –ó–∞–ø—É—Å—Ç–∏—Ç—å, –Ω–∞—Ü–µ–ª–∏–≤ –Ω–∞ –ª—é–±–æ–π –¥–µ–≤, –ø—Ä–æ–¥ –∏–ª–∏ —Ä—Ü.
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ—à–µ–ª —Ç–µ—Å—Ç –∏–ª–∏ –Ω–µ—Ç, –ª–æ–≥–∏ –≤ –ø–æ–ª–µ Result.
- –ò—Å–∫–∞—Ç—å –∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Ñ–∞–π–ª—ã —Å —Ç–µ—Å—Ç–∞–º–∏ –Ω–∞ —Ç–µ–∫—É—â–µ–º –∏–Ω—Å—Ç–∞–Ω—Å–µ –¥–µ–≤–∞.
- –°—ã–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–π —Ä—É—á–∫–∏ –≤ –ø–æ–ª–µ Mock field. –î–ª—è —ç—Ç–æ–≥–æ –≤ –ø–æ–ª–µ Test field –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞—Ç—å result, –∫–ª–∏–µ–Ω—Ç—ã –∏ –ø—Ä–æ—á–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ –Ω—É–∂–Ω—ã. –≠—Ç–æ—Ç —Ä–µ–∂–∏–º —Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç –ø–æ–ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è –≤ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤.

–ß–µ–≥–æ-—Ç–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –∏–ª–∏ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å - –ø–∏—à–∏—Ç–µ [—Å—é–¥–∞!](https://docs.yandex-team.ru/portal/development/functional_tests#fichrekvesty-stranichki)



## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

{% note warning %}

–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤ –∏–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ä—ã—Ö **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –¥–æ–±–∞–≤–ª—è–π—Ç–µ –≤ ```@allure.feature``` —Ñ–∏—á—É ```'function_tests_stable'```

{% endnote %}

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –∂–∏–≤—É—Ç –≤ –ø–∞–ø–∫–µ ```function_tests``` [—Å–º. –≤ GitHub](https://github.yandex-team.ru/morda/main/tree/dev/function_tests).

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –∑–∞–ø—É—Å–∫—É –µ—Å—Ç—å –≤ —Ç–æ–π –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤ —Ñ–∞–π–ª–µ [readme.md](https://github.yandex-team.ru/morda/main/blob/dev/function_tests/readme.md).

–û—Å–Ω–æ–≤–Ω—ã–µ 3 —Ç–µ—Å—Ç–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Å–µ–π—á–∞—Å —Å–º–æ—Ç—Ä–∏–º:
* [function-tests-stable](https://teamcity.yandex-team.ru/buildConfiguration/PortalMorda_TestsFunctional_FunctionTestsStable?mode=builds) - —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é ```feature=function_tests_stable```
* [api-search-schema-tests](https://teamcity.yandex-team.ru/buildConfiguration/PortalMorda_TestsFunctional_ApiSearchSchemaTests?mode=builds) -  —Å—Ö–µ–º–∞ —Ç–µ—Å—Ç—ã –ü–ü –∏ –Ø–±—Ä–æ, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é —Å –ø—Ä–æ—Å—Ç–∞–≤–ª–Ω–Ω–æ–π ```feature=api_search_v2```
* [schema-tests-simple](https://teamcity.yandex-team.ru/buildConfiguration/PortalMorda_TestsFunctional_SchemaTestsSimple?mode=builds) - —Å—Ö–µ–º–∞ —Ç–µ—Å—Ç—ã –ü–ü –∏ –Ø–±—Ä–æ, –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ñ–∏–≤—É—Ç –≤ ```function_tests/tests/schema```

–ú–æ–∂–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–∂–¥—ã—Ö –∏–∑ —ç—Ç–∏—Ö —Ç—Ä–µ—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω—Å—Ç–∞–Ω—Å–∞, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤ –ø–∞–ø–∫–µ ```function_tests/```:
* ```make t_stable``` - –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞ function-tests-stable
* ```make t_api``` - –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞ api-search-schema-tests
* ```make t_simple``` - –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞ schema-tests-simple

*[–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è]*

## –°—Ö–µ–º—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–Ω–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

[–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å—Ö–µ–º](https://github.yandex-team.ru/portal/morda-schema)

–ö–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é:
1. –ù–∞ –≥–∏—Ç—Ö–∞–±–µ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä–æ–º—É –Ω—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –≤ –≥—Ä—É–ø–ø—É [Autotests Home](https://github.yandex-team.ru/portal)
2. –î–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ä–æ–ª—å "Owner"
    1. –í–æ –≤–∫–ª–∞–¥–∫–µ "People" –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    2. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–ø—Ä–∞–≤–∞ –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–±—Ä–∞—Ç—å "Change role"
    3. –í—ã–±—Ä–∞—Ç—å "Owner"
    4. –≠—Ç–æ –æ—Ç–∫—Ä–æ–µ—Ç –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ä–µ–æ–∑–∏—Ç–æ—Ä–∏—è–º, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∫ morda-schema

## –ú–æ–∫–∏ –ú–ê–î–ú

–ú–æ–∫–∏ –¥–µ–ª–∞–ª–∏—Å—å –≤ [—ç—Ç–æ–º —Ç–∞—Å–∫–µ](https://st.yandex-team.ru/HOME-72980).


{% note warning %}

–°–µ–π—á–∞—Å –º–æ–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –¥–ª—è –≤—Å–µ—Ö —ç–∫—Å–ø–æ—Ä—Ç–æ–≤, –∫—Ä–æ–º–µ options. –ò—Ö –±—É–¥–µ–º –∑–∞–¥–∞–≤–∞—Ç—å –∫–∞–∫ get –ø–∞—Ä–∞–º–µ—Ç—Ä, –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å ab_flags. –¢–∞—Å–∫ –Ω–∞ —ç—Ç–æ: https://st.yandex-team.ru/HOME-76272

{% endnote %}

–û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ –º–æ–∫–æ–≤ - –ø–æ–≤—ã—Å–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤. –≠–∫—Å–ø–æ—Ä—Ç—ã –≤ –ú–ê–î–ú —á–∞—Å—Ç–æ –∏–∑–º–µ–Ω—è—é—Ç—Å—è, —Å –ø–æ–º–æ—â—å—é –º–æ–∫–æ–≤ –∂–µ –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–∞) –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–µ–Ω–Ω–æ –µ–≥–æ, —É–∫–∞–∑—ã–≤–∞—è —ç—Ç–æ —á–µ—Ä–µ–∑ get –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞.

* –í —ç–∫—Å–ø–æ—Ä—Ç–∞—Ö –≤ –ú–ê–î–ú –ø–æ—è–≤–∏–ª–∞—Å—å –∫–Ω–æ–ø–∫–∞ MOCK —Ä—è–¥–æ–º —Å GET.
–ü–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞ –Ω–µ–µ —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ json, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –º–æ–∫.
![](https://jing.yandex-team.ru/files/alexeybabenko/Screenshot%20from%202021-11-15%2013-14-35.png)

* –ú–æ–∫–∏ –∫–ª–∞–¥—É—Ç—Å—è –≤ –ø–∞–ø–∫—É ```tests/data/madm``` [—Å–º. –≤ Arcanum](https://a.yandex-team.ru/arcadia/portal/main/tests/data/madm)
* –í –∑–∞–ø—Ä–æ—Å–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è cgi –ø–∞—Ä–∞–º–µ—Ç—Ä madm_mocks.

{% note warning %}

–ò–º—è —Ñ–∞–π–ª–∞ –º–æ–∫–∞ –∑–∞–¥–∞—ë—Ç—Å—è –±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è!

{% endnote %}

–í –ø—Ä–∏–º–µ—Ä–µ –Ω–∏–∂–µ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ ```<export_name_1>``` –ø—Ä–∏–º–µ–Ω—è–µ–º –º–æ–∫ ```<mock_name_1>.json``` –∏–∑ –ø–∞–ø–∫–∏ ```tests/data/madm``` –∏ —Ç.–¥.
```
–°—Ö–µ–º–∞:
madm_mocks=<export_name_1>=<mock_name_1>:<export_name_2>=<mock_name_2>:<export_name_n>=<mock_name_n>
–ü—Ä–∏–º–µ—Ä:
https://yandex.ru/?madm_mocks=bell=bell_example
```

* –ï—Å–ª–∏ –ø–æ –∫–∞–∫–∏–º-—Ç–æ –ø—Ä–∏—á–∏–Ω–∞–º –Ω–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–∫ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞, –≤ –æ—Ç–≤–µ—Ç–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ–ª–µ ```madm_mock_error``` —Å —Ç–µ–∫—Å—Ç–æ–º –æ—à–∏–±–∫–∏. –ü—Ä–∏ —ç—Ç–æ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–∫–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è.

* –ï—Å–ª–∏ —Ñ–æ—Ä–º–∞—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏–∑–º–µ–Ω–∏–ª—Å—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤–∏–ª–∏—Å—å –Ω–æ–≤—ã–µ –ø–æ–ª—è, –º—ã —Ç–∞–∫ –∂–µ –ø–æ–ª—É—á–∏–º –≤ –æ—Ç–≤–µ—Ç–µ ```madm_mock_error``` —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º. –ú–æ–∫–∏ –ø—Ä–∏ —ç—Ç–æ–º —Ç–æ–∂–µ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–¥–µ–ª–∞—Ç—å –Ω–æ–≤—ã–π –º–æ–∫ –∏ –ø–µ—Ä–µ—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ –≤–º–µ—Å—Ç–æ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ.

{% note warning %}

–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤ —Å –º–æ–∫–∞–º–∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –æ—Ç–≤–µ—Ç –º–æ—Ä–¥—ã –Ω–∞ –Ω–∞–ª–∏—á–∏–µ ```madm_mock_error```. –ï—Å–ª–∏ –æ–Ω–æ –ø—Ä–∏—à–ª–æ, —Ç–æ:
* —Ç–µ—Å—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ—Ö–æ–¥–∏—Ç—å
* —Å—Ç—Ä–æ–∫–∞ –∏–∑ ```madm_mock_error``` –¥–æ–ª–∂–Ω–∞ –≤—ã–≤–æ–¥–∏—Ç—å—Å—è –≤ –ª–æ–≥–∞—Ö —É–ø–∞–≤—à–µ–≥–æ —Ç–µ—Å—Ç–∞, —á—Ç–æ–±—ã –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ

```madm_mock_error``` —Å–µ–π—á–∞—Å –ø–æ–¥–¥–µ—Ä–∂–∞–Ω –≤ –¥–µ—Å–∫—Ç–æ–ø–µ, —Ç–∞—á–µ –∏ —Ä—É—á–∫–µ api, –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ä—É—á–µ–∫ –Ω—É–∂–Ω—ã –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –≤ –ø–µ—Ä–ª–µ (–ø–∞—Ä—É —Å—Ç—Ä–æ–∫).

{% endnote %}
