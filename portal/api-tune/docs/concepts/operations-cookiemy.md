# Запись значений в куку my

Для записи значений в куку [my](http://wiki.yandex-team.ru/MyCookie) необходимо обратиться методом GET к следующему ресурсу:

```no-highlight
http://tune.yandex.ru/api/my/v1.1/my.xml
```

{% note info %}

К ресурсу следует обращаться в текущем национальном домене `ua, kz, by` и пр.

{% endnote %}


**Параметры запроса:**
- `param` — значение, которое необходимо записать в куку. Есть возможность передать несколько значений в одном запросе, например, `param=1&param=2`;
- `block` — номер [блока](http://wiki.yandex-team.ru/MyCookie/NomerBloka) куки `my`, в который необходимо записать `param`;
- `retpath` — URL, на который пользователь должен быть направлен после выполнения запроса. Если этот параметр отсутствует, то пользователь перенаправляется на морду. Значение параметра должно быть в [URL-кодированном виде](http://ru.wikipedia.org/wiki/URL#.D0.9A.D0.BE.D0.B4.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_URL) (urlencode);
- `sk` — секретный ключ ([SecretKey](http://wiki.yandex-team.ru/AlekseyPonomarev/secret-key)). Если этот параметр не указан, то запись значений в куку выполнена не будет. При невалидном значении ключа пользователь будет перенаправлен на `yandex.(ru|ua|kz|...)/#sk` в зависимости от текущего домена. Например, `www.yandex.com.tr/#sk`.

Если пользователь обратился к доменам `ua`, `kz` и `by`, то запрос перенаправляется на `tune.yandex.ru`. Там сохраняется значение языка в куке. В дальнейшем происходит синхронизация между доменом `ru` и национальными доменами с помощью Паспорта.

Если пользователь обращается к доменам `com.tr` или `com`, то перенаправления не происходит и кука модифицируется в том домене, к которому был сделан запрос.

**Примеры:**

```
http://tune.yandex.ru/api/my/v1.1/my.xml?param=0&block=45&retpath=http%3A%2F%2Fwww.yandex.ru&sk=_15b7d7484b9fe720d9031598297f730e
```

Типичными запросами являются:
- выбор предпочитаемой версии сервиса, мобильной или десктопной (44-й блок куки);
- показ баннера на главной странице (46-й блок куки).

```
Переключение на десктопную версию
http://tune.yandex.ru/api/my/v1.1/my.xml?param=1&block=44&retpath=http%3A%2F%2Fwww.yandex.ru&sk=_15b7d7484b9fe720d9031598297f730e

Отключение баннера
http://tune.yandex.ru/api/my/v1.1/my.xml?param=0&block=46&retpath=http%3A%2F%2Fwww.yandex.ru&sk=_15b7d7484b9fe720d9031598297f730e
```

Запись нескольких значений в один блок:

```
http://tune.yandex.ru/api/my/v1.1/my.xml?param=1&param=2&param=3&block=40&http%3A%2F%2Fwww.yandex.ru&sk=_15b7d7484b9fe720d9031598297f730e
```

