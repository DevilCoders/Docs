### Что делает сервис
Сервис **catdog** отвечает за формирование ссылок на аватарки.
Особенности:
- Реализован на неаркадийном Python 3.5, поэтому старт контейнера и некоторые ответы ручек не являются гарантией работы.
- Два процесса в контейнере.
- Нестандартный unistat, нет демона.
- Время выполнения может зависеть от самого запроса: количества *yandex/mail/gmail* адресов в списке адресов (из-за походов в blackbox и аватарницу).

### Импакт на пользователей от отключения сервиса
При отключении сервиса пользователи перестанут видеть аватарки для почтовых адресов.
Если catdog начнёт отвечать постоянно долго, у фронта резко возрастут тайминги на ручку "показ списка писем".

### Импакт остановки тачки/ДЦ
Балансер перенаправляет нагрузку на другие тачки/ДЦ, нагрузка на них возрастет пропорционально.

### Особенности деплоя
Катим canary, смотрим на графики. При отсутствии проблем катим основной компонент.

### Критичные метрики
#### Распределение адресов по категориям
https://yasm.yandex-team.ru/template/panel/mail_catdog_template/-/3

#### catdog_5xx
Может является признаком того, что сервис не справляется с нагрузкой.

### Куда ходит
#### blackbox (blackbox.yandex-team)
Для *yandex* адресов catdog ходит в blackbox за информацией о пользователе.
Корповый catdog ходит как blackbox, так и blackbox.yandex-team

#### ava
Для *mail/gmail* адресов catdog ходит в аватарницу за ссылкой на аватарку.

#### s3
catdog ходит в s3 (s3 mds) за списком pdd-доменов и списком адресов top200.
