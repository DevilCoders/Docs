### Что делает сервис
Mailpusher получает пачки событий об изменении состояния писем от equalizer, обогащает их метаданными, формирует из событий пуши и отправляет их в xiva.

### Импакт на пользователей от от отключения сервиса
Пользователи перестанут получать пуши "У вас новое письмо" в вебе и на мобильных устройствах. В вебе перестанет обновляться список писем без рефреша страницы. Аналогично в imap - клиенты перестанут получать обновления от сервера.

### Импакт остановки тачки/ДЦ
Нет заметного импакта (теряется некоторое малое количество пушей).

### Особенности деплоя
Нет.

### Критичные метрики
#### events_failed_percent
Процент событий, по которым mailpusher не смог отправить пуши в xiva.

### Куда ходит
Все походы по http делаются с помощью cluster_client.
Настройки cluster_client по каждой ручке находятся в конфиге модуля processor в соответствующих ручкам нодах.
Параллельность по каждой ручке каждого из сервисов ограничивается с помощью rate_controller.
Настройки параллельности находятся в ноде children модуля rate_controller.
#### ava (cluster_client, rate_controller)
1 запрос на пачку событий.
Ошибка не останавливает обработку события, просто в пуше не будет аватара.
#### hound (cluster_client, rate_controller)
1 поход в /folders_counters на пачку событий, 1 поход в /filter_search для большинства событий.
Ошибка похода в /folders_counters не останавливает обработку события.
#### xiva (cluster_client, rate_controller)
1 поход в /v2/list на пачку событий, 1 или несколько походов в /v2/send для каждого события (число походов фиксированно и зависит от типа события).