### Что хранится в базе

История нотификаций для работы надёжной доставки в xiva.

Нотификации хранятся в таблице xiva.notifications.
Эта таблица делится на партиции вида xiva.notifications_pYYYY_MM_DD по полю event_dt.
Одна партиция содержит историю нотификаций за сутки.
Управление партициями происходит с помощью partman - расширения для PostgreSQL.
Ротация партиций происходит каждую ночь по крону в сервисе xivadba.
В крайнем случае для высвобождения места можно удалять данные старых партиций с помощью TRUNCATE.

В базе есть ещё 2 вспомогательные таблицы: xiva.counters и xiva.services, необходимые для работоспособности надёжной доставки в xiva.

Основные функции для работы с нотификациями лежат в схеме code.

### Импакт на пользователей от отключения
Не будет работать надёжная доставка в xiva, перед отключением необходимо включить "тыкву" на xiva (см. траблшутинг). Если тыкву не включить - включится автоматически, но будет короткий всплеск ошибок.

### Импакт отключения реплики
Нет импакта, все операции идут в мастер.

### Импакт увода в read-only
Совпадает с импактом отключения.