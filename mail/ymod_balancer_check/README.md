# Ymod_balancer_check

### Что это?
Модуль, регистрирующий в вебсервере ручку для ответа на балансерные HTTP чеки. При остановке приложения перестает отвечать 200 балансеру и блокирует main поток приложения, задерживая его полную остановку. Задержку нужно выбрать так, чтобы за это время балансер успел понять, что real протух и перестал отправлять туда нагрузку. После этого продолжается обычная остановка yplatform-приложения.

Значение по умолчанию соответствует тому, что QLOUD передает в l3mngr при конфигурировании L3 балансера.

Рекомендуется ставить последним модулем в конфиге.

### Пример конфигурации
```
-   _name: balancer_check
    system:
        name: balancer_check
        factory: ymod_balancer_check::module
    configuration:
        reactor: webserver
        webserver: webserver # имя модуля вебсервера
        endpoint: "" # имя эндпоинта вебсервера
        path: /balancer_check # имя ручки
        stop_delay: 10s # задержка остановки
```
