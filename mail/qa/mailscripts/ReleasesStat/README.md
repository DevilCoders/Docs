# ReleasesStat

Скрипт проходит по очередям, собирает следующую информацию о релизах и отправлем её в stat:
```python
1. версия

2. тип релиза

3. срок тестирования(дней) - время начало тестирования = поле QA start date или переход релизного тикета в статус В работе/Тестируется. Время окончания тестирования = QA end date или переход релизного тикета в статусы Протестировано/Ready for Release/released

4. количество пересборок - считается для очередей, у которых есть отбивки о сборке пакета в релизном тикете

5. количество переоткрываний всех тикетов релиза - количество переходов тикетов из статусов testing/resolved/tested/tesingInDev в статус Open/inProgress

6. дата выкатки - время перехода релизного тикета в статус Закрыт/Выложили/Released

По тикетам с версием считаем:
7. баги, найденные в тестировании(шт.) - type == bug AND время создания > времени начала тестирования AND Stage == Testing AND (affectedVersions isEmpty OR affectedVersions = версия)

8. не баги, найденные в тестировании(шт.) - type != bug AND время создания > времени начала тестирования

9. тикеты на начало тестирования - тикеты, на которые версию релиза проставили раньше начала тестирования

10. тикетов на конец тестирования - фильтр по версии и статусам Tested/Released/Closed (Релизный тикет исключается)

По тикетам с affectedVersions = версия считаем:
11. тикеты, которые вынесли из релиза(шт.) - Stage == Testing OR client.issues[ticket.key].stage == 'FromTestToProd'
```

Cсылка на отчёт в stat'е : https://stat.yandex-team.ru/Mail/Others/releases
