# Параметры HTTP-запроса

Запрос к поиску по Яндекс.Картинкам представляет собой обращение по HTTP-протоколу к URL `http://yandex.<национальный домен верхнего уровня>/images-xml?`. Требования к поиску определяются параметрами, которые указываются в конце адреса после знака вопроса и перечисляются через символ амперсанд (`&`). Параметры могут быть переданы в любой последовательности.

{% if audience == "internal" %}

В зависимости от того, из какой сети (внутренней сети Яндекса или внешней) задан GET-запрос, набор требуемых параметров может различаться.

{% endif %}

Список параметров HTTP-запроса представлен в таблице ниже.

### Обязательные параметры {#intservicesparms}

#| 
|| **Параметр** | **Описание** | **Пример** ||
|| `g` | Служебный параметр. Свойства группировки.

Формат: `1.ii.<количество возвращаемых результатов>.1.-1`.

Свойство «количество возвращаемых результатов» определяет максимальное количество результатов, возвращаемых на каждый HTTP-запрос. Принимает числовое значение.{#numberofreturnedvalues} | `g=1.ii.20.1.-1` ||
|| `user` {#user} | Имя пользователя, для которого предоставлен xml-поиск.

{% if audience == "internal" %}Обязателен при формировании запроса из внешней сети.{% endif %} | Партнеру, имеющему имя пользователя «abracadabra» соответствует следующая запись в HTTP-запросе:
`user=abracadabra` ||
|| `key` {#key} | API-ключ поиска по Яндекс.Картинкам.

{% if audience == "internal" %}Обязателен при формировании запроса из внешней сети.{% endif %} | `key=<API-ключ>` ||
|# 

### Опциональные параметры {#optional-parameters}

#| 
|| **Параметр** | **Описание** | **Пример** ||
|| `fyandex` | Использование фильтра «Семейный поиск» при формировании поискового ответа.

Возможные значения:
- «0» — семейный поиск выключен;
- «1» — семейный поиск включен.

Если параметр не задан, то фильтр не используется. | `fyandex=1` ||
|| `icolor` | Поиск картинок, содержащих выбранный цвет.

Возможные значения:
- «gray» — черно-белые;
- «color» — цветные;
- «red» — красные;
- «orange» — оранжевые;
- «yellow» — желтые;
- «green» — зеленые;
- «cyan» — голубые;
- «blue» — синие;
- «violet» — фиолетовые;
- «white» — белые;
- «black» — черные.

Если параметр не задан, то фильтр не используется. | `icolor=gray` ||
|| `site` | Поиск картинок с указанного сайта. 

Если параметр не задан, то выполняется поиск по всем сайтам поисковой базы.

| `site=cactus.ru` ||
|| `isize` | Размер искомой картинки. 

Возможные значения:
- «enormous» — очень большой (размер больше 1600×1200);
- «large» — большие (размер больше 800×600) ;
- «medium» — средний (размер в диапазоне от 150×150 до 800×600) ;
- «small» — маленькие (размер не превышает 150×150);
- «tiny» — иконки (размер не превышает 32×32) ;
- «wallpaper» — обои для рабочего стола.

Если параметр не задан, то выполняется поиск по картинкам всех размеров. | `isize=large` ||
|| `itype` | 	Формат искомой картинки. 

Возможные значения:
- «jpg» — картинки в формате jpg;
- «gif» — картинки в формате gif;
- «gifanim» — анимированный gif-файл;
- «png» — картинки в формате png.

Если параметр не задан, то выполняется поиск по картинкам всех форматов. | `itype=gif` || 
|| `iorient` | Ориентация картинки. 

Возможные значения:
- «horizontal» — горизонтальная;
- «vertical» — вертикальная;
- «square» — квадратная.

Если параметр не задан, то выполняется поиск по картинкам, имеющим любую ориентацию. | `iorient=vertical` ||
|| `p` | Страница поисковой выдачи. Определяет диапазон позиций картинок, возвращаемых при выполнении HTTP-запроса. Нумерация начинается с нуля (первой странице соответствует значение «0»).

Если [количество возвращаемых результатов](#numberofreturnedvalues) равно «n», а запрашивается страница «p», то в результате поиска будут найдены картинки, находящиеся в диапазоне позиций выдачи от `p*n+1` до `p*n+n` включительно.

Если параметр не задан, то возвращается первая страница поисковой выдачи по данному запросу (картинки, находящиеся на позициях от `1` до `n` включительно). | `p=2` ||
|| `noreask` | Отключение перезадания запроса.

Если задано значение «1», то возвращаются результаты строго по заданному запросу, даже если в запросе обнаружена опечатка. | `noreask=1` ||
|| `fsdups` {#fsdups} | Количество возвращаемых дубликатов картинки наибольшего размера.

Если параметр не задан, поиск дубликатов наибольшего размера не выполняется. | `fsdups=2` ||
|| `pvdups` {#pvdups}  | Количество дубликатов уменьшенной копии картинки.

Если параметр не задан, то возвращается один дубликат. | `pvdups=2` ||
{% if audience == "internal" %}|| `i-m-a-hacker` | Внутренний параметр. Эмуляция HTTP-запроса из внешней сети. Используется только при выполнении запроса из внутренней сети Яндекса.

В качестве значения передается IP-адрес эмулируемого пользователя. Для использования также должны быть заданы параметры [user](#user) и [key](#key).

Если значение параметра не задано, то эмуляция не выполняется. | `i-m-a-hacker=64.17.181.1` ||{% endif %}
|#

> Следующий HTTP-запрос возвращает первые 20 результатов поиска по картинкам для запроса «Mario Andretti» пользователя «abracadabra», имеющего API-ключ «08323.999ghfdsf»:
> 
> ```
> http://yandex.com/images-xml?g=1.ii.20.1.-1&text=Mario Andretti&key=08323.999ghfdsf&user=abracadabra
> ```

