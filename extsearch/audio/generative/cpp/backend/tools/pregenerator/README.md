### Что это

Прегенератор - утилита рендерящая заказанное количество gapless блоков нужной длины в
указанном жанре и температуре. Трэки рэндерятся разбитые на HLS сегменты, которые
сразу заливаются в s3. Мета и план получившегося трэка, вместе с s3 ключом, добавляются в YT табличку.

### Что нужно сделать перед тем, как запустить 

Нужно собрать саму утилиту, и нужны продовые данные.
Конкретно data/loopinfo.pb, data/pregeninfo.pb (опционально, нужно для transition-ов), data/extra_genre_configs.json
и crossbred_exclusions.json (опционально, нужно для "свадебных" трэков).
Лучше их взять прям с прода - скачать ресурс загружаемый в local path = data.tgz. 
Из этого архива нужна только папочка data.
Так же в запускающем скрипте нужно установить переменную среды
GENERATIVE_S3_LOOPS_SECRET значениями секрета из секретницы.
Версии можно подсмотреть в Environment variables сервиса.

### Как запустить

Нужно задать несколько параметров командной строки:

 * --s3_loops_key_id - подсмотреть значение в generative_daemon.json
 * --s3_loops_host s3.mds.yandex.net
 * -n количество трэков которые нужно сгенерировать
 * --genre жанр для которого хочется генерировать трэки
 * --temperature температура в которой хочется генерировать трэки

или

 * --project название проекта из которого генерировать

или

 * --from_plan json с планом трэка

или

 * --prev_track список id-ов через запятую предгенерированных трэков для генерации gapless transition секции
 * --next_track список id-ов через запятую предгенерированных трэков для генерации gapless transition секции

Будет сгенерированно N*M-N переходов
