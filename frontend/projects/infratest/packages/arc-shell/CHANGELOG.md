# Change Log

All notable changes to this project will be documented in this file.
See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.

# [4.2.0](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.arc-shell@4.1.1...@yandex-int/si.ci.arc-shell@4.2.0) (2021-04-22)


### Features

* use prepack instead of prepublishOnly ([f70140d](https://github.yandex-team.ru/search-interfaces/infratest/commit/f70140d96ce1710b289e4ff39d8c97348463d13b))





## [4.1.1](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.arc-shell@4.1.0...@yandex-int/si.ci.arc-shell@4.1.1) (2021-04-19)

**Note:** Version bump only for package @yandex-int/si.ci.arc-shell





# [4.1.0](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.arc-shell@4.0.22...@yandex-int/si.ci.arc-shell@4.1.0) (2021-04-08)


### Features

* **si.ci.arc-shell:** support --atrs option in log + fix typings ([26b1023](https://github.yandex-team.ru/search-interfaces/infratest/commit/26b10233fe35df42aa54b0a081c1a43a7280bed6))





## [4.0.22](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.arc-shell@4.0.21...@yandex-int/si.ci.arc-shell@4.0.22) (2021-03-24)

**Note:** Version bump only for package @yandex-int/si.ci.arc-shell





## [4.0.21](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.arc-shell@4.0.20...@yandex-int/si.ci.arc-shell@4.0.21) (2021-03-23)

**Note:** Version bump only for package @yandex-int/si.ci.arc-shell





## [4.0.20](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.arc-shell@4.0.19...@yandex-int/si.ci.arc-shell@4.0.20) (2021-03-19)

**Note:** Version bump only for package @yandex-int/si.ci.arc-shell





## [4.0.19](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.arc-shell@4.0.18...@yandex-int/si.ci.arc-shell@4.0.19) (2021-03-15)

**Note:** Version bump only for package @yandex-int/si.ci.arc-shell





## [4.0.18](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.arc-shell@4.0.17...@yandex-int/si.ci.arc-shell@4.0.18) (2021-03-14)

**Note:** Version bump only for package @yandex-int/si.ci.arc-shell





## [4.0.17](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.arc-shell@4.0.17...@yandex-int/si.ci.arc-shell@4.0.17) (2021-03-13)



## 4.0.17 (2021-03-12)



## 4.0.16 (2021-03-12)



## 4.0.15 (2021-03-12)



## 4.0.14 (2021-03-12)


### Bug Fixes

* satisfy package-checker ([d319091](https://github.yandex-team.ru/search-interfaces/infratest/commit/d319091dbb014ad157b3b3cf9de412910b3191ba))



## 4.0.13 (2021-03-12)



## 4.0.12 (2021-03-11)



## 4.0.11 (2021-03-10)



## 4.0.10 (2021-03-10)



## 4.0.9 (2021-03-10)



## 4.0.8 (2021-03-10)



## 4.0.7 (2021-03-09)



## 4.0.6 (2021-03-09)



## 4.0.5 (2021-03-02)



## 4.0.4 (2021-02-26)



## 4.0.3 (2021-02-26)



## 4.0.2 (2021-02-19)



## 4.0.1 (2021-02-19)



# [4.0.0](https://github.yandex-team.ru/search-interfaces/infratest/compare/df743948b4c496cfa1fecfc61d6ac736185d0789...@yandex-int/si.ci.arc-shell@4.0.0) (2021-02-18)


### Bug Fixes

* add .npmignore ([0d88857](https://github.yandex-team.ru/search-interfaces/infratest/commit/0d8885765bd872d9815eb19e6f4a988a26093dc1))
* **arc-checkout:** use partial rebase ([ccc7d76](https://github.yandex-team.ru/search-interfaces/infratest/commit/ccc7d76bcc6671b3c578632af8558a8d1bacb2ab))
* **arc-shell:** ignore unmatched files for getTreeHashWithoutFiles ([3f8610e](https://github.yandex-team.ru/search-interfaces/infratest/commit/3f8610ee46753f8dcdde49fa665aec27579d7877))
* **ls-tree:** add --full-name to ls-tree ([4ae6895](https://github.yandex-team.ru/search-interfaces/infratest/commit/4ae68953d86602ce7114f4e465bdb961fc297b8f))
* resolve paths ([1f4bdcb](https://github.yandex-team.ru/search-interfaces/infratest/commit/1f4bdcb4b61068b7842a832a4934b10c4f8ee8da))


### Code Refactoring

* **arc-co:** refactor arc checkout script and modules ([a46789a](https://github.yandex-team.ru/search-interfaces/infratest/commit/a46789ae668afce60ef6538a4ad91b66199cb8a0))
* **arc-shell:** refactor `arc checkout` command wrapper ([56e93dd](https://github.yandex-team.ru/search-interfaces/infratest/commit/56e93ddeb95d7f35a9b54bb1351c95291e8788ca))
* **arc-shell:** refactored `arc log` command wrapper ([2204d79](https://github.yandex-team.ru/search-interfaces/infratest/commit/2204d7907ebe868b10145cdd9a3d6efe9269d0f3))


### Features

* **apply-logs:** add logging arc status to file ([88e1321](https://github.yandex-team.ru/search-interfaces/infratest/commit/88e1321ae05263ab16aa6b6e664b19688b51c115))
* **arc-checkout-logs:** add more debug logs for arc checkout ([9f55b5c](https://github.yandex-team.ru/search-interfaces/infratest/commit/9f55b5c18ba7a32d5108402b67c161a0fe7266d0))
* **arc-checkout-retry:** add retry to arc checkout ([25dc4e2](https://github.yandex-team.ru/search-interfaces/infratest/commit/25dc4e24cab7bfd34aebf1944035c0f8a33f437c))
* **arc-co:** new methods to arc shell and vcssync ([3301749](https://github.yandex-team.ru/search-interfaces/infratest/commit/330174943271532d3c59046a3f0962362a629c7f))
* **arc-methods:** add useful arc methods ([cb2c1f1](https://github.yandex-team.ru/search-interfaces/infratest/commit/cb2c1f1028744b7f9ef7b89a6e53ac016d1461a2))
* **arc-shell:** add --no-decarate option to log wrapper ([ba544d3](https://github.yandex-team.ru/search-interfaces/infratest/commit/ba544d3fc50c7bef859479590790a118659a20ab))
* **arc-shell:** add `arc add` command wrapper ([73707a1](https://github.yandex-team.ru/search-interfaces/infratest/commit/73707a13dcc05be8541f3b91fdeb38c9cd1db70a))
* **arc-shell:** add `arc branch` command wrapper ([b6fa7f7](https://github.yandex-team.ru/search-interfaces/infratest/commit/b6fa7f70d06435f1bcfec3f59e761d89af36c343))
* **arc-shell:** add `arc commit` command wrapper ([c89f0c3](https://github.yandex-team.ru/search-interfaces/infratest/commit/c89f0c384f532dba57b31dfe26c98a32acfd9dcd))
* **arc-shell:** add `arc pull` command wrapper ([125eac2](https://github.yandex-team.ru/search-interfaces/infratest/commit/125eac24c7b8917ea2e6bb8c02a661f0b953a046))
* **arc-shell:** add `arc rebase` command wrapper ([eb93d37](https://github.yandex-team.ru/search-interfaces/infratest/commit/eb93d3776cd1f4c26013aeea183aab56a5270eb9))
* **arc-shell:** add arc push command wrapper ([c01cff9](https://github.yandex-team.ru/search-interfaces/infratest/commit/c01cff9504317407ab1061d7c356ee2b0dda21d5))
* **arc-shell:** add arc shell package ([df74394](https://github.yandex-team.ru/search-interfaces/infratest/commit/df743948b4c496cfa1fecfc61d6ac736185d0789))
* **arc-shell:** add grep option to log ([6fab4bd](https://github.yandex-team.ru/search-interfaces/infratest/commit/6fab4bd37c738021a6b925f2d608796dcd466af4))
* **arc-shell:** add merge-base wrapper ([9d863d0](https://github.yandex-team.ru/search-interfaces/infratest/commit/9d863d0d351bf4e63f6ccce97629bf303c69868e))
* **arc-shell:** add retry to arc log wrapper ([d276036](https://github.yandex-team.ru/search-interfaces/infratest/commit/d27603613cc702613bb2d0b396adce069c64210b))
* **arc-shell:** add show wrapper ([5e6a157](https://github.yandex-team.ru/search-interfaces/infratest/commit/5e6a157a61caf428765835981c1cf1e83e24a6ae))
* **arc-shell:** add to `arc add` command option to add multiple paths ([7831e90](https://github.yandex-team.ru/search-interfaces/infratest/commit/7831e90b227f5b450dba35ba5ad8692e5ec63b4e))
* **arc-shell:** add wrapper to arc reset command ([382c31a](https://github.yandex-team.ru/search-interfaces/infratest/commit/382c31ae3716257dc1319e51972f98a71099abee))
* **arc-shell:** escape shell command arguments ([cf4a340](https://github.yandex-team.ru/search-interfaces/infratest/commit/cf4a3409f1677deccc80137bee803ae22ccf7e84))
* **arc-shell:** export Arc typings ([d1990e4](https://github.yandex-team.ru/search-interfaces/infratest/commit/d1990e4c11198e7fb9576a98a723e6c02f62383d))
* **arc-shell:** filter logs by given date range ([cee5231](https://github.yandex-team.ru/search-interfaces/infratest/commit/cee52314c6b470a4deca26232ba907bf2bd8e587))
* **arc-shell:** retry arc dump svn command ([a00cb44](https://github.yandex-team.ru/search-interfaces/infratest/commit/a00cb44651cf1be95529b68dcd16c807e3f3323f))
* **arc-shell:** return number from countStagedFiles ([8b13dab](https://github.yandex-team.ru/search-interfaces/infratest/commit/8b13dab8f2ba3d04b2007df4181dfd38db66e105))
* **arc-shell:** use --no-decorate flag in commit search ([ffc3cd8](https://github.yandex-team.ru/search-interfaces/infratest/commit/ffc3cd8f668e5b71f52dc318dcb6858ad6c9d081))
* **arc-tree-hash:** add tree hash wo files in get commit hashes ([a95db15](https://github.yandex-team.ru/search-interfaces/infratest/commit/a95db150418193658da1be8c3e1da365acf5bfb0))
* **ls-tree:** replace dump-hashes with ls-tree ([abc851a](https://github.yandex-team.ru/search-interfaces/infratest/commit/abc851a29525f836e589728255c59f32e37635fe))
* **safe-tree-hash:** add safe tree hash calc ([ac14fa5](https://github.yandex-team.ru/search-interfaces/infratest/commit/ac14fa59a3b0e44dc9245b945918c73c417778a6))


### BREAKING CHANGES

* **arc-shell:** у метода countStagedFiles изменился тип ответа string → number.

ISSUE: FEI-19939
* **arc-shell:** Отрефакторил по аналогии с другими методами, сейчас log принимает принимает объект `Arc.LogOptions` и строит команду для вызова `arc log`.

Подробно про log - https://arc-vcs.yandex-team.ru/docs/manual/arc/commands/#log
* **arc-shell:** Отрефакторил `checkout` для гибкости, сейчас checkout принимает принимает объект `Arc.CheckoutOptions` и строит команду для вызова `arc checkout`.

Подробно про checkout - https://arc-vcs.yandex-team.ru/docs/manual/arc/commands/#checkout
* **arc-co:** теперь в модуле vcssync-notes методы называются getSvnRevisionByGitCommitHashWithRetry и getSvnRevisionByGitCommitHash, также prepare-working-copy.js в логи пишет не revision, а svnRevision (важно, так как SB задача завязана на stdout)
