# Change Log

All notable changes to this project will be documented in this file.
See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.

# [7.1.0](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.testid-cli@7.0.23...@yandex-int/si.ci.testid-cli@7.1.0) (2021-04-22)


### Features

* use prepack instead of prepublishOnly ([f70140d](https://github.yandex-team.ru/search-interfaces/infratest/commit/f70140d96ce1710b289e4ff39d8c97348463d13b))





## [7.0.23](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.testid-cli@7.0.22...@yandex-int/si.ci.testid-cli@7.0.23) (2021-04-19)

**Note:** Version bump only for package @yandex-int/si.ci.testid-cli





## [7.0.22](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.testid-cli@7.0.21...@yandex-int/si.ci.testid-cli@7.0.22) (2021-03-24)

**Note:** Version bump only for package @yandex-int/si.ci.testid-cli





## [7.0.21](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.testid-cli@7.0.20...@yandex-int/si.ci.testid-cli@7.0.21) (2021-03-23)

**Note:** Version bump only for package @yandex-int/si.ci.testid-cli





## [7.0.20](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.testid-cli@7.0.19...@yandex-int/si.ci.testid-cli@7.0.20) (2021-03-19)

**Note:** Version bump only for package @yandex-int/si.ci.testid-cli





## [7.0.19](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.testid-cli@7.0.18...@yandex-int/si.ci.testid-cli@7.0.19) (2021-03-17)

**Note:** Version bump only for package @yandex-int/si.ci.testid-cli





## [7.0.18](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.testid-cli@7.0.17...@yandex-int/si.ci.testid-cli@7.0.18) (2021-03-15)

**Note:** Version bump only for package @yandex-int/si.ci.testid-cli





## [7.0.17](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.testid-cli@7.0.16...@yandex-int/si.ci.testid-cli@7.0.17) (2021-03-14)

**Note:** Version bump only for package @yandex-int/si.ci.testid-cli





## [7.0.16](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.testid-cli@7.0.16...@yandex-int/si.ci.testid-cli@7.0.16) (2021-03-13)



## 7.0.16 (2021-03-12)



## 7.0.15 (2021-03-12)



## 7.0.14 (2021-03-12)



## 7.0.13 (2021-03-12)


### Bug Fixes

* satisfy package-checker ([d319091](https://github.yandex-team.ru/search-interfaces/infratest/commit/d319091dbb014ad157b3b3cf9de412910b3191ba))



## 7.0.12 (2021-03-12)



## 7.0.11 (2021-03-11)



## 7.0.10 (2021-03-11)



## 7.0.9 (2021-03-10)



## 7.0.8 (2021-03-10)



## 7.0.7 (2021-03-10)



## 7.0.6 (2021-03-10)



## 7.0.5 (2021-03-09)



## 7.0.4 (2021-03-09)



## 7.0.3 (2021-03-02)



## 7.0.2 (2021-02-26)



## 7.0.1 (2021-02-26)



# [7.0.0](https://github.yandex-team.ru/search-interfaces/infratest/compare/3da65835a83b4797b2040f6530821e3b47332063...@yandex-int/si.ci.testid-cli@7.0.0) (2021-02-23)


### Bug Fixes

* **fei-13943:** причесать зависимости ([f71a454](https://github.yandex-team.ru/search-interfaces/infratest/commit/f71a454fa2ceeb483d9bfa0e76eff8bb446d5cac))
* **fei-13943:** причесать зависимости в пакетах ([d8dee72](https://github.yandex-team.ru/search-interfaces/infratest/commit/d8dee72eb3fdad18dbaaef0906c0cd1e25f9a8d0))
* **testid-cli:** accept an array of values in pubish command ([d8b2d50](https://github.yandex-team.ru/search-interfaces/infratest/commit/d8b2d50418923bbcde1ecc58f832b680ff1840f5))
* **testid-cli:** add escaping for flag values with doublequotes ([25ac9d5](https://github.yandex-team.ru/search-interfaces/infratest/commit/25ac9d53b9a612f97eeb7dae25deb99192d29cf8))
* **testid-cli:** add update expflags command ([96bc02c](https://github.yandex-team.ru/search-interfaces/infratest/commit/96bc02c5713aeb21936da2c8ccedd59b8b65e23f))
* **testid-cli:** avoild testids collisions ([a6dc655](https://github.yandex-team.ru/search-interfaces/infratest/commit/a6dc655339876c22079666435fc348a1e6d5fd21))
* **testid-cli:** component is required argument ([f250f62](https://github.yandex-team.ru/search-interfaces/infratest/commit/f250f62e99641d4a1113ad54aea7a9a53a94da30))
* **testid-cli:** condition for testid by flag ([9e22a73](https://github.yandex-team.ru/search-interfaces/infratest/commit/9e22a739687ca91c7e41406f1e89191a096c9fdc))
* **testid-cli:** config param name ([fb751af](https://github.yandex-team.ru/search-interfaces/infratest/commit/fb751afcacb8b8e11d09cbc0cea28fe613ffe3c6))
* **testid-cli:** correct support for "srcparams" flag ([4582f3b](https://github.yandex-team.ru/search-interfaces/infratest/commit/4582f3b3e9ef168331c9b60eacf2ae421c9d3975))
* **testid-cli:** correctly check for existing tags ([4fcafdc](https://github.yandex-team.ru/search-interfaces/infratest/commit/4fcafdcc5958a63a1ed5225d954c1eedf443677c))
* **testid-cli:** do not throw an exception calling command with help ([7772222](https://github.yandex-team.ru/search-interfaces/infratest/commit/777222290511e26f97a0a2d314e16fb8b5e18eb7))
* **testid-cli:** fetch all flags from AB ([35317ce](https://github.yandex-team.ru/search-interfaces/infratest/commit/35317ce3f510a85e6db68188c8aaec4964dfc73e))
* **testid-cli:** fetch flags only for one author ([07dd9c7](https://github.yandex-team.ru/search-interfaces/infratest/commit/07dd9c784e0bff1e791b10378ef45948a0c9dec3))
* **testid-cli:** fix spelling mistake ([acd9781](https://github.yandex-team.ru/search-interfaces/infratest/commit/acd9781b402ad05d1031afb4973ea9585d8b781d))
* **testid-cli:** fix typings ([0b44343](https://github.yandex-team.ru/search-interfaces/infratest/commit/0b44343467eda48e66a51e2789b719682b865e1c))
* **testid-cli:** fixed error when found more than one testid ([1865db8](https://github.yandex-team.ru/search-interfaces/infratest/commit/1865db8b310f8dcc338ca034c09775744a088f66))
* **testid-cli:** new params.user_time exp config ([dd56203](https://github.yandex-team.ru/search-interfaces/infratest/commit/dd5620394428ea2aacdc58f9f8b3eb64bbcfa1ae))
* **testid-cli:** remove unused Error interface ([22866d3](https://github.yandex-team.ru/search-interfaces/infratest/commit/22866d3a7645a673cd0143eaf34283e40f8fa489))
* **testid-cli:** render testid in config before comparing ([ac50b75](https://github.yandex-team.ru/search-interfaces/infratest/commit/ac50b758ca0c39f578b9dfab68aafc29b997576e))
* **testid-cli:** search only active testids ([6adc9fb](https://github.yandex-team.ru/search-interfaces/infratest/commit/6adc9fb35ffc07fb462e0ecc2c7f998faebb407c))
* **testid-cli:** testid create: stringify params ([be3d643](https://github.yandex-team.ru/search-interfaces/infratest/commit/be3d643f624b897524acf6d175b27b1cdb89afa1))
* add missing `debug` dependency ([856e2fa](https://github.yandex-team.ru/search-interfaces/infratest/commit/856e2fa97d3942363a92c8c6f4a83503f87ab95c))
* **testid-cli:** исключить дубликаты флагов ([1ece8d5](https://github.yandex-team.ru/search-interfaces/infratest/commit/1ece8d59567052a82864c1f6b0783ce1ff9c432e))
* **testid-cli:** исправил версию testpalm-api ([b491ef3](https://github.yandex-team.ru/search-interfaces/infratest/commit/b491ef3995a7758492714452c17414995f287fe5))
* **testid-cli:** лишние testid для rearr-флагов ([addd6c5](https://github.yandex-team.ru/search-interfaces/infratest/commit/addd6c5a0834299b6c104fce9d25d33802863740))
* **testid-cli:** много лишнего в логе ([d9137e2](https://github.yandex-team.ru/search-interfaces/infratest/commit/d9137e2bff13d10e8f5cdf0c011c43ed37a23e6e))
* **testid-cli:** не выставлять теги в dry-режиме ([63f7522](https://github.yandex-team.ru/search-interfaces/infratest/commit/63f7522219347d5a99e55fe30fb22a317a7ea62b))
* **testid-cli:** не падать из-за одного флага ([2226b00](https://github.yandex-team.ru/search-interfaces/infratest/commit/2226b004f30b867377c7683357474156062fcae7))
* **testid-cli:** не ставить тег флагу без testid ([3044c37](https://github.yandex-team.ru/search-interfaces/infratest/commit/3044c372dd38f976d345748b513c3eadf6c2eecb))
* **testid-cli:** неправильный конфиг для rearr ([b26181d](https://github.yandex-team.ru/search-interfaces/infratest/commit/b26181dc9991703dca8d1fb3ea0dc4634b41f95d))
* **testid-cli:** нет нужных testid в списке активных testid ([26f0782](https://github.yandex-team.ru/search-interfaces/infratest/commit/26f078276877c4c8d2c4d39922abefb81b1f7789))
* **testid-cli:** падать при пустых definitions ([f829a42](https://github.yandex-team.ru/search-interfaces/infratest/commit/f829a42cff0a28f43830412986c4b75b32d0c0a6))
* **testid-cli:** писать название флага в ошибке ([df35ac3](https://github.yandex-team.ru/search-interfaces/infratest/commit/df35ac3afda2bf9443ebca75953008d4f4a2ef56))
* перевёл все секреты, уже использующие env-utils ([d63a17a](https://github.yandex-team.ru/search-interfaces/infratest/commit/d63a17a47a216b35fcd7c93296507403303f1bf8))
* **testid-cli:** проставлять zero_testing_application тег для testid ([b412e36](https://github.yandex-team.ru/search-interfaces/infratest/commit/b412e3628bc064e57f3d07cff089fad8d8befaf1)), closes [/st.yandex-team.ru/USEREXP-4910#1508505257000](https://github.yandex-team.ru/search-interfaces/infratest/issues/1508505257000)
* **testid-cli:** теряем часть кэша ([4e53e68](https://github.yandex-team.ru/search-interfaces/infratest/commit/4e53e6844cd6ff6faefb8aa35dd52ccb60b26c01))


### Code Refactoring

* **expflags-cli:** move expflags logic from testid-cli ([f74daa3](https://github.yandex-team.ru/search-interfaces/infratest/commit/f74daa3cdc4d74d18fe43f4475b23191bb3e0cca))


### Features

* **expflags-cli:** create pkg, move config docs from testid-cli ([d103bcd](https://github.yandex-team.ru/search-interfaces/infratest/commit/d103bcd18184af2bd56aed9de16a1c305b6dc122))
* **packages:** обновит пакет testpalm-api ([a4c9b59](https://github.yandex-team.ru/search-interfaces/infratest/commit/a4c9b593bba947fa840076fcf2acc24d3d08fd79))
* **tcli:** add new cli options (set-context, set-handler) ([73b3f05](https://github.yandex-team.ru/search-interfaces/infratest/commit/73b3f0531b1143b5f61c7186e5038610ff63e64f))
* **tcli:** support custom HANDLER and CONTEXT in common flag adapter ([54cf26d](https://github.yandex-team.ru/search-interfaces/infratest/commit/54cf26d69198436bd6a871a57dd48054a71359f1))
* **tcli:** use context object in adapters ([400ea75](https://github.yandex-team.ru/search-interfaces/infratest/commit/400ea7585081938ed0e817660f3284a8ffab4e52))
* **testid-cli:** ability to set tags to created testid ([27d0fa1](https://github.yandex-team.ru/search-interfaces/infratest/commit/27d0fa1e7dbb48a6913fc707ad7412c7c6cfa693))
* **testid-cli:** add --set-condition-to-foreverdata ([29364b1](https://github.yandex-team.ru/search-interfaces/infratest/commit/29364b1c261e7b2ad4812587bc4f5ba72a1a01a2))
* **testid-cli:** add "archive" command ([88636db](https://github.yandex-team.ru/search-interfaces/infratest/commit/88636dbc65163c1753aa678f3c55eb2e2ea4bf54))
* **testid-cli:** add "search" command ([60c6aef](https://github.yandex-team.ru/search-interfaces/infratest/commit/60c6aef194c2a0d3117787560266ac9fa28ba825))
* **testid-cli:** add "srcparams" adapter ([5300bf6](https://github.yandex-team.ru/search-interfaces/infratest/commit/5300bf6d56f1b2dde4da8f782d756150ff088eee))
* **testid-cli:** add `create` command ([d9b0d83](https://github.yandex-team.ru/search-interfaces/infratest/commit/d9b0d83424372628e26d7ace92953149cb8a0ca6))
* **testid-cli:** add config parser with typings ([8825c4c](https://github.yandex-team.ru/search-interfaces/infratest/commit/8825c4ca5a816ebeed5623f2e1e140383bfa0e84))
* **testid-cli:** add context object to create-from-testpalm ([6ec9238](https://github.yandex-team.ru/search-interfaces/infratest/commit/6ec92380891b561ca6b5328250dca9111b61ecf6))
* **testid-cli:** add debug about config value ([4d15bd4](https://github.yandex-team.ru/search-interfaces/infratest/commit/4d15bd48e018f6b5f48fc1a9a4ebc99316295215))
* **testid-cli:** add deprecate flag command ([55d5afb](https://github.yandex-team.ru/search-interfaces/infratest/commit/55d5afbecce78c8a6483a225c3d9ed104dd97329))
* **testid-cli:** add smart json parser ([1c9b6fa](https://github.yandex-team.ru/search-interfaces/infratest/commit/1c9b6fad002ddaf6f491a762c0cc50137f998565))
* **testid-cli:** add update command ([89f8c8c](https://github.yandex-team.ru/search-interfaces/infratest/commit/89f8c8cbd87f8200349d24f8f3217542443b3743))
* **testid-cli:** add user_time adapter ([8d863ff](https://github.yandex-team.ru/search-interfaces/infratest/commit/8d863ff1905d25822671cfaf9e323a9712abc590))
* **testid-cli:** allow nested context in common flag adapter ([76b004e](https://github.yandex-team.ru/search-interfaces/infratest/commit/76b004e00492da935c6fa312ad432190aa368bbb))
* **testid-cli:** allow testid update if configration was changed ([1ec4f84](https://github.yandex-team.ru/search-interfaces/infratest/commit/1ec4f84ced73cda50561ffbcf07d5951312fdd86))
* **testid-cli:** always return url in createStickyUrl ([a4fdc56](https://github.yandex-team.ru/search-interfaces/infratest/commit/a4fdc569fba4d6bd92d1d0dd1e9a62ff44305fa4))
* **testid-cli:** api for sticky url creating ([0cb0fcf](https://github.yandex-team.ru/search-interfaces/infratest/commit/0cb0fcfdadbb9d95f1eafd0386fe8ed384dba76f))
* **testid-cli:** api for testid create ([55ee6c9](https://github.yandex-team.ru/search-interfaces/infratest/commit/55ee6c976ab8fc21473adef1649c50270d635293))
* **testid-cli:** api for testid deploy awaiting ([eb89d9d](https://github.yandex-team.ru/search-interfaces/infratest/commit/eb89d9dbee9b89e1be6b927c7cda291bba99dd42))
* **testid-cli:** awaitDeploy flag for create command ([e9b2a29](https://github.yandex-team.ru/search-interfaces/infratest/commit/e9b2a294a8838b41f550079d583fe36bc265226a))
* **testid-cli:** check existing applications before creating ([fc4e761](https://github.yandex-team.ru/search-interfaces/infratest/commit/fc4e76126775a0abbc655fcfd9f29bba7918edc2))
* **testid-cli:** check if testid configuration was changed ([4d3793d](https://github.yandex-team.ru/search-interfaces/infratest/commit/4d3793d8fa8201cfea3a690f87bed48f1fb561af))
* **testid-cli:** create flags for all handlers ([eebde87](https://github.yandex-team.ru/search-interfaces/infratest/commit/eebde875cd6179535c711b6e8f3a387a747459cc))
* **testid-cli:** create-from-testpalm: remove cache ([58af5e8](https://github.yandex-team.ru/search-interfaces/infratest/commit/58af5e832d36ca834cb865243ed51afe9db0d612))
* **testid-cli:** createStickyUrl flag for create command ([be3ea7f](https://github.yandex-team.ru/search-interfaces/infratest/commit/be3ea7f755aa9d6bd3851a268ac647bef7bfbf27))
* **testid-cli:** do not set zero_testing_appliction tag ([394a0c6](https://github.yandex-team.ru/search-interfaces/infratest/commit/394a0c65243296fb2ff1f44ca02d6d61fceb86a6))
* **testid-cli:** filter errored flags if flag defined as skipped ([80ff4a4](https://github.yandex-team.ru/search-interfaces/infratest/commit/80ff4a4c0d2c1e74f5c5bd17eb1191fe5e747f6a))
* **testid-cli:** method for testid update ([18e6a79](https://github.yandex-team.ru/search-interfaces/infratest/commit/18e6a79767964f42e12a1b6f8ce51ed89891e1f8))
* **testid-cli:** modify params.foreverdata adapter ([1e5fea4](https://github.yandex-team.ru/search-interfaces/infratest/commit/1e5fea4f5e8fad5c7d22f762927336e0e5e42be5))
* **testid-cli:** process created testid params before comparison ([bbb65ba](https://github.yandex-team.ru/search-interfaces/infratest/commit/bbb65ba13b24366442eba923af17eb1d16d5c3ae))
* **testid-cli:** remove publish command ([d18e9dd](https://github.yandex-team.ru/search-interfaces/infratest/commit/d18e9dd151a6572da484e39e8ae29b4db7a09a33))
* **testid-cli:** search full testids ([4d45746](https://github.yandex-team.ru/search-interfaces/infratest/commit/4d45746507ae7d5bf6e52be0e8d9b8f60c1f7f87))
* **testid-cli:** set "CROWDTEST_EXP_FLAG_TAG" tag to each testid ([8d5bdae](https://github.yandex-team.ru/search-interfaces/infratest/commit/8d5bdae0e91275e3484a30d0f9ee909948dcc078))
* **testid-cli:** support muting flags by value ([1532a3e](https://github.yandex-team.ru/search-interfaces/infratest/commit/1532a3e8953e03cd14df670258e731aacc1ce309))
* **testid-cli:** testid storage instead of search ([ff0932d](https://github.yandex-team.ru/search-interfaces/infratest/commit/ff0932dfbc120d2a4b4e97b52d0101194a336de4))
* **testid-cli:** testid-cli publish ([2978a85](https://github.yandex-team.ru/search-interfaces/infratest/commit/2978a85d7c743075925f4702409ea536e22ae076))
* **testid-cli:** typed errors for create command ([e477ffc](https://github.yandex-team.ru/search-interfaces/infratest/commit/e477ffcea56226c7d81a0cad091a6812380dd9bf))
* **testid-cli:** use @yandex-int/testpalm-api@5 ([94fbef1](https://github.yandex-team.ru/search-interfaces/infratest/commit/94fbef13aa0a22189caa3dce2eab0a41d06976e6))
* add UA for each TestpalmApi instance ([a8d1eac](https://github.yandex-team.ru/search-interfaces/infratest/commit/a8d1eac1eb3f900bc0b362be7d783254e1aba577))
* **testid-cli:** use OAuth token ([5091879](https://github.yandex-team.ru/search-interfaces/infratest/commit/5091879125f47f8b5e4f8b9d1864a15a0700db9a))
* **testid-cli:** use smart json parser for config option ([b15b3c8](https://github.yandex-team.ru/search-interfaces/infratest/commit/b15b3c8152815eea8d51f829217a0cc873f35dc5))
* update `testpalm-api` package ([ebee260](https://github.yandex-team.ru/search-interfaces/infratest/commit/ebee2607632bc7ef4c9c60b4828927f012eb18d8))
* update `testpalm-api` version ([463f4cf](https://github.yandex-team.ru/search-interfaces/infratest/commit/463f4cf0fc7f4491411e52daf35f1792b74e4064))
* update testpalm-api package ([36a603a](https://github.yandex-team.ru/search-interfaces/infratest/commit/36a603ae89da5cb0df8cb1a6632716e0800c4795))
* **testid-cli:** valid error type ([8885eec](https://github.yandex-team.ru/search-interfaces/infratest/commit/8885eece4cfa105556306a0bf7effb30219965b3))
* **testid-cli:** validation_type в конфиге ([09e12df](https://github.yandex-team.ru/search-interfaces/infratest/commit/09e12dfcca9de43fbd33161df61b18c5ee0a6eec))
* **testid-cli:** загрузка флагов в сторадж ([b07fce0](https://github.yandex-team.ru/search-interfaces/infratest/commit/b07fce03ea852fadae610aff50f1651933a432b5))
* **testid-cli:** новый пакет ([0500763](https://github.yandex-team.ru/search-interfaces/infratest/commit/050076333454230bc47da94c5be706ad3cacdc1a))
* **testid-cli:** поддержать flags.yandex_login ([60bd81c](https://github.yandex-team.ru/search-interfaces/infratest/commit/60bd81c8369c7217a061a035c361be996b6a5b38))
* **testid-cli:** поддержать params.flags ([bdda724](https://github.yandex-team.ru/search-interfaces/infratest/commit/bdda7240b5a16be95c2cdef1a851615418572c6a))
* **testid-cli:** поддержать параметры fiji ([381be07](https://github.yandex-team.ru/search-interfaces/infratest/commit/381be07a908456af7ca8f5b422f0c87626b7b5f3))
* **testid-cli:** создание и публикация testid ([3da6583](https://github.yandex-team.ru/search-interfaces/infratest/commit/3da65835a83b4797b2040f6530821e3b47332063))


### BREAKING CHANGES

* **testid-cli:** Аргумент `handler` больше не имеет значения по умолчанию. Ранее был `REPORT`. Выборки для хэндлера `REPORT` более не создаются.
* **testid-cli:** удалён кеш.
Так как теперь testid ищутся при помощи постраничной выгрузки всех testid, а не при отдельных запросах на поиск по содержимому для кажодго значения каждого флага, нагрузка на ab становится сильно меньше.

see FEI-16092
* **testid-cli:** удаление команды `publish`, так как больше не нужно заводить applications.
see FEI-16400
* **testid-cli:** Теперь утилита требует OAuth-токен из переменной окружения `TESTPALM_OAUTH_TOKEN`.
* **expflags-cli:** Вынес всё, что касается expflags из testid-cli. Иземенения только
в метках debug, путях, названиях методов и команд.
* **testid-cli:** добавить новый пакет
