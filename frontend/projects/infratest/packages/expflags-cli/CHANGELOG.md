# Change Log

All notable changes to this project will be documented in this file.
See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.

# [9.4.0](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.expflags-cli@9.3.1...@yandex-int/si.ci.expflags-cli@9.4.0) (2021-04-22)


### Features

* use prepack instead of prepublishOnly ([f70140d](https://github.yandex-team.ru/search-interfaces/infratest/commit/f70140d96ce1710b289e4ff39d8c97348463d13b))





## [9.3.1](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.expflags-cli@9.3.0...@yandex-int/si.ci.expflags-cli@9.3.1) (2021-04-19)

**Note:** Version bump only for package @yandex-int/si.ci.expflags-cli





# [9.3.0](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.expflags-cli@9.2.0...@yandex-int/si.ci.expflags-cli@9.3.0) (2021-03-31)


### Bug Fixes

* add filtration of output flag's fields ([f086a3f](https://github.yandex-team.ru/search-interfaces/infratest/commit/f086a3f9720170275ae6cd16e2fafef86a0e05b9))
* update after code review ([8b230a8](https://github.yandex-team.ru/search-interfaces/infratest/commit/8b230a8fc1e3f701f69bb43aa82381650b279252))


### Features

* add command for getting flags with filtering by tags ([0e1bb51](https://github.yandex-team.ru/search-interfaces/infratest/commit/0e1bb515cc30e26e7def8ed72e0769aadbc11f87))





# [9.2.0](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.expflags-cli@9.1.23...@yandex-int/si.ci.expflags-cli@9.2.0) (2021-03-24)


### Features

* add deprecate command ([3abbd20](https://github.yandex-team.ru/search-interfaces/infratest/commit/3abbd205e4470f3895d05eb7e7cbfa5434e568b8))





## [9.1.23](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.expflags-cli@9.1.22...@yandex-int/si.ci.expflags-cli@9.1.23) (2021-03-24)


### Bug Fixes

* add prNumber tag into flag ([ea3db5c](https://github.yandex-team.ru/search-interfaces/infratest/commit/ea3db5cfa1f82c9a387bd4bbb34910af15c8fc64))





## [9.1.22](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.expflags-cli@9.1.21...@yandex-int/si.ci.expflags-cli@9.1.22) (2021-03-24)

**Note:** Version bump only for package @yandex-int/si.ci.expflags-cli





## [9.1.21](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.expflags-cli@9.1.20...@yandex-int/si.ci.expflags-cli@9.1.21) (2021-03-23)

**Note:** Version bump only for package @yandex-int/si.ci.expflags-cli





## [9.1.20](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.expflags-cli@9.1.19...@yandex-int/si.ci.expflags-cli@9.1.20) (2021-03-19)

**Note:** Version bump only for package @yandex-int/si.ci.expflags-cli





## [9.1.19](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.expflags-cli@9.1.18...@yandex-int/si.ci.expflags-cli@9.1.19) (2021-03-17)

**Note:** Version bump only for package @yandex-int/si.ci.expflags-cli





## [9.1.18](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.expflags-cli@9.1.17...@yandex-int/si.ci.expflags-cli@9.1.18) (2021-03-15)

**Note:** Version bump only for package @yandex-int/si.ci.expflags-cli





## [9.1.17](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.expflags-cli@9.1.16...@yandex-int/si.ci.expflags-cli@9.1.17) (2021-03-14)

**Note:** Version bump only for package @yandex-int/si.ci.expflags-cli





## [9.1.16](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.expflags-cli@9.1.16...@yandex-int/si.ci.expflags-cli@9.1.16) (2021-03-13)



## 9.1.16 (2021-03-12)



## 9.1.15 (2021-03-12)



## 9.1.14 (2021-03-12)



## 9.1.13 (2021-03-12)


### Bug Fixes

* satisfy package-checker ([d319091](https://github.yandex-team.ru/search-interfaces/infratest/commit/d319091dbb014ad157b3b3cf9de412910b3191ba))



## 9.1.12 (2021-03-12)



## 9.1.11 (2021-03-11)



## 9.1.10 (2021-03-10)



## 9.1.9 (2021-03-10)



## 9.1.8 (2021-03-10)



## 9.1.7 (2021-03-10)



## 9.1.6 (2021-03-10)


### Bug Fixes

* **expflags-cli:** make bin script executable ([5baf838](https://github.yandex-team.ru/search-interfaces/infratest/commit/5baf838306c30f209f5fe404a6528b7373ee39ec))



## 9.1.5 (2021-03-09)



## 9.1.4 (2021-03-09)



## 9.1.3 (2021-03-01)



## 9.1.2 (2021-02-26)



## [9.1.1](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.expflags-cli@9.1.0...@yandex-int/si.ci.expflags-cli@9.1.1) (2021-02-26)


### Bug Fixes

* **expflags-cli:** add lost aliases for options ([c45d6cb](https://github.yandex-team.ru/search-interfaces/infratest/commit/c45d6cb993117776f435a17c59e872384ba80854))



# [9.1.0](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.expflags-cli@9.0.0...@yandex-int/si.ci.expflags-cli@9.1.0) (2021-02-25)


### Bug Fixes

* **expflags-cli:** do not trying to update manual flag ([4bb5aa4](https://github.yandex-team.ru/search-interfaces/infratest/commit/4bb5aa4110cda2b7c228dc40ea9f8521f92f78da))


### Features

* **expflags-cli:** introduce "manual-flag-exist" rule ([d5dec4a](https://github.yandex-team.ru/search-interfaces/infratest/commit/d5dec4a207809b3901965628a7deeb90ca4950ca))
* **expflags-cli:** introduce "ValuesTypeRule" rule for validator ([a1230ad](https://github.yandex-team.ru/search-interfaces/infratest/commit/a1230ad85af8c23fed5dce6497fd18b68c5a8880))



# [9.0.0](https://github.yandex-team.ru/search-interfaces/infratest/compare/@yandex-int/si.ci.expflags-cli@8.0.1...@yandex-int/si.ci.expflags-cli@9.0.0) (2021-02-25)



## 8.0.1 (2021-02-21)



# 8.0.0 (2021-02-20)


### Bug Fixes

* **expflags:** throw error when flag does not represented in storage ([d1b92a9](https://github.yandex-team.ru/search-interfaces/infratest/commit/d1b92a94d09586e8fa33ca4c7de8c13a486e15c8))
* **expflags-cli:** add backend_teams field to config ([870083a](https://github.yandex-team.ru/search-interfaces/infratest/commit/870083ab559bb86e673c762170d2e126cc1617e6))
* **expflags-cli:** add handler option in deprecated command ([cda3447](https://github.yandex-team.ru/search-interfaces/infratest/commit/cda34477ff7b2b88905e3478a0cdcccc6908c86e))
* **expflags-cli:** change bin to correct BREAKING CHANGES: Исправлено название команды в bin ([913ab49](https://github.yandex-team.ru/search-interfaces/infratest/commit/913ab491ef9279298b60406713f7ce939164de78))
* **expflags-cli:** fetch flags only for one source ([9f4751f](https://github.yandex-team.ru/search-interfaces/infratest/commit/9f4751fcdcd20cc2f3c068d741964d2ef798f431))
* **expflags-cli:** fix work with multiple handlers ([ebda8a4](https://github.yandex-team.ru/search-interfaces/infratest/commit/ebda8a4b7691831b080c2f1f2847b9feb02c56da))
* **expflags-cli:** make positional arguments required and add param ([ed9b342](https://github.yandex-team.ru/search-interfaces/infratest/commit/ed9b3427fd8172bcef8ae9ba6e210a7d7fe056e8))
* **expflags-cli:** process handler from raw flags ([fb1ff24](https://github.yandex-team.ru/search-interfaces/infratest/commit/fb1ff24787e772d3efa135c1b69f0071c82aabd4))
* **expflags-cli:** replace common settings with user's ones ([335a48c](https://github.yandex-team.ru/search-interfaces/infratest/commit/335a48c40487e9d6bf5bc284a6634c1e43d2af5c))
* **expflags-cli:** trailing whitespaces in comparing ([bb218f8](https://github.yandex-team.ru/search-interfaces/infratest/commit/bb218f87efab1a5dedb932ae80f484de33afec26))
* **expflags-cli:** wrap promises with try/catch ([3af7b99](https://github.yandex-team.ru/search-interfaces/infratest/commit/3af7b9933d5a9d47414a23cd70d8d1425a6ea2ba))
* **fei-13943:** причесать зависимости ([2114450](https://github.yandex-team.ru/search-interfaces/infratest/commit/2114450d79c40bafa860c2cb893bf169ab7a16e8))
* **fei-13943:** причесать зависимости в пакетах ([1435722](https://github.yandex-team.ru/search-interfaces/infratest/commit/1435722175ffa03a2f89408884ec838283928908))
* **testid-cli:** ignore unspecified field comparing ([6715a3a](https://github.yandex-team.ru/search-interfaces/infratest/commit/6715a3a99cd1a7f00f0e6bcc85adda423e8852c9))
* **types:** add backend_teams to AB flag type ([08c8eda](https://github.yandex-team.ru/search-interfaces/infratest/commit/08c8eda5a754565f6ee857f2f3dcae50830b7e80))
* add missing `debug` dependency ([a21f420](https://github.yandex-team.ru/search-interfaces/infratest/commit/a21f4207ad9939e632f321e738c12ba2887391ca))


### Code Refactoring

* **expflags:** remove "REPORT" handler ([0e869da](https://github.yandex-team.ru/search-interfaces/infratest/commit/0e869dad04d3f8c8fbd8fd02a1d1f113450b60d8))
* **expflags-cli:** move expflags logic from testid-cli ([14db0ff](https://github.yandex-team.ru/search-interfaces/infratest/commit/14db0ff7b19165f24ced2db37e693804dc937181))
* **expflags-cli:** remove "handler" field ([19dc076](https://github.yandex-team.ru/search-interfaces/infratest/commit/19dc076eb73cb629ea630cc4ebb381592f53f49b))


### Features

* **expflags:** optionally validate empty of vteam prop ([1eec8e5](https://github.yandex-team.ru/search-interfaces/infratest/commit/1eec8e5a0761be92e01bb05be450c5f6b627f62e))
* **expflags-ci:** add bin ([70cdb16](https://github.yandex-team.ru/search-interfaces/infratest/commit/70cdb1619482b0d6c6a1187b7c8edd8f57065e07))
* **expflags-cli:** add `manual` marker ([28d4ca7](https://github.yandex-team.ru/search-interfaces/infratest/commit/28d4ca7196cb59f413d3fcd65355ebccd8da5aa7))
* **expflags-cli:** add getErrorMessage to utils ([3d9b2e4](https://github.yandex-team.ru/search-interfaces/infratest/commit/3d9b2e44b20f4e47fc8811171bb887d823509060))
* **expflags-cli:** add source option for deprecate command ([0731205](https://github.yandex-team.ru/search-interfaces/infratest/commit/07312059d46340ab22de9bfcdd44ee2229043ded))
* **expflags-cli:** add support for file with flags ([90e3919](https://github.yandex-team.ru/search-interfaces/infratest/commit/90e391944df40b27c38ee684d9091abb685871f6))
* **expflags-cli:** add validator ([3832c22](https://github.yandex-team.ru/search-interfaces/infratest/commit/3832c22370191311e5fdfecea31e8b7a6acd238a))
* **expflags-cli:** create pkg, move config docs from testid-cli ([0a573ba](https://github.yandex-team.ru/search-interfaces/infratest/commit/0a573ba1724891e7749631e497cf91135a53491d))
* **expflags-cli:** introduce "handlers" field ([5c6c6d9](https://github.yandex-team.ru/search-interfaces/infratest/commit/5c6c6d94f5c186d08aaad23c01625103b40298e7))
* **expflags-cli:** is_removed_from_code field in flag ([c631851](https://github.yandex-team.ru/search-interfaces/infratest/commit/c6318516d8fabe471f5930c2e3e772d6d999a0f0))
* **expflags-cli:** mark as removed instead of deprecate ([f7053c3](https://github.yandex-team.ru/search-interfaces/infratest/commit/f7053c3969480ac66b9568ddc81e2fc9a139d686))
* **expflags-cli:** pass vteam from flag declaration ([55afbee](https://github.yandex-team.ru/search-interfaces/infratest/commit/55afbeeb2a2ae6397b17cbd364ecc76522dd2c11))
* **expflags-cli:** pattern instead of directory path ([ff338da](https://github.yandex-team.ru/search-interfaces/infratest/commit/ff338daf7a85fc2c2cb7c88e5eab766bdbf11d64))
* **expflags-cli:** throw error when flags have different sources ([de4aabe](https://github.yandex-team.ru/search-interfaces/infratest/commit/de4aabe45fe7044f3667edaa7c0475047351429b))
* **expflags-cli:** use new version of AB flags API ([52301b5](https://github.yandex-team.ru/search-interfaces/infratest/commit/52301b5dd33cbc72c2118ca248bab7297bcf982d))
* **expflags-cli:** use validator ([378f3f1](https://github.yandex-team.ru/search-interfaces/infratest/commit/378f3f195a716b53b5d0852e964f83a02f0a7071))
* **expflags-cli:** validate "creator" field ([6f76622](https://github.yandex-team.ru/search-interfaces/infratest/commit/6f76622e2be8b6b04982e8d530add8055f318fd5))
* **testid-cli:** add command for fetching stored expflags ([df24d1a](https://github.yandex-team.ru/search-interfaces/infratest/commit/df24d1a33d9c8aa31113f8c84711b4f5fc45ec1b))
* **testid-cli:** add convertation util stored->project expflags ([8c2c4fe](https://github.yandex-team.ru/search-interfaces/infratest/commit/8c2c4fe70d084772c5bed03cfb752d4b0a4aa60b))
* **testid-cli:** add expflag typing ([9c2c5a9](https://github.yandex-team.ru/search-interfaces/infratest/commit/9c2c5a96df8d628a47d7d35244a2a5c9fd77681e))


### Reverts

* Revert "refactor(expflags-cli): remove is_system field from compareble list" ([162b059](https://github.yandex-team.ru/search-interfaces/infratest/commit/162b0594c4ebd1dd25da1891e8c1e9450027f5d7))


### BREAKING CHANGES

* **expflags-cli:** Поле `handler` удалено и не должно использоваться в декларациях флагов. Взамен используйте поле `handlers`.
* **expflags:** Поле `handler` более не имеет значение `REPORT` по умолчанию. Требуется указывать значение поля самостоятельно, используя поле `handlers`. Поле `handler` помечено как депрекейтед и будет удалено в следующем мажоре.
* **expflags-cli:** вместо команды депрекейта теперь команда, которая
помечает переданные флаги удалёнными из кода.
Это нужно, так как депрекейт сейчас не работает как ожидается. Теперь он
будет происходить автоматически на стороне AB, но для этого нам нужно
оповещать сервис, когда флаг удаляется из кода.
* **expflags-cli:** новая версия API для работы с флагами.
Теперь везде обязательно нужно передавать `handler`.
Некоторые поля стали массивами:
	component -> components
	service -> services
Поле owner удалено.
* **expflags-cli:** Вынес всё, что касается expflags из testid-cli. Иземенения только
в метках debug, путях, названиях методов и команд.
