# islands 4.14.0

<!-- ЧЕЛОВЕЧЕСКОЕ ВСТУПЛЕНИЕ -->

Изменения, вошедшие в релиз islands 4.14.0, разделены на группы:

* [минорные изменения](#Минорные-изменения) — задачи, в рамках которых произошло расширение API блоков;
* [исправлено и улучшено](#Исправлено-и-улучшено) — различные исправления, не затрагивающие API блоков.

Все важные изменения подробно описаны [ниже](#Пояснения).

## Минорные изменения

| Заголовок                                                      | Задача     | PR      |
| :------------------------------------------------------------- | :--------- | :------ |
| [country-flag: Добавить флаг Евросоюза](#ISL-2672)             | [ISL-2672] | [#1494] |
| [i-bem: Портировать поддержку примесей из bem-core](#ISL-2368) | [ISL-2368] | [#1456] |
| [i-font: Добавить Yandex Sans Text](#ISL-2637)                 | [ISL-2637] | [#1452] |

## Исправлено и улучшено

| Заголовок                                                                        | Задача     | PR      |
| :------------------------------------------------------------------------------- | :--------- | :------ |
| button2_type_link: Оптимизировать передачу URL                                   | [ISL-2557] | [#1451] |
| input: Не работает suggest_yes на touch-уровне                                   | [ISL-1998] | [#1478] |
| lang-switcher: Консольная ошибка при клике на переключатель языков               | [ISL-2692] | [#1506] |
| link: Предотвращать доступ к родительскому окну при открытии через target="_b... | [ISL-2679] | [#1479] |
| services-table: Заменить Яндекс.Авто на Авто.ру                                  | [ISL-2568] | [#1450] |
| social-broker: Обернуть localStorage в https://github.com/doochik/SafeLS или ... | [ISL-2602] | [#1503] |
| tumbler: Реализовать ползунок через button2                                      | [ISL-2102] | [#1467] |
| user: Возникает ошибка, если в touch-phone-сборку попадает __enter               | [ISL-2023] | [#1485] |
| Добавить контролам touch-action manipulation                                     | [ISL-2689] | [#1473] |


## Пояснения

<a name="ISL-2672"></a>
### [country-flag: Добавить флаг Евросоюза][ISL-2672]

Добавлен флаг Европейского Союза под [кодом `EU`](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2#EU).

<a name="ISL-2368"></a>
### [i-bem: Портировать поддержку примесей из bem-core][ISL-2368]

В блоке `i-bem` добавлена возможность [декларирования](https://github.com/bem/bem-core/blob/e15aa9267aed8a088726cd20003bff9132915f6a/common.docs/i-bem-js/i-bem-js-decl.ru.md#%D0%94%D0%B5%D0%BA%D0%BB%D0%B0%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%B1%D0%BB%D0%BE%D0%BA%D0%B0-%D0%BC%D0%B8%D0%BA%D1%81%D0%B0) и использования блоков-миксов.

Например:
```js
BEM.declMix('predictable-get', {
    get: function() {
        return Math.random();
    }
});

BEM.DOM.decl({block: 'my-block', baseMix: ['predictable-get']});
```

<a name="ISL-2637"></a>
### [i-font: Добавить Yandex Sans Text][ISL-2637]

В блок `i-font` добавлен шрифт Yandex Sans.

[Подключается](https://lego.yandex-team.ru/libs/islands/v4.x/desktop/i-font/)
шрифт через  модификатор блока `face` со значением `yandex-sans-text-*`
c нужным начертанием, например, `i-font_face_yandex-sans-text-regular`.

Подключить шрифты без обновления библиотеки можно указав [адреса шрифтов на yastatic](https://paste.yandex-team.ru/120479).



[ISL-2557]: https://st.yandex-team.ru/ISL-2557
[#1451]: https://github.yandex-team.ru/lego/islands/pull/1451
[ISL-2672]: https://st.yandex-team.ru/ISL-2672
[#1494]: https://github.yandex-team.ru/lego/islands/pull/1494
[ISL-2368]: https://st.yandex-team.ru/ISL-2368
[#1456]: https://github.yandex-team.ru/lego/islands/pull/1456
[ISL-2637]: https://st.yandex-team.ru/ISL-2637
[#1452]: https://github.yandex-team.ru/lego/islands/pull/1452
[ISL-1998]: https://st.yandex-team.ru/ISL-1998
[#1478]: https://github.yandex-team.ru/lego/islands/pull/1478
[ISL-2692]: https://st.yandex-team.ru/ISL-2692
[#1506]: https://github.yandex-team.ru/lego/islands/pull/1506
[ISL-2679]: https://st.yandex-team.ru/ISL-2679
[#1479]: https://github.yandex-team.ru/lego/islands/pull/1479
[ISL-2568]: https://st.yandex-team.ru/ISL-2568
[#1450]: https://github.yandex-team.ru/lego/islands/pull/1450
[ISL-2602]: https://st.yandex-team.ru/ISL-2602
[#1503]: https://github.yandex-team.ru/lego/islands/pull/1503
[ISL-2102]: https://st.yandex-team.ru/ISL-2102
[#1467]: https://github.yandex-team.ru/lego/islands/pull/1467
[ISL-2023]: https://st.yandex-team.ru/ISL-2023
[#1485]: https://github.yandex-team.ru/lego/islands/pull/1485
[ISL-2689]: https://st.yandex-team.ru/ISL-2689
[#1473]: https://github.yandex-team.ru/lego/islands/pull/1473
