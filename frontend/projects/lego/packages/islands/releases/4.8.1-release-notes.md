# islands 4.8.1

<!-- ЧЕЛОВЕЧЕСКОЕ ВСТУПЛЕНИЕ -->

Изменения, вошедшие в релиз islands 4.8.1, разделены на группы:

* [минорные изменения](#Минорные-изменения) — задачи, в рамках которых произошло расширение API блоков;
* [исправлено и улучшено](#Исправлено-и-улучшено) — различные исправления, не затрагивающие API блоков;
* [дополнительно](#Дополнительно) — задачи, не касающиеся кода блоков (документация, инфраструктура и т.д.).

Все важные изменения подробно описаны [ниже](#Пояснения).

## Исправлено и улучшено

| Заголовок                                                      | Задача     | PR      |
| :------------------------------------------------------------- | :--------- | :------ |
| [header2: Вынести js блока в модификатор](#ISL-2543)           | [ISL-2543] | [#1130] |
| menu: Добавить заглушку для метода getVal                      | [ISL-2521] | [#1122] |
| menu_type_check: Событие change иногда срабатывает неправильно | [ISL-2528] | [#1118] |
| Прогнать csslim на кодовой базе islands                        | [ISL-2351] | [#1127] |

## Пояснения


<a name="ISL-2543"></a>
### [header2: Вынести js блока в модификатор][ISL-2543]

У блока `header2` есть javascript API — несколько методов и событий, позволяющий управлять внешними выезжающими панелями.
Для того чтобы дать возможность облегчить шапку, этот механизм перенесен в модификатор `panels_yes`.
Модификатор добавляется по умолчанию, для того чтобы сохранить обратную совместимость.
В islands 5.0 модификатора станет необязательным. Пока же, если нужно избавиться от js, следует
- установить в BEMJSON поле `disablePanels: true`, чтобы модификатор не устанавливался автоматически;
- во время сборки вырезать из deps `header2_panels_yes`.

[ISL-2543]: https://st.yandex-team.ru/ISL-2543
[#1130]: https://github.yandex-team.ru/lego/islands/pull/1130
[ISL-2521]: https://st.yandex-team.ru/ISL-2521
[#1122]: https://github.yandex-team.ru/lego/islands/pull/1122
[ISL-2528]: https://st.yandex-team.ru/ISL-2528
[#1118]: https://github.yandex-team.ru/lego/islands/pull/1118
[ISL-2351]: https://st.yandex-team.ru/ISL-2351
[#1127]: https://github.yandex-team.ru/lego/islands/pull/1127
