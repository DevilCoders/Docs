# islands 5.4.0

Изменения, вошедшие в релиз islands 5.4.0, разделены на группы:

* [минорные изменения](#Минорные-изменения) — задачи, в рамках которых произошло расширение API блоков;
* [исправлено и улучшено](#Исправлено-и-улучшено) — различные исправления, не затрагивающие API блоков;
* [дополнительно](#Дополнительно) — задачи, не касающиеся кода блоков (документация, инфраструктура и т.д.).

Все важные изменения подробно описаны [ниже](#Пояснения).

## Минорные изменения

| Заголовок                                                                                   | Задача     | PR      |
| :------------------------------------------------------------------------------------------ | :--------- | :------ |
| [popup: Подстраивать высоту попапа под высоту данных](#ISL-3502)                            | [ISL-3502] | [#2168] |
| [textinput: Поддержать позиционирование иконок в теме websearch](#ISL-3529)                 | [ISL-3529] | [#2215] |
| [dropdown2: Добавить хвостик в выпадающее окно](#ISL-3445)                                  | [ISL-3445] | [#2203] |
| [i-services: Добавить сервис support](#ISL-3403)                                            | [ISL-3403] | [#2125] |
| [m-head-menu: Добавить проброс модификаторов в subs](#ISL-3387)                             | [ISL-3387] | [#2063] |
| [tabs: Добавить возможность передать кастомный блок link в качестве ссылки меню](#ISL-3480) | [ISL-3480] | [#2204] |

## Исправлено и улучшено

| Заголовок                                                                               | Задача     | PR      |
| :-------------------------------------------------------------------------------------- | :--------- | :------ |
| gemini: включить плавающий тест на desktop/select2                                      | [ISL-3208] | [#2224] |
| link: Фокус не должен устанавливаться на ссылку по табу, если ссылка disabled           | [ISL-3317] | [#2004] |
| m-orange: Реализовать возможность клика                                                 | [ISL-3440] | [#2179] |
| [mi-staff-card: При медленной загрузке открываются сразу несколько карточек](#ISL-3472) | [ISL-3472] | [#2187] |
| select: Не генерировать автоматически поле name                                         | [ISL-3481] | [#2180] |
| Сломался пословный саджест на WinPhone 8.1                                              | [ISL-3521] | [#2211] |
| input: Исправить баг, при котором длинный поисковый запрос распирает страницу           | [ISL-3504] | [#2170] |

## Дополнительно

| Заголовок                                    | Задача     | PR      |
| :------------------------------------------- | :--------- | :------ |
| [copyright: Портировать на React](#ISL-2873) | [ISL-2873] | [#2216] |
| [footer: Портировать на React](#ISL-2875)    | [ISL-2875] | [#2225] |
| search2: Портировать на React                | [ISL-2876] | [#2210] |
| lang-switcher: Портировать на React          | [ISL-3349] | [#2213] |
| [textarea: Портировать на React](#ISL-3432)  | [ISL-3432] | [#2174] |

## Пояснения

<a name="ISL-3502"></a>
### [popup: Подстраивать высоту попапа под высоту данных][ISL-3502]

Показывать подложку попапа только после того, как установлена высота попапа.

<a name="ISL-3529"></a>
### [TextInput: Поддержать позиционирование иконок в теме websearch][ISL-3529]

Поддержано позиционирование иконок в теме websearch в блоке TextInput.

<a name="ISL-2873"></a>
### [copyright: Портировать на React][ISL-2873]

copyright: Портировать на React

<a name="ISL-3445"></a>
### [dropdown2: Добавить хвостик в выпадающее окно][ISL-3445]

В dropdown2 добавлен опциональный хвостик для консистентности с popup2

<a name="ISL-2875"></a>
### [footer: Портировать на React][ISL-2875]

footer: Портирован на React. Пока все ссылки идут с `ru` и все тексты на русском. Это исправится вместе с появлением `i-services` и `i18n`.

<a name="ISL-3403"></a>
### [i-services: Добавить сервис support][ISL-3403]

В блок `i-services` добавлен сервис `support`

<a name="ISL-3387"></a>
### [m-head-menu: Добавить проброс модификаторов в subs][ISL-3387]

Добавлена возможность ставить пользовательские модификаторы для `.m-head-menu__item` (`.itemMods`)

Эта возможность была частично реализована, но она проставляла модификаторы не самим элементам, а блокам `.link`, которые находились внутри них и не проставляла модификаторы тем `.link`, которые находились внутри `.m-head-menu__item_hassub_yes`

<a name="ISL-3472"></a>
### [mi-staff-card: При медленной загрузке открываются сразу несколько карточек][ISL-3472]

Была обновлена библиотека `staff-card` и исправлен дефект из-за которого
одновременно открывались несколько карточек.

<a name="ISL-3480"></a>
### [tabs: Добавить возможность передать кастомный блок link в качестве ссылки меню][ISL-3480]

Добавлена возможность передать кастомный блок link в качестве вкладки блока tabs

<a name="ISL-3432"></a>
### [textarea: Портировать на React][ISL-3432]

Блок `textarea` портирован на React.

[ISL-3502]: https://st.yandex-team.ru/ISL-3502
[#2168]: https://github.yandex-team.ru/lego/islands/pull/2168
[ISL-3529]: https://st.yandex-team.ru/ISL-3529
[#2215]: https://github.yandex-team.ru/lego/islands/pull/2215
[ISL-2873]: https://st.yandex-team.ru/ISL-2873
[#2216]: https://github.yandex-team.ru/lego/islands/pull/2216
[ISL-3445]: https://st.yandex-team.ru/ISL-3445
[#2203]: https://github.yandex-team.ru/lego/islands/pull/2203
[ISL-2875]: https://st.yandex-team.ru/ISL-2875
[#2225]: https://github.yandex-team.ru/lego/islands/pull/2225
[ISL-3208]: https://st.yandex-team.ru/ISL-3208
[#2224]: https://github.yandex-team.ru/lego/islands/pull/2224
[ISL-3403]: https://st.yandex-team.ru/ISL-3403
[#2125]: https://github.yandex-team.ru/lego/islands/pull/2125
[ISL-3349]: https://st.yandex-team.ru/ISL-3349
[#2213]: https://github.yandex-team.ru/lego/islands/pull/2213
[ISL-3317]: https://st.yandex-team.ru/ISL-3317
[#2004]: https://github.yandex-team.ru/lego/islands/pull/2004
[ISL-3387]: https://st.yandex-team.ru/ISL-3387
[#2063]: https://github.yandex-team.ru/lego/islands/pull/2063
[ISL-3440]: https://st.yandex-team.ru/ISL-3440
[#2179]: https://github.yandex-team.ru/lego/islands/pull/2179
[ISL-3472]: https://st.yandex-team.ru/ISL-3472
[#2187]: https://github.yandex-team.ru/lego/islands/pull/2187
[ISL-2876]: https://st.yandex-team.ru/ISL-2876
[#2210]: https://github.yandex-team.ru/lego/islands/pull/2210
[ISL-3481]: https://st.yandex-team.ru/ISL-3481
[#2180]: https://github.yandex-team.ru/lego/islands/pull/2180
[ISL-3480]: https://st.yandex-team.ru/ISL-3480
[#2204]: https://github.yandex-team.ru/lego/islands/pull/2204
[ISL-3432]: https://st.yandex-team.ru/ISL-3432
[#2174]: https://github.yandex-team.ru/lego/islands/pull/2174
[ISL-3504]: https://st.yandex-team.ru/ISL-3504
[#2170]: https://github.yandex-team.ru/lego/islands/pull/2170
[ISL-3521]: https://st.yandex-team.ru/ISL-3521
[#2211]: https://github.yandex-team.ru/lego/islands/pull/2211
