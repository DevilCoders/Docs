# islands 5.3.0

Изменения, вошедшие в релиз islands 5.3.0, разделены на группы:

* [минорные изменения](#Минорные-изменения) — задачи, в рамках которых произошло расширение API блоков;
* [исправлено и улучшено](#Исправлено-и-улучшено) — различные исправления, не затрагивающие API блоков;
* [дополнительно](#Дополнительно) — задачи, не касающиеся кода блоков (документация, инфраструктура и т.д.).

Все важные изменения подробно описаны [ниже](#Пояснения).

## Минорные изменения

| Заголовок                                                                                     | Задача     | PR      |
| :-------------------------------------------------------------------------------------------- | :--------- | :------ |
| TypeError: this._anchorParents is null                                                        | [ISL-3474] | [#2157] |
| bem-history: Не переходит назад в Crome в iOS                                                 | [ISL-3441] | [#2116] |
| [i-bem__dom: Добавить возможность подписки на изменения модификаторов](#ISL-3300)             | [ISL-3300] | [#2087] |
| [logo: Добавить новые размеры](#ISL-3406)                                                     | [ISL-3406] | [#2113] |
| [m-editor: Портировать MECCANO-186](#ISL-3428)                                                | [ISL-3428] | [#2105] |
| [m-head-arrow__popup: Портировать изменения из MECCANO-283 правка позиционирован…](#ISL-3429) | [ISL-3429] | [#2106] |
| [user2: Портировать на React](#ISL-3348)                                                      | [ISL-3348] | [#2082] |
| Клавиатура скрывается при попытке ввода пароля в домик авторизации на iOS                     | [ISL-3105] | [#2067] |
| [Портировать изменения 2.0.3 из meccano](#ISL-3437)                                           | [ISL-3437] | [#2148] |

## Исправлено и улучшено

| Заголовок                                                           | Задача     | PR      |
| :------------------------------------------------------------------ | :--------- | :------ |
| i-ua: Ошибка при определении Opera                                  | [ISL-3435] | [#2112] |
| m-editor: Портировать FORMS-911: Добавить кнопку добавления формы   | [ISL-3430] | [#2115] |
| [m-head-*: Рефакторинг блоков](#ISL-3450)                           | [ISL-3450] | [#2131] |
| pointerevents: Object doesn't support property or method 'contains' | [ISL-3416] | [#2096] |
| popup2: Перенести специфику CSS для IE в технологию ie.css          | [ISL-3408] | [#2111] |

## Дополнительно

| Заголовок                               | Задача     | PR      |
| :-------------------------------------- | :--------- | :------ |
| Написать гайд по работе islands в react | [ISL-3106] | [#2139] |

## Пояснения

<a name="ISL-3300"></a>
### [i-bem__dom: Добавить возможность подписки на изменения модификаторов][ISL-3300]

Появилась возможность подписаться на изменение модификаторов:

```
  block
      .on({modName: 'mod2', modVal: ''}, (e) => {})
      .on({modName: 'mod2', modVal: false}, (e) => {})
```

Обработчик события выполниться после изменения модификатора.

<a name="ISL-3406"></a>
### [logo: Добавить новые размеры][ISL-3406]

Для логотипа c использованием шрифта `Yandex Sans` добавлены новые размеры: 69х28 и 84х35.

Модификаторы для обычного оформления:
* `logo_name_ys-ru-69x28`,
* `logo_name_ys-en-69x28`,
* `logo_name_ys-ru-84x35`,
* `logo_name_ys-en-84x35`

Модификаторы для белого оформления:
* `logo_name_ys-ru-w-69x28`,
* `logo_name_ys-en-w-69x28`,
* `logo_name_ys-ru-w-84x35`,
* `logo_name_ys-en-w-84x35`

<a name="ISL-3428"></a>
### [m-editor: Портировать MECCANO-186][ISL-3428]

Добавлена кнопка вставки видео в m-editor

<a name="ISL-3450"></a>
### [m-head-*: Рефакторинг блоков][ISL-3450]

* Произведен рефакторинг блока `m-head-action`
* Добавлены `console.assert` в блоке `m-head-arrow` и в блоке `m-head-action` c модификатором `with` в значении `popup`
* Убран неиспользуемый код в блоке `m-head`
* Удален неиспользуемый элемент `control` блока `m-head`
* Поправлены зависимости в блоках `m-head-menu` и `m-suggest`
* Дополнены стили блоков `m-head-arrow` и `m-head-action`

<a name="ISL-3429"></a>
### [m-head-arrow__popup: Портировать изменения из MECCANO-283 правка позиционирования][ISL-3429]

MECCANO-283, ISL-3429: Портировать правку позиционирования m-head-arrow__popup

<a name="ISL-3348"></a>
### [user2: Портировать на React][ISL-3348]

На React портирован блок `user2`.

<a name="ISL-3437"></a>
### [Портировать изменения 2.0.3 из meccano][ISL-3437]

* Блоку `m-head` добавлен параметр `yandexuid` для метода `logout`.
* В блоке `m-head` исправлена ошибка связанная со сменой цвета текста пунктов меню при наведении.
* В блоке `m-head-search` исправлена зависимость от блока `m-suggest`: вместо размера `m` приезжал размер `s`.

[ISL-3474]: https://st.yandex-team.ru/ISL-3474
[#2157]: https://github.yandex-team.ru/lego/islands/pull/2157
[ISL-3441]: https://st.yandex-team.ru/ISL-3441
[#2116]: https://github.yandex-team.ru/lego/islands/pull/2116
[ISL-3354]: https://st.yandex-team.ru/ISL-3354
[#2038]: https://github.yandex-team.ru/lego/islands/pull/2038
[ISL-3300]: https://st.yandex-team.ru/ISL-3300
[#2087]: https://github.yandex-team.ru/lego/islands/pull/2087
[ISL-3435]: https://st.yandex-team.ru/ISL-3435
[#2112]: https://github.yandex-team.ru/lego/islands/pull/2112
[ISL-3406]: https://st.yandex-team.ru/ISL-3406
[#2113]: https://github.yandex-team.ru/lego/islands/pull/2113
[ISL-3430]: https://st.yandex-team.ru/ISL-3430
[#2115]: https://github.yandex-team.ru/lego/islands/pull/2115
[ISL-3428]: https://st.yandex-team.ru/ISL-3428
[#2105]: https://github.yandex-team.ru/lego/islands/pull/2105
[ISL-3450]: https://st.yandex-team.ru/ISL-3450
[#2131]: https://github.yandex-team.ru/lego/islands/pull/2131
[ISL-3429]: https://st.yandex-team.ru/ISL-3429
[#2106]: https://github.yandex-team.ru/lego/islands/pull/2106
[ISL-3416]: https://st.yandex-team.ru/ISL-3416
[#2096]: https://github.yandex-team.ru/lego/islands/pull/2096
[ISL-3408]: https://st.yandex-team.ru/ISL-3408
[#2111]: https://github.yandex-team.ru/lego/islands/pull/2111
[ISL-3348]: https://st.yandex-team.ru/ISL-3348
[#2082]: https://github.yandex-team.ru/lego/islands/pull/2082
[ISL-3105]: https://st.yandex-team.ru/ISL-3105
[#2067]: https://github.yandex-team.ru/lego/islands/pull/2067
[ISL-3106]: https://st.yandex-team.ru/ISL-3106
[#2139]: https://github.yandex-team.ru/lego/islands/pull/2139
[ISL-3437]: https://st.yandex-team.ru/ISL-3437
[#2148]: https://github.yandex-team.ru/lego/islands/pull/2148
