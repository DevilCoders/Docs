# islands 5.21.0

<!-- ЧЕЛОВЕЧЕСКОЕ ВСТУПЛЕНИЕ -->

Изменения, вошедшие в релиз islands 5.21.0, разделены на группы:

* [минорные изменения](#Минорные-изменения) — задачи, в рамках которых произошло расширение API блоков;
* [исправлено и улучшено](#Исправлено-и-улучшено) — различные исправления, не затрагивающие API блоков.

Все важные изменения подробно описаны [ниже](#Пояснения).

## Минорные изменения

| Заголовок                                                                | Задача     | PR      |
| :----------------------------------------------------------------------- | :--------- | :------ |
| lego-on-react: Написать d.ts интерфейсы с методами для компонентов       | [ISL-4707] | [#3159] |
| [notifier.react: Реализация компонента с колокольчиком](#ISL-4556)       | [ISL-4556] | [#3224] |
| tableau: Обновить ссылки в сервисах (для Метрики)                        | [ISL-4838] | [#3222] |
| user2: Добавить опцию-метод, вызывающуюся при клике на блок пользователя | [ISL-4820] | [#3249] |

## Исправлено и улучшено

| Заголовок                                                                        | Задача     | PR      |
| :------------------------------------------------------------------------------- | :--------- | :------ |
| checkbox: По клику в лэйбл отправляется 2 события click                          | [ISL-4193] | [#3236] |
| i-font: Не загружается шрифт в Firefox c font-display: optional                  | [ISL-4827] | [#3243] |
| m-datepicker: Невозможно выбрать дату 29.03.1987                                 | [ISL-4082] | [#3205] |
| menu: Событие change отправляется по keydown для пробела                         | [ISL-3127] | [#3167] |
| modal.react: Исправить некорректное закрытие при клике                           | [ISL-4142] | [#3277] |
| popup2: Если вложен в modal, уезжает от anchor при прокрутке                     | [ISL-4796] | [#3261] |
| popup2: Невозможно прокрутить страницу обратно после открытия высокого окошка    | [ISL-4130] | [#3209] |
| popup2: Проставлять модификатор view_classic по умолчанию                        | [ISL-4817] | [#3194] |
| popup2:react. Win7/IE10 Попапы скроллятся вместе со страницей                    | [ISL-3911] | [#2590] |
| select2.react: у selectPopup теряется scope                                      | [ISL-4869] | [#3297] |
| tableau-node: Неправильный пресет по умолчанию для Украины                       | [ISL-2514] | [#3207] |
| textinput: Исправить выделение при фокусе, если у поля нет какой-то из границ    | [ISL-4616] | [#3283] |
| tumbler: blink браузеры сохраняют значение input[type=checkbox]                  | [ISL-4872] | [#3307] |
| [user: Объявить блок deprecated](#ISL-4836)                                      | [ISL-4836] | [#3218] |

## Пояснения

<a name="ISL-4556"></a>
### [notifier.react: Реализация компонента с колокольчиком][ISL-4556]

Добавлен блок `notifier` в `react`-реализации.

<a name="ISL-4836"></a>
### [user: Объявить блок deprecated][ISL-4836]

Блок `user` объявлен `deprecated`.
А также блоки хелперы: `user-menu-update`, `user-a11y-exit` и `i-user-services`.

Блок является устаревшим, используйте вместо него блок `user2`

[MQ-599]: https://st.yandex-team.ru/MQ-599
[#3219]: https://github.yandex-team.ru/lego/islands/pull/3219
[ISL-4193]: https://st.yandex-team.ru/ISL-4193
[#3236]: https://github.yandex-team.ru/lego/islands/pull/3236
[ISL-4827]: https://st.yandex-team.ru/ISL-4827
[#3243]: https://github.yandex-team.ru/lego/islands/pull/3243
[ISL-4730]: https://st.yandex-team.ru/ISL-4730
[#3286]: https://github.yandex-team.ru/lego/islands/pull/3286
[ISL-4707]: https://st.yandex-team.ru/ISL-4707
[#3159]: https://github.yandex-team.ru/lego/islands/pull/3159
[LEGO-2069]: https://st.yandex-team.ru/LEGO-2069
[#3189]: https://github.yandex-team.ru/lego/islands/pull/3189
[ISL-4082]: https://st.yandex-team.ru/ISL-4082
[#3205]: https://github.yandex-team.ru/lego/islands/pull/3205
[ISL-3127]: https://st.yandex-team.ru/ISL-3127
[#3167]: https://github.yandex-team.ru/lego/islands/pull/3167
[ISL-4142]: https://st.yandex-team.ru/ISL-4142
[#3277]: https://github.yandex-team.ru/lego/islands/pull/3277
[ISL-4556]: https://st.yandex-team.ru/ISL-4556
[#3224]: https://github.yandex-team.ru/lego/islands/pull/3224
[ISL-4848]: https://st.yandex-team.ru/ISL-4848
[#3268]: https://github.yandex-team.ru/lego/islands/pull/3268
[ISL-4796]: https://st.yandex-team.ru/ISL-4796
[#3261]: https://github.yandex-team.ru/lego/islands/pull/3261
[ISL-4130]: https://st.yandex-team.ru/ISL-4130
[#3209]: https://github.yandex-team.ru/lego/islands/pull/3209
[ISL-4817]: https://st.yandex-team.ru/ISL-4817
[#3194]: https://github.yandex-team.ru/lego/islands/pull/3194
[ISL-3911]: https://st.yandex-team.ru/ISL-3911
[#2590]: https://github.yandex-team.ru/lego/islands/pull/2590
[ISL-4869]: https://st.yandex-team.ru/ISL-4869
[#3297]: https://github.yandex-team.ru/lego/islands/pull/3297
[ISL-2514]: https://st.yandex-team.ru/ISL-2514
[#3207]: https://github.yandex-team.ru/lego/islands/pull/3207
[ISL-4838]: https://st.yandex-team.ru/ISL-4838
[#3222]: https://github.yandex-team.ru/lego/islands/pull/3222
[ISL-4616]: https://st.yandex-team.ru/ISL-4616
[#3283]: https://github.yandex-team.ru/lego/islands/pull/3283
[ISL-4872]: https://st.yandex-team.ru/ISL-4872
[#3307]: https://github.yandex-team.ru/lego/islands/pull/3307
[ISL-4820]: https://st.yandex-team.ru/ISL-4820
[#3249]: https://github.yandex-team.ru/lego/islands/pull/3249
[ISL-4836]: https://st.yandex-team.ru/ISL-4836
[#3218]: https://github.yandex-team.ru/lego/islands/pull/3218
[ISL-4803]: https://st.yandex-team.ru/ISL-4803
[#3217]: https://github.yandex-team.ru/lego/islands/pull/3217
[#3203]: https://github.yandex-team.ru/lego/islands/pull/3203
