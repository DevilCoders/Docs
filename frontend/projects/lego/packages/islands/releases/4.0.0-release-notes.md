# История изменений Islands 4.0 Zanzibar

Изменения, вошедшие в релиз `islands 4.0`, разделены на группы:
* [Мажорные](#Мажорные) — задачи, которые могут поломать обратную совместимость.
* [Минорные](#Минорные) — задачи, в рамках которых произошло расширение API блоков.  
Это важные обратно совместимые изменения.
* [Патчевые](#Патчевые) — задачи, решение которых не привело к изменению API блоков.  
Это обратно совместимые изменения, которые включают рефакторинг, исправление текущих ошибок и так далее.
* [Дополнительные](#Дополнительные) — задачи, которые не касаются кода блоков: разработка документации, решения по замене используемых инструментов и так далее.

Так как работа над `4.0` началась давно, некоторые задачи успели войти в версию `3.x`.

Чтобы увидеть описание изменений, перейдите по ссылке в заголовке задачи.

## Мажорные

| Заголовок                                                                            | Задача            | Pull request |
|:-------------------------------------------------------------------------------------|:------------------|:-------|
| [Объединить bem-bl и islands-romochka](#islromochka-161)                             | [ISLROMOCHKA-161] | [#204] |
| [Объединить библиотеки islands-* в islands](#isl-1145)                               | [ISL-1145]        | [#160] |
| [Отказаться от использования bem-history](#islpage-587)                              | [ISLPAGE-587]     | [#752] |
| [Поддержка bem-xjst 4.0](#isl-1722)                                                  | [ISL-1722]        | [#509] |
| [i-global: Поддержка bem-xjst 4.0 и новая реализация](#isl-1738)                     | [ISL-1738]        | [#509] |
| [copyright, footer: Поддержка bem-xjst 4.0](#isl-1739)                               | [ISL-1739]        | [#509] |
| [Отказаться от BEM.HTML в пользу BEMHTML](#isl-1485)                                 | [ISL-1485]        | [#368] |
| [Отказаться от использования i-ua_js_yes. Часть 1.](#isl-1690)                       | [ISL-1690]        | [#548] |
| [Отказаться от использования i-ua_js_yes. Часть 2.](#isl-1760)                       | [ISL-1760]        | [#579] |
| [Тотальный рефакторинг работы с событиями в islands](#isl-1285)                      | [ISL-1285]        | [#215] |
| [Перейти на Pointer Events в актуальных блоках. Часть 1.](#isl-1286)                 | [ISL-1286]        | [#438] |
| [Перейти на Pointer Events в актуальных блоках. Часть 2.](#isl-1673)                 | [ISL-1673]        | [#479] |
| [i-ecma: Удалить](#isl-1277)                                                         | [ISL-1277]        | [#381] |
| [i-ua_interaction_yes: Удалить](#isl-1270)                                           | [ISL-1270]        | [#197] |
| [b-link_type_global: Удалить](#isl-1279)                                             | [ISL-1279]        | [#217] |
| [b-page_theme_normal: Удалить](#isl-1281)                                            | [ISL-1281]        | [#214] |
| [b-page__css: Удалить код про формирование CC для IE6-7](#isl-1258)                  | [ISL-1258]        | [#211] |
| [header2__tableau: Удалить](#isl-1723)                                               | [ISL-1723]        | [#517] |
| [i-bem__dom: Удалить deprecated методы](#isl-1570)                                   | [ISL-1570]        | [#384] |
| [i-fastclick: Удалить](#isl-1215)                                                    | [ISL-1215]        | [#506] |
| [i-global: Удалить устаревшие элементы и модификаторы](#isl-1259)                    | [ISL-1259]        | [#202] |
| [i-jquery__touch: Удалить](#isl-1639)                                                | [ISL-1639]        | [#445] |
| [i-jquery__core: Удалить](#isl-1261)                                                 | [ISL-1261]        | [#341], [#594] |
| [i-jquery_dummy_yes: Удалить](#isl-1710)                                             | [ISL-1710]        | [#514] |
| [i-jquery__is-empty-object: Удалить](#isl-1713)                                      | [ISL-1713]        | [#512] |
| [Удалить link_counter_yes и button_counter_yes](#isl-1689)                           | [ISL-1689]        | [#523] |
| [Удалить устаревшие методы и BEM-сущности](#isl-1246)                                | [ISL-1246]        | [#312] |
| [i-services-request-controller: Удалить](#islromochka-225)                           | [ISLROMOCHKA-225] | [#284], [#1677] |
| [notice, notification-panel, notification-panel-notice: Удалить блоки](#isluser-382) | [ISLUSER-382]     | [#608], [#615] |
| [navigation: Удалить](#islpage-591)                                                  | [ISLPAGE-591]     | [#738] |
| [search: Удалить](#islpage-594)                                                      | [ISLPAGE-594]     | [#737] |
| [b-country-flag: Удалить](#islromochka-193)                                          | [ISLROMOCHKA-193] | [#223], [#313] |
| [b-geolocation: Удалить](#islromochka-221)                                           | [ISLROMOCHKA-221] | [#292] |
| [b-head-logo: Удалить](#islromochka-195)                                             | [ISLROMOCHKA-195] | [#315] |
| [b-logo: Удалить](#islromochka-199)                                                  | [ISLROMOCHKA-199] | [#317] |
| [b-mooa: Удалить](#islromochka-201)                                                  | [ISLROMOCHKA-201] | [#311] |
| [b-mooa-panel: Удалить](#islromochka-203)                                            | [ISLROMOCHKA-203] | [#310] |
| [b-pager: Удалить](#islromochka-205)                                                 | [ISLROMOCHKA-205] | [#309] |
| [b-related-list: Удалить](#islromochka-223)                                          | [ISLROMOCHKA-223] | [#289] |
| [b-search-filter: Удалить](#islromochka-232)                                         | [ISLROMOCHKA-232] | [#319], [#1689] |
| [b-search: Удалить](#islromochka-231)                                                | [ISLROMOCHKA-231] | [#320] |
| [b-static-text: Удалить](#islromochka-187)                                           | [ISLROMOCHKA-187] | [#323], [#1696] |
| [b-text-list: Удалить](#islromochka-209)                                             | [ISLROMOCHKA-209] | [#306] |
| [b-text: Удалить](#islromochka-207)                                                  | [ISLROMOCHKA-207] | [#308] |
| [i-ctr: Удалить](#islromochka-211)                                                   | [ISLROMOCHKA-211] | [#305] |
| [i-error-reporter: Удалить](#islromochka-213)                                        | [ISLROMOCHKA-213] | [#296] |
| [i-geodata: Удалить](#islromochka-189)                                               | [ISLROMOCHKA-189] | [#318], [#1688] |
| [i-https: Удалить](#islromochka-191)                                                 | [ISLROMOCHKA-191] | [#314] |
| [i-oframebust: Удалить](#islromochka-215)                                            | [ISLROMOCHKA-215] | [#295] |
| [l-head: Удалить](#islromochka-217)                                                  | [ISLROMOCHKA-217] | [#294] |
| [l-page: Удалить](#islromochka-219)                                                  | [ISLROMOCHKA-219] | [#293] |
| [images, serp, serp-ru, video: Удалить блоки](#islicons-105)                         | [ISLICONS-105]    | [#219] |
| [attach: Ревизия зависимостей](#isl-1324)                                            | [ISL-1324]        | [#380], [#492] |
| [auth: Ревизия зависимостей](#isl-1326)                                              | [ISL-1326]        | [#246] |
| [b-menu-vert: Ревизия зависимостей](#isl-1328)                                       | [ISL-1328]        | [#373] |
| [checkbox: Ревизия зависимостей](#isl-1334)                                          | [ISL-1334]        | [#430] |
| [dropdown: Ревизия зависимостей](#isl-1339)                                          | [ISL-1339]        | [#265] |
| [dropdown-menu: Ревизия зависимостей](#isl-1340)                                     | [ISL-1340]        | [#275], [#333] |
| [footer: Ревизия зависимостей](#isl-1342)                                            | [ISL-1342]        | [#264] |
| [header: Ревизия зависимостей](#isl-1344)                                            | [ISL-1344]        | [#358] |
| [i-common: Ревизия зависимостей](#isl-1349)                                          | [ISL-1349]        | [#288] |
| [i-flashcookie: Ревизия зависимостей](#isl-1351)                                     | [ISL-1351]        | [#261] |
| [logo: Ревизия зависимостей](#isl-1370)                                              | [ISL-1370]        | [#357] |
| [popup: Ревизия зависимостей](#isl-1374)                                             | [ISL-1374]        | [#338] |
| [radiobox: Ревизия зависимостей](#isl-1392)                                          | [ISL-1392]        | [#388] |
| [i-bem: Ревизия зависимостей](#isl-1347)                                             | [ISL-1347]        | [#367] |
| [select: Ревизия зависимостей](#isl-1394)                                            | [ISL-1394]        | [#339] |
| [service: Ревизия зависимостей](#isl-1395)                                           | [ISL-1395]        | [#340] |
| [services-table: Ревизия зависимостей](#isl-1397)                                    | [ISL-1397]        | [#360] |
| [share-dropdown: Ревизия зависимостей](#isl-1398)                                    | [ISL-1398]        | [#318], [#372] |
| [spin: Ревизия зависимостей](#isl-1402)                                              | [ISL-1402]        | [#297], [#313] |
| [suggest-item: Ревизия зависимостей](#isl-1405)                                      | [ISL-1405]        | [#324] |
| [user: Ревизия зависимостей](#isl-1413)                                              | [ISL-1413]        | [#321] |

## Минорные

| Заголовок                                                                                 | Задача            | Pull request |
|:------------------------------------------------------------------------------------------|:------------------|:-------|
| [menu: Разработать блок](#islcomponents-1556)                                             | [ISLCOMPONENTS-1556]                                                                                                                                                  | [#173] |
| [modal: Разработать блок](#islcomponents-1522)                                            | [ISLCOMPONENTS-1522]                                                                                                                                                  | [#276] |
| [b-page: Добавить мета-тег с политикой Content-Security-Policy](#islromochka-105)         | [ISLROMOCHKA-105] | [#172] |
| [b-statcounter: Рефакторинг](#islromochka-112)                                            | [ISLROMOCHKA-112] | [#249] |
| [header2: Прикрутить новое табло сервисов](#islpage-351)                                  | [ISLPAGE-351]     | [#203] |
| [i-bem__html: Поддержать доопределение BEMContext в oninit()](#isl-1566)                  | [ISL-1566]        | [#371] |
| [i-services: Поддержка bem-xjst 4.0](#isl-1741)                                           | [ISL-1741]        | [#509] |
| [lang-switcher__lang: Добавить возможность явно передавать язык](#isl-1778)               | [ISL-1778]        | [#587] |
| [pointerfocus: Рефакторинг](#isl-1657)                                                    | [ISL-1657]        | [#469] |
| [polyfill__bind: Вернуть полифилл для bind](#isl-1666)                                    | [ISL-1666]        | [#489] |
| [services-table, service: Рефакторинг](#isl-1264)                                         | [ISL-1264]        | [#182] |
| [services-table: Добавить в набор рекламных сервисов](#islpage-564)                       | [ISLPAGE-564]     | [#515] |
| [user: Поддержать мультиавторизацию](#isluser-384)                                        | [ISLUSER-384]     | [#174] |
| [user: Переделать отображение аватара под новую Аватарницу](#isl-1665)                    | [ISL-1665]        | [#495] |
| [Добавить *.bemhtml.js версию шаблонов](#isl-1219)                                        | [ISL-1219]        | [#326] |
| [b-page: Добавить элемент cc (conditional-comment)](#isl-1224)                            | [ISL-1224]        | [#191] |
| [button2: Новая версия блока button](#islcomponents-1287)                                 | [ISLCOMPONENTS-1287]                                                                                                                                                  | [#1530] |
| [input: Портировать поле с иконкой](#islcomponents-1586)                                  | [ISLCOMPONENTS-1586]                                                                                                                                                  | [#594], [#729], [#730], [#1504] |
| ticker: Обновить стили                                                                    | [ISLUSER-387]     | [#598] |
| [page-layout: добавить BH-шаблоны в уровень touch-phone](#islpage-575)                    | [ISLPAGE-575]     | [#709] |
| [search2: Реализовать возможность добавлять скрытые поля](#islpage-589)                   | [ISLPAGE-589]     | [#727] |
| [tableau-node: Разработать блок](#islpage-593)                                            | [ISLPAGE-593]     | [#732] |
| i-global: Реализовать setter в методе param                                               | [ISLROMOCHKA-233] | [#328] |
| service-icon: Добавить иконки сервисов advertising, direct, metrika, site, webmaster      | [ISLICONS-104]    | [#192] |
| Тестирование Islands 4.0                                                                  | [ISL-1747]        | [#570], [#583], [#599] |

## Патчевые

| Тип       | Заголовок                                                                                                | Задача | Pull request |
|:----------|:---------------------------------------------------------------------------------------------------------|:-------|:---|
| ![task][] | [arrow: Ревизия зависимостей](#isl-1325)                                                                 | [ISL-1325]        | [#285] |
| ![task][] | [b-autocomplete-item: Ревизия зависимостей](#isl-1327)                                                   | [ISL-1327]        | [#374], [#433] |
| ![task][] | [b-statcounter: Ревизия зависимостей](#isl-1330)                                                         | [ISL-1330]        | [#389] |
| ![task][] | [check-button: Ревизия зависимостей](#isl-1333)                                                          | [ISL-1333]        | [#375] |
| ![task][] | [i-ua: Ревизия зависимостей](#isl-1362)                                                                  | [ISL-1362]        | [#270] |
| ![task][] | [input: Ревизия зависимостей](#isl-1366)                                                                 | [ISL-1366]        | [#269] |
| ![task][] | [lang-switcher: Ревизия зависимостей](#isl-1368)                                                         | [ISL-1368]        | [#335] |
| ![task][] | [radio-button: Ревизия зависимостей](#isl-1391)                                                          | [ISL-1391]        | [#428] |
| ![task][] | [slide: Ревизия зависимостей](#isl-1399)                                                                 | [ISL-1399]        | [#302] |
| ![task][] | [slider: Ревизия зависимостей](#isl-1400)                                                                | [ISL-1400]        | [#325] |
| ![task][] | [social-broker: Ревизия зависимостей](#isl-1401)                                                         | [ISL-1401]        | [#298] |
| ![task][] | [suggest: Ревизия зависимостей](#isl-1404)                                                               | [ISL-1404]        | [#303] |
| ![task][] | [tableau-node: Ревизия зависимостей](#isl-1406)                                                          | [ISL-1406]        | [#330] |
| ![task][] | [tabs-panes: Ревизия зависимостей](#isl-1409)                                                            | [ISL-1409]        | [#329] |
| ![task][] | [tabs: Ревизия зависимостей](#isl-1407)                                                                  | [ISL-1407]        | [#328] |
| ![task][] | [ticker: Ревизия зависимостей](#isl-1410)                                                                | [ISL-1410]        | [#316] |
| ![task][] | [tooltip: Ревизия зависимостей](#isl-1411)                                                               | [ISL-1411]        | [#327] |
| ![task][] | [tumbler: Ревизия зависимостей](#isl-1412)                                                               | [ISL-1412]        | [#319] |
| ![task][] | [user-menu-update: Ревизия зависимостей](#isl-1415)                                                      | [ISL-1415]        | [#317] |
| ![task][] | [Убрать лишние зависимости от блока i-bem](#isl-1645)                                                    | [ISL-1645]        | [#534] |
| ![bug][]  | Добавить в блоки недостающие зависимости                                                                 | [ISL-1533]        | [#349], [#363] |
| ![task][] | input: Сделать возможным использовать BEMJSON в поле placeholder                                         | [ISLCOMPONENTS-1704]                                                                                                                                                  | [#1646] |
| ![bug][]  | i-fastclick: Исправить двойные клики [Ya.Bro] [ios7-8]                                                   | [ISLROMOCHKA-175] | [#324] |
| ![bug][]  | tabs-menu: Сделать возможность одновременно использовать обычные ссылки и интерактивные вкладки          | [ISLCOMPONENTS-1518]                                                                                                                                                  | [#1523] |
| ![task][] | alert: Исключить неоправданное использование !important                                                  | [ISL-1386]        | [#233] |
| ![bug][]  | arrow: в firefox не показывается градиент                                                              | [ISLPAGE-616]     | [#377] |
| ![bug][]  | auth: Поправить браузерное автодополнение логина/пароля                                                  | [ISL-1320]        | [#225] |
| ![task][] | b-form-checkbox: Перенести картинки из ромочки                                                           | [ISL-1435]        | [#393] |
| ![task][] | b-form-input: Оторвать протоколы в примерах в путях к ручкам suggest                                     | [ISLROMOCHKA-142] | [#323] |
| ![bug][]  | b-head-stripe: Синтаксическая ошибка в bemhtml-шаблоне                                                   | [ISL-1488]        | [#332] |
| ![task][] | b-page: Исключить неоправданное использование !important                                                 | [ISL-1526]        | [#369] |
| ![task][] | b-page: Ревизия зависимостей                                                                             | [ISL-1329]        | [#347] |
| ![bug][]  | b-slider-arrows: Лишние touch-события на странице                                                        | [ISL-1269]        | [#253] |
| ![bug][]  | button, button2: Firefox сохраняет состояние disabled после перезагрузки                                 | [ISL-1667]        | [#496] |
| ![task][] | button2: Исключить неоправданное использование !important                                                | [ISL-1521]        | [#385] |
| ![bug][]  | button2: Исправить ошибку в шаблонах _type_check и _type_radio                                           | [ISL-1721]        | [#511] |
| ![bug][]  | button: Исправить высоту в состоянии disabled в IE8                                                      | [ISL-1769]        | [#601] |
| ![task][] | button: Перенести стили _disable в модификации _theme                                                    | [ISL-1377]        | [#236] |
| ![bug][]  | button: Поправить прозрачность иконки для _theme_clear                                                   | [ISLCOMPONENTS-1712]                                                                                                                                                  | [#184] |
| ![task][] | button: Ревизия зависимостей                                                                             | [ISL-1331]        | [#272] |
| ![bug][]  | button_pseudo_yes: лишний запрос на текущую страницу в IE8                                               | [ISL-1487]        | [#345] |
| ![task][] | check-button: Перенести стили _disable в модификации _theme                                              | [ISL-1379]        | [#257] |
| ![bug][]  | checkbox, check-button: Нельзя программно переключать состояние при disabled                             | [ISL-1687]        | [#483] |
| ![bug][]  | checkbox: В IE8 не отрабатывает hover                                                                    | [ISL-1701]        | [#546] |
| ![task][] | checkbox: Исключить неоправданное использование !important                                               | [ISL-1496]        | [#429] |
| ![bug][]  | domik: Исправить баг с автофокусом на iOS 8                                                               | [ISL-1717]        | [#513] |
| ![task][] | dropdown-menu: Исключить неоправданное использование !important                                          | [ISL-1380]        | [#242] |
| ![task][] | dropdown-menu: Починить плавающий gemini-тест                                                            | [ISL-1707]        | [#573] |
| ![task][] | header2: Ревизия зависимостей                                                                            | [ISL-1345]        | [#342] |
| ![bug][]  | header: В IE9 кнопки получают рамку фокуса по mousedown                                                  | [ISL-1273]        | [#308] |
| ![task][] | header: Включить тесты для IE9                                                                           | [ISL-1808]        | [#593] |
| ![bug][]  | header: Не пробрасываются модификаторы в layout__col                                                     | [ISL-1491]        | [#382] |
| ![bug][]  | [human-date: Неправильно определяется относительное время](#isl-1693)                                    | [ISL-1693]        | [#499] |
| ![task][] | i-bem__dom: update _elemCache on findElem calls                                                          | [ISL-1272]        | [#201] |
| ![task][] | [i-common: Удалить лишние элементы](#isl-1434)                                                           | [ISL-1434]        | [#260] |
| ![task][] | i-jquery__dom: Прекратить выбрасывать ошибку если область видимости уже определена                       | [ISL-1671]        | [#481] |
| ![task][] | i-services: Добавить переводы для Яндекс.Мастера в танкер.                                               | [ISL-1267]        | [#190] |
| ![task][] | i-tanker: Обновить переводы                                                                              | [ISL-1635]        | [#480] |
| ![task][] | i-tanker: Подтянуть перевод для сервиса Расписаний                                                       | [ISL-1531]        | [#350] |
| ![task][] | [i-ua: Windows Phone не определяется как ua.wp](#isl-1318)                                               | [ISL-1318]        | [#334] |
| ![task][] | icon: Оптимизировать svg иконки в icon_type_arrow.assets                                                 | [ISL-1251]        | [#234] |
| ![task][] | [input: Длинный запрос после многоточия не отображается](#isl-1438)                                      | [ISL-1438]        | [#290] |
| ![task][] | input: Исправление в bh-шаблоне __samples                                                                | [ISL-1749]        | [#553] |
| ![task][] | input: Перенести стили _disable в модификации _theme                                                     | [ISL-1382]        | [#237] |
| ![task][] | input: Поправить браузерное автодополнение в __control для webkit                                        | [ISL-1321]        | [#226] |
| ![bug][]  | input: При установке disabled не снимается рамка фокуса                                                  | [ISL-1668]        | [#464] |
| ![task][] | link: Исключить неоправданное использование !important                                                   | [ISL-1383]        | [#228] |
| ![bug][]  | link: Исправить ошибку на планшетах и телефонах из-за отсутствия значения по умолчанию для моды mix      | [ISL-1437]        | [#263] |
| ![task][] | link: Ревизия зависимостей                                                                               | [ISL-1369]        | [#356] |
| ![task][] | logo: service: Исключить неоправданное использование !important                                          | [ISL-1388]        | [#230] |
| ![task][] | menu: Добавить webkit-tap-highlight-color                                                                | [ISL-1612]        | [#446] |
| ![task][] | menu: Исключить неоправданное использование !important                                                   | [ISL-1505]        | [#395] |
| ![task][] | menu: Убрать лишнее правило для цвета ссылок в навигационном типе                                        | [ISL-1615]        | [#406] |
| ![task][] | nameplate: Исключить неоправданное использование !important                                              | [ISL-1506]        | [#394] |
| ![task][] | [navigation: Обновить название сервиса translate.yandex.ru](#isl-1585)                                   | [ISL-1585]        | [#498] |
| ![bug][]  | popup, popup2: В iOS нет тени от попапа при увеличении                                                   | [ISLCOMPONENTS-1710]                                                                                                                                                  | [#188] |
| ![task][] | radio-button: Перенести стили _disable в модификации _theme                                              | [ISL-1384]        | [#243] |
| ![task][] | service-icon: Обновить иконки сервисов                                                                   | [ISL-1449]        | [#273] |
| ![task][] | slider: Исключить неоправданное использование !important                                                 | [ISL-1507]        | [#452] |
| ![bug][]  | slider: Неправильный переход между граничными значениями                                                 | [ISLCOMPONENTS-1729]                                                                                                                                                  | [#196] |
| ![task][] | slider: Перенести стили _disable в модификации _theme                                                    | [ISL-1381]        | [#241] |
| ![task][] | social-broker: Исправить ошибку закрытия попапа в IE                                                     | [ISL-1323]        | [#213] |
| ![bug][]  | social-broker: Ошибка postMessage в social-broker__closer.html в IE8+                                    | [ISLUSER-393]     | [#192] |
| ![task][] | spin: Исключить неоправданное использование !important                                                   | [ISL-1378]        | [#256] |
| ![task][] | ticker:user: Исключить неоправданное использование !important                                            | [ISL-1387]        | [#232] |
| ![bug][]  | tooltip: Падает tmpl-spec тест на bh                                                                     | [ISL-1755]        | [#565] |
| ![task][] | tumbler:  Перенести стили _disable в модификации _theme                                                  | [ISL-1385]        | [#235] |
| ![bug][]  | tumbler: Добавить нормализацию на случай передачи не массива в content                                   | [ISL-1764]        | [#600] |
| ![bug][]  | tumbler: Синтаксическая ошибка в шаблонах элемента text блока tumbler                                    | [ISL-1540]        | [#354] |
| ![task][] | user:  Исключить неоправданное использование !important                                                  | [ISL-1524]        | [#376] |
| ![bug][]  | user: getDefaultParams не расширяет параметры                                                            | [ISL-1746]        | [#552] |
| ![task][] | user: Исправить потерю стилей меню                                                                       | [ISL-1712]        | [#524] |
| ![task][] | Добавить недостающие зависимости блоков                                                                  | [ISL-1265]        | [#436] |
| ![task][] | Добавить протокол https ко всем урлам, ведущим на yastatic.net                                           | [ISL-1255]        | [#596] |
| ![task][] | Исправить зависимости от i-jquery                                                                        | [ISL-1619]        | [#462] |
| ![task][] | Перейти на onSetMod.js.inited                                                                            | [ISL-1641]        | [#448] |
| ![task][] | Перенести webkit-tap-highlight-color на common уровень                                                   | [ISL-1376]        | [#447] |
| ![task][] | Перенести файлы ie9.css на common уровень                                                                | [ISL-1646]        | [#459] |
| ![task][] | Поддержка BH 3.x и BH 4.1+                                                                               | [ISL-1704]        | [#505] |
| ![task][] | Поправить зависимости от i-global                                                                        | [ISL-1456]        | [#286] |
| ![task][] | Поправить зависимости при переходе с deps-old на deps                                                    | [ISL-1706]        | [#504] |
| ![task][] | Проверить что deps для клиентских шаблонов прописаны правильно                                          | [ISL-1489]        | [#336], [#378] |
| ![task][] | Разинлайнить графику                                                                                     | [ISL-1428]        | [#248] |
| ![task][] | Разобраться и починить падающие unit-тесты                                                               | [ISL-1427]        | [#250] |
| ![task][] | Убрать использование name в deps.js блоков                                                               | [ISL-1734]        | [#529] |
| ![task][] | Удалить двойные фолбеки в библиотеке islands                                                             | [ISL-1248]        | [#219] |
| ![task][] | alert: Заменить block.destruct на BEM.DOM.destruct                                                       | [ISLCOMPONENTS-1698]                                                                                                                                                  | [#1600] |
| ![bug][]  | attach: Добавить переводы                                                                                | [ISLCOMPONENTS-1649]                                                                                                                                                  | [#1660] |
| ![task][] | button: Убирать модификатор _hovered при установке модификатора _disabled                                | [ISLCOMPONENTS-1714]                                                                                                                                                  | [#1685] |
| ![task][] | dropdown: Заменить block.destruct на BEM.DOM.destruct                                                    | [ISLCOMPONENTS-1695]                                                                                                                                                  | [#1597] |
| ![task][] | dropdown: Исправить удаление блока                                                                       | [ISLCOMPONENTS-1678]                                                                                                                                                  | [#1585] |
| ![bug][]  | popup: При нажатии на tab получает фокус первый focusable элемент                                        | [ISLCOMPONENTS-1721]                                                                                                                                                  | [#1701] |
| ![task][] | radio-button: Поправить смену состояния                                                                  | [ISLCOMPONENTS-1002]                                                                                                                                                  | [#1107] |
| ![bug][]  | select: Desktop версия блока не открывается на iOS 7-8                                                   | [ISLCOMPONENTS-1653]                                                                                                                                                  | [#1564] |
| ![task][] | select: Заменить block.destruct на BEM.DOM.destruct                                                      | [ISLCOMPONENTS-1696]                                                                                                                                                  | [#1598] |
| ![bug][]  | share-dropdown: Убрать указание протокола http                                                           | [ISLCOMPONENTS-1656]                                                                                                                                                  | [#1556] |
| ![task][] | slider: Избавиться от метода $.html в js-коде блока                                                      | [ISLCOMPONENTS-1675]                                                                                                                                                  | [#1702] |
| ![task][] | suggest: Заменить block.destruct на BEM.DOM.destruct                                                     | [ISLCOMPONENTS-1697]                                                                                                                                                  | [#1599] |
| ![task][] | tooltip: Избавиться от метода $.html в js-коде теста блока                                               | [ISLCOMPONENTS-1676]                                                                                                                                                  | [#1704] |
| ![task][] | tumbler: Прикрутить pointerfocus                                                                         | [ISLCOMPONENTS-1525]                                                                                                                                                  | [#1629] |
| ![task][] | Оторвать -webkit-box-shadow для отрисовки границ контролов на touch                                      | [ISLCOMPONENTS-1723]                                                                                                                                                  | [#1710] |
| ![task][] | input: Пресечь возможность XSS                                                                           | [ISLPAGE-566]     | [#723] |
| ![task][] |  i-services: Изменить название "Afisha" и обновить переводы из танкера.                                  | [ISLROMOCHKA-182] | [#321] |
| ![bug][]  | b-page: Исправить BH-шаблон для touch-уровня                                                             | [ISLROMOCHKA-172] | [#258] |
| ![bug][]  | b-slider-dots: Исправить регистрацию события инициализации                                               | [ISLROMOCHKA-171] | [#248] |
| ![task][] | b-statcounter: Учитывать параметры блока                                                                 | [ISLROMOCHKA-184] | [#282] |
| ![task][] | i-bem__dom: Проверять не уничтожен ли блок                                                               | [ISLROMOCHKA-227] | [#281] |
| ![task][] | i-counter: Передавать в stred-счетчиках урл цели                                                         | [ISLROMOCHKA-179] | [#270] |
| ![task][] | i-flashcookie: Скрыть `<embed>` от программ экранного доступа                                            | [ISLROMOCHKA-178] | [#276] |
| ![task][] | i-services: Обновить переводы                                                                            | [ISLROMOCHKA-166] | [#230] |
| ![bug][]  | keycodes: Неправильные коды для клавиш DELETE и INSERT                                                   | [ISLROMOCHKA-185] | [#273] |
| ![bug][]  | select: Desktop версия блока не открывается на iOS 7-8                                                   | [ISLCOMPONENTS-1653]                                                                                                                                                  | [#240] |
| ![task][] | Починить циклические mustDeps                                                                            | [ISL-1154]        | [#166] |

## Дополнительные

| Заголовок                                      | Задача            | PR     |
|:-----------------------------------------------|:------------------|:-------|
| button2: Написать документацию                 | [ISLCOMPONENTS-1720]                                                                                                                                                  | [#209] |
| menu: Разработать документацию                 | [ISLCOMPONENTS-1726]                                                                                                                                                  | [#194] |
| tabs-menu: Объявить блок стабильным            | [ISLCOMPONENTS-1700]                                                                                                                                                  | [#1603] |
| tabs-panes: Объявить блок стабильным           | [ISLCOMPONENTS-1701]                                                                                                                                                  | [#1602] |
| tabs: Объявить блок стабильным                 | [ISLCOMPONENTS-1699]                                                                                                                                                  | [#1601] |
| [Отказаться от поддержки bem-tools](#isl-1134) | [ISL-1134]        | [#195], [#250], [#566], [#694], [#1592] |
| header2: Объявить блок стабильным              | [ISLPAGE-578]     | [#701] |


## Пояснения к задачам

### ISL-1134

Для всех задач, связанных со сборкой, теперь используется только [ENB](https://ru.bem.info/tools/bem/enb-bem/).<br>
В `4.0` решено окончательно отказаться от поддержки [bem-tools](https://ru.bem.info/tools/bem/bem-tools/).
Все конфиги bem-tools удалены из репозитория.

### ISL-1215

Блок `i-fastclick` удален из библиотеки.
Про причины и альтернативы использования читайте в примечаниях к задаче [ISL-1285](#isl-1285).

### ISL-1219

Все BEMHTML-шаблоны в библиотеке `islands` преобразованы в новый JS-синтаксис.
Подробная документация по новому JS-синтаксису:
- [Справочное руководство](https://ru.bem.info/technology/bemhtml/v2/reference/)
- [Руководстве по миграции](https://ru.bem.info/technology/bemhtml/v2/bemhtml-js-syntax/)

Разработчикам, планирующим использовать `islands 4.0` и выше, необходимо в конфигурации сборки переключиться с пакетов `enb-bemhtml` и [enb-xjst](https://github.com/enb-bem/enb-xjst)
на пакет [enb-bemxjst](https://github.com/enb-bem/enb-bemxjst) для сборки шаблонов проекта.

При этом, собственные шаблоны сервиса можно продолжать разрабатывать в старом синтаксисе.
Для их сборки достаточно будет включить опцию `compat: true` для технологии `bemhtml` из пакета `enb-bemxjst`.

### ISL-1224

В блоке `b-page` появился элемент `cc` (conditional comment).
Он предназначен для добавления условных комментарием с произвольным контентом на страницу.

Использование:
```js
({
    block: 'b-page',
    head: [
        {
            elem: 'cc',
            condition: 'lte IE 8',
            content: {elem: 'css', url: '_10-cc.ie.css'}
        },
        {
            elem: 'cc',
            condition: '!IE',
            content: 'Not for IE'
        },
        {
            elem: 'cc',
            condition: 'gt IE 8',
            others: true,
            content: 'For IE9+ and all other browsers'
        }
    ],
    content: [
        {
            elem: 'cc',
            condition: 'lte IE 8',
            content: {elem: 'js', url: '_10-cc.ie8.js'}
        }
    ]
});
```

На выходе получится следующий HTML:
```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title></title>
    <!--[if lte IE 8]><link rel="stylesheet" href="_10-cc.ie.css"/><![endif]-->
    <!--[if !IE]>-->Not for IE<!--<![endif]-->
    <!--[if gt IE 8]><!-->For IE9+ and all other browsers<!--<![endif]-->
</head>
<body class="b-page b-page__body">
    <!--[if lte IE 8]><script src="_10-cc.ie8.js"></script><![endif]-->
</body>
</html>
```

### ISL-1246

Мы удалили методы и BEM-сущности ранее объявленные deprecated:
* Старое табло в блоке `header2` – элемент `header2__tableau`
* Метод `preventCallbacks()` в блоке `i-request_type_ajax` (нужно использовать метод `abort()`)
* Элемент `text` в блоке `logo` (устарел)
* Метод `repaintShadowIfNeeded()` в блоке `popup`
* Модификатор `next-for-pressed` элемента `radio` блока `radio-button` (устарел)
* Правило `width` для CSS блока `services-table` (необходимо использовать модификаторы `size`)
* Устаревший модуль для генерации bembundle для блока i-loader

Обо всех устаревших методах и BEM-сущностях мы писали в Release Notes предыдущих релизов.

### ISL-1258

Параметр `ie: true` в шаблоне `b-page__css` теперь формирует условные комментарии только для IE8-9.

### ISL-1259

У блока [i-global](https://st.yandex-team.ru/ISL-1259) удалены элементы `body`, `hover`, `link`, `quote`, `reset` и `wbr`, которые
находились на уровне desktop и содержали различные CSS Resets для сброса стилей у тегов.
Перечисленные элементы нарушали инкапсуляцию других блоков, что затрудняло использование блока `i-global`.

Элементы `body`, `hover`, `wbr` подключались с помощью `mustDeps`-зависимостей блока `b-page`, т.е. подключались на страницу практически всегда.

Основные проблемы были связаны с использованием элемента `hover`, который определял цвет ссылок с использованием `!important`.

### ISL-1261

Элемент `i-jquery__core` был удален, вместо него используйте `i-jquery_version_default`.

### ISL-1264

В BEMJSON API блока `services-table` появилась возможность использовать следующие шорткаты:

* [items](#items) — задает элементы (сервисы);
* [all](#all) — добавляет элемент `all`.

<a name='items'></a>
**Items**
Например, такой BEMJSON:
```js
{
    block: 'services-table',
    items: [
        {service: 'images', serviceIconMods: {color: 56}},
        {service: 'maps', serviceIconMods: {color: 56}},
        {service: 'browser', serviceIconMods: {color: 56}},
        {service: 'disk', serviceIconMods: {color: 56}},
        {service: 'mail', serviceIconMods: {color: 56}}
    ]
}
```

Равнозначен следующей развернутой BEMJSON записи:
```js
{
    block: 'services-table',
    content: [
        {
            elem: 'item',
            content: {block: 'service', service: 'images', iconMods: {color: '56'}}
        },
        {
            elem: 'item',
            content: {block: 'service', service: 'maps', iconMods: {color: '56'}}
        },
        {
            elem: 'item',
            content: {block: 'service', service: 'browser', iconMods: {color: '56'}}
        },
        {
            elem: 'item',
            content: {block: 'service', service: 'disk', iconMods: {color: '56'}}
        },
        {
            elem: 'item',
            content: {block: 'service', service: 'mail', iconMods: {color: '56'}}
        }
    ]
}
```

Если вы пользуетесь шорткатом, то нужно обязательно прописать зависимости от соответствующих элементов блока `service-icon`.
В данном случае зависимости будут такими:
```js
({
    shouldDeps: [
        {
            block: 'service-icon',
            elems: [
                {elem: 'images', mods: {color: 56}},
                {elem: 'maps', mods: {color: 56}},
                {elem: 'browser', mods: {color: 56}},
                {elem: 'disk', mods: {color: 56}},
                {elem: 'mail', mods: {color: 56}}
            ]
        }
    ]
});
```

<a name='all'></a>
**all**

Также появился шорткат для добавления элемента `all`.
```js
{
    block: 'services-table',
    items: [
        // ...
    ],
    all: true
}
```

Это соответствует следующей развернутой BEMJSON записи:
```
{
    block: 'services-table',
    content: [
        // ...
        {
            elem: 'all'
        }
    ]
}
```

Нельзя использовать развернутую BEMJSON запись и шорткаты одновременно.
Если в BEMJSON блока есть поле `content`, шаблоны применяются как есть.

### ISL-1270

Модификатор `i-ua_interaction_yes` удален в пользу блока `pointerfocus`.

### ISL-1277

Удален блок `i-ecma` с полифиллами для старых браузеров.
Из поддерживаемых браузеров полифиллы необходимы только для IE 8.
Вместе с этим, не все сервисы Яндекса поддерживают IE 8 (например, вертикальные сервисы и СЕРП),
поэтому собирать в бандлы полифиллы более не оправданно.

Если ваш сервис поддерживает IE 8, подключайте библиотеку [es5-shims](https://github.com/bem/es5-shims)
отдельным запросом, до подключения всех остальных скриптов (включая jQuery).

Например:

```js
{
    block: 'b-page',
    head: [
        {elem: 'css', url: '_all.css', ie: false},
        {elem: 'css', url: '_all', ie: true}
    ],
    content: [
        'Your content goes here ...',
        {
            elem: 'cc',
            condition: 'IE 8',
            content: {elem: 'js', url: 'https://yastatic.net/es5-shims/0.0.1/es5-shims.min.js'}
        },
        {block: 'i-jquery', mods: {version: 'default'}},
        {elem: 'js', url: '_all.js'}
    ]
}
```

### ISL-1279

В модификаторе `b-link_type_global` содержались глобальные стили, определяющие цвет для ссылок.
Кроме того, что стили применялись напрямую к псевдо-классам (`:link`, `:link:hover`), в свойствах
использовалось усиление через `important!`.
Модификатор по умолчанию подключался на страницу через зависимости в самом `b-link`.
Все это приводило к различным неожиданным последствиям. Например, элементы выполненные тегом `<a href>`
становились красными при наведении.
Наши пользователи и мы сами были вынуждены использовать `!important`, чтобы переопределить эти стили.
Теперь этого делать не нужно, модификатор удален.

### ISL-1281

Удален модификатор b-page_theme_normal, который задавал серый фон для страницы.
В блоках библиотеки и в проектах этот модификатор больше не используется.

### ISL-1285

Мы перешли на использование унифицированных событий [PointerEvents] на всех платформах.
Это позволило улучшить отзывчивость desktop блоков на touch устройствах и упростило реализацию блоков.

Реализация pointer событий находится в `i-jquery__pointerevents` на common уровне.
За основу был взят полифилл [PEP], в который были внесены существенные изменения для того,
чтобы поддержать корректную работу в IE8-9.

Из-за невозможности создания кастомных событий, неизвестных браузеру, в IE8, генерация событий
работает через событийный механизм jQuery. Это означает, что подписаться на pointer события
можно только через jQuery.

Кроме того была удалена поддержка css-свойства `touch-action`, которая в [PEP] реализована через
соответствующий атрибут. Отслеживание изменений атрибута и добавления новых элементов с этим
атрибутом реализуется через MutationObserver, чего мы, к сожалению, позволить себе не можем.
Другие способы отслеживания изменений атрибута `touch-action` ненадежны или непроизводительны.
Поэтому мы решили совсем его не поддерживать. Если вам нужно запретить вертикальный/горизонтальный
скролл или отменить double tap to zoom, то придется перейти на более низкий уровень и работать с
touch событиями.

В [PEP] атрибут `touch-action` служит еще и маркером того, что на элементе нужно
генерировать pointer события. Такая схема обратно несовместима с механизмом подписки на pointer
события, предлагаемым предыдущей реализаций PointerEvents в islands, блоком `i-pointer-events`.
Используя `i-pointer-events` можно было подписаться на pointer события обычным образом, не думая о
добавлении специальных атрибутов на DOM элемент. Мы решили не усложнять жизнь разработчикам и
оставить обычную схему.

#### Расширения

Поверх pointer событий мы реализовали специальные события `pointerpress/pointerrelease` и `pointerclick`.
Они находятся в элементах `i-jquery__pointerpressrelease` и `i-jquery__pointerclick`, соответственно.

##### События pointerpress/pointerrelease

Событие `pointerpress` это алиас к событию `pointerdown` с проверкой на то, что для мыши нажатие произошло левой кнопкой.

Событие `pointerrelease` это алиас к событиям `pointercancel/pointerup` с проверкой на то, что для мыши отжатие произошло левой кнопкой.

Эти события очень полезны в блоках, у которых есть состояние `pressed`. Как правило это кнопки и производные.

##### Событие `pointerclick`

В обычном случае это алиас к событию `click`, с проверкой на то, что клик был произведен левой кнопкой мыши.
На touch устройствах это последовательность `pointerdown → pointerup` между которыми не произошло `pointercancel/pointerleave`.
В реализации имеется специальная логика про фильтрацию синтетических mouse событий, которые происходят с задержкой.

#### FastClick, tap и leftclick

Использование события `pointerclick` приходит на замену использованию [FastClick] в библиотеке islands.
Блок `i-fastclick` удален из библиотеки, если вы хотите продолжить использовать, скопируйте его на проектный уровень.

Также ненужными становятся события `tap` и `leftclick`. Поэтому мы объявили элементы `tap` и `leftclick`
блока `i-jquery` deprecated и удалим их в следующей мажорной версии.

[PEP]: https://github.com/jquery/PEP
[PointerEvents]: http://www.w3.org/TR/pointerevents/
[FastClick]: https://github.com/ftlabs/fastclick

### ISL-1286

Перешли на использование Pointer Events в блоках: `alert`, `radiobox`, `input`, `paranja`, `i-popup`, `b-popupa`, `popup`, `popup2`, `radio-button`, `select`.

### ISL-1318

Новый *IE11 on Windows Phone 8.1 with Update 1/GDR1* передаЕт [фальшивый UA](https://en.wikipedia.org/wiki/Windows_Phone_version_history#GDR1_2).
Из-за этого в блоке `i-ua` некорректно определялась платформа.
Ошибка исправлена: теперь при получении такого UA, блок `i-ua` указывает `platform.wp`,
а не `platform.android`, как было раньше.

### ISL-1324

В блоке `attach` произошли следующие изменения в зависимостях:
- Удалены устаревшие зависимости от `i-jquery__leftclick`, `i-jquery__tap` и `i-jquery__outsideclick`.
- Удалена зависимость от шаблонов собственного элемента `control` для технологии `js`.
- Зависимости от собственных элементов `icon-file`, `reset` и от блока `image` перенесены в элемент `holder`.
- Зависимость от `attach__reset_visibility_visible` перенесена в `attach__reset`.
- В `attach__control` добавлена пропущенная зависимость от `button__control`.

### ISL-1325

В модификаторе `arrow_type_search` на уровне `touch-phone` добавлена зависимость от блока `i-ua`.

### ISL-1326

В блоке `auth` некоторые зависимости были проставлены неверно.
В версии `4.0` зависимости перенесены от собственных элементов `button`, `error`, `haunter`, `password`, `register`, `remember` и `username` в модификатор `auth_content_auto`.

Если вы используете блок `auth` без модификатора `auth_content_auto`, необходимо добавить эти
элементы в зависимости на уровне проекта.
Если же вы используете модификатор `auth_content_auto`, то в дополнительных действиях нет необходимости.

### ISL-1327

В блоке `b-autocomplete-item` в различных местах добавлены пропущенные зависимости от `i-ua__svg` и `i-common__string`.

### ISL-1328

Элемент `b-menu-vert__title` является опциональным, но при этом присутствовал в зависимостях блока.
Элемент `b-menu-vert__title` удален из зависимостей, чтобы лишний код не подключался всем тем, кому этот элемент не нужен.

### ISL-1330

В элемент `b-statcounter__metrika` добавлена пропущенная зависимость от `i-global`.

### ISL-1333

В блоке `check-button` добавлены пропущенные зависимости от блока `i-ua`.

### ISL-1334

Модификатор `checkbox_theme_pseudo` стал опциональным.
Стили для этой темы больше не подключаются по умолчанию.
Не забудьте добавить модификатор в зависимости, если используете.

Также элементу `checkbox__control` добавлена пропущенНая зависимость от `i-ua`.

### ISL-1339

У блока `dropdown` удалена зависимость от блока `button`, так он может использоваться и без `button`.

### ISL-1340

Элементы 'dropdown-menu__menu', 'dropdown-menu__popup', 'dropdown-menu__switcher' больше не подключаются по умолчанию.
Также в блок добавлена пропущенная зависимость от `i-ua`.

### ISL-1342

В блоке `footer` удалена лишняя зависимость от блока `i-services`, которая осталась от устаревшей реализации.
Зависимость от блока `link` перенесена по месту использования – в элемент `footer__link`.

### ISL-1344

В блоке `header` на уровне `touch-phone.blocks` зависимости от элементов `main`, `logo`, `search`, `nav` и `project-name` сделаны опциональными.
При необходимости, не забудьте добавить эти элементы в зависимости на уровне проекта.

Кроме того, блок более не зависит от блоков `logo`, `user`, `arrow_type_search`. Все эти зависимости
опциональны и должны подключаться только по требованию. Не забудьте добавить эти зависимости, если нужно.

### ISL-1347

В блоке `i-bem` произошли следующие изменения в зависимостях:
- Удалена зависимость от блока `i-common` и элемента `i-jquery__debounce`.
- Зависимость от элемента `i-jquery__is-empty-object` перенесена в `i-bem__dom`.
- Для `i-jquery__dom_init_auto` добавлена пропущенная зависимость от `i-bem__dom`.

### ISL-1349

В блоке `i-common` произошли следующие изменения в зависимостях:
- Удалена зависимость от блока `i-counter`.
- Удалена зависимость от собственных элементов 'cookie' и 'check-session', которые являются самостоятельными сущностями.

Так же произведен рефакторинг блока.
То, что раньше находилось в `i-common.js`, теперь вынесено в отдельный элемент `i-common__messages.js`.

### ISL-1351

В блоке `i-flashcookie` зависимость от `i-common` точечно перенесена в модификаторы `_type_iframe` и `_type_inline`.

### ISL-1362

В блоке `i-ua` удалена зависимость от `i-ua__init`.
Такого элемента уже давно нет, зависимость забыли удалить при переносе библиотеки `romochka` в `islands-romochka`.

### ISL-1366

В блоке `input` произошли следующие изменения в зависимостях:
- В `input__sample` удалена лишняя зависимость от элементов `i-jquery__leftclick` и `i-jquery__tap`.
- В `input_suggest_yes` удалена лишняя зависимость от блока `i-request_type_ajax`.

### ISL-1368

В блоке `lang-switcher` удалены лишние зависимости от блоков `b-menu-vert`, `popup` и `dropdown`.
Зависимость от `country-flag` перенесена по месту использования, в `lang-switcher__flag`.
В `lang-switcher__lang` добавлена пропущенная зависимость от `i-global`.

### ISL-1370

Модификаторы `logo_lang_ru` и `logo_lang_en` стали опциональными.

### ISL-1374

В блоке `popup` произошли следующие изменения в зависимостях:
- Удалены зависимости от несуществующих элементов `popup__wrap` и `popup__shadow`.
- Удалены зависимости от `popup__under_color_white` и `popup__under_type_paranja`.
- У элемента `popup__close` удалена зависимость от модификатора `popup_has-close_yes`.

### ISL-1391

В блоке `radio-button` произошли следующие изменения в зависимостях:
- Добавлены недостающие зависимости от `i-pointer-events` и `i-ua`.
- Зависимость от `pointerfocus` перенесена на уровень desktop.
- Зависимость от элементов 'radio-button__control' и 'radio-button__text' перенесена в `radio-button__radio`.

### ISL-1392

В элемент `radiobox__control` добавлена недостающая зависимость от `i-ua`.
Зависимость от элементов 'radiobox__box' и 'radiobox__control' перенесена в `radiobox__radio`.
Элемент `radiobox__radio` стал опциональным, теперь его нужно добавлять в зависимости самостоятельно.

### ISL-1394

В блоке `select` произошли следующие изменения в зависимостях:
- Удалена лишняя зависимость от `popup_autosize_yes`.
- Удалены зависимости от несуществующих на файловой системе собственных модификаторов `_hovered`, `_disabled`, `_focused`, `_inner`.
- Зависимости от блоков `button` и `popup` перенесены в соответствующие элементы `select__button` и `select__popup`.

### ISL-1395

В блоке `service` удалены зависимости от опциональных элементов `url`, `name`, `icon` и модификатора `hoverable`.
Кроме этого, были удалены опциональные зависимости от различных элементов блока `service-icon` (иконки различных сервисов).

### ISL-1397

В блоке `services-table` удалены зависимости от собственного модификатора `type` в различных значениях.

### ISL-1398

В блоке `share-dropdown` удалена лишняя зависимость от блока `dropdown`.

### ISL-1400

В блоке `slider` удалены избыточные зависимости.

### ISL-1401

Удалена ненужная зависимость от `i-ecma__function`.
Сам блок `i-ecma` позже был удален совсем.

### ISL-1402

В блоке `spin` удалены более не нужные зависимости от `i-system` и `icon_sprite_yes`.

### ISL-1404

В блок `suggest` добавлены недостающие зависимости.

### ISL-1405

По умолчанию блок `suggest-item` перестал подключать собственные модификаторы `type_fact`, `type_nav`, `type_text`, `type_traffic`, `type_weather` и `type_icon`.

### ISL-1406

В блок `tableau-node` добавлены недостающие зависимости.

### ISL-1407

В блоке `tabs` удалены ненужные зависимости.

### ISL-1409

В блок `tabs-panes` добавлены недостающие зависимости.

### ISL-1410

В блоке `ticker` исправлены зависимости от элементов (правильно разнесены), лишние зависимости удалены.

### ISL-1411

В блоке `tooltip` исправлены зависимости от элементов (правильно разнесены).

### ISL-1412

В блоке `tumbler` зависимости распределены по элементам.

### ISL-1413

Элементы `icon`, `name`, `enter`, `enter-icon` (для телефонов) и модификатор `hide-name_yes` стали опциональными.
Не забудьте добавить необходимые вам в зависимости.

### ISL-1415

В блоке `user-menu-update` добавлена пропущенная зависимость от `i-jquery__cookie`.

### ISL-1434

В блоке `i-common` удалена зависимость от устаревших элементов `i-common__attributes` и `i-common__items`.

### ISL-1438

В блоке `input` исправлена ошибка с неисчезающим многоточием.
Проблема проявлялась в инпуте с атрибутом `type="search"`, CSS-свойством `outline: 0;` и длинным содержимым,
которое не влезает по ширине.

Изначально в инпуте многоточие рисовалось правильно, но если поместить в него фокус, то многоточие не пропадало,
а полный текст из атрибута `value` не появлялся. При этом справа оставался длинный пустой отступ.
Это ошибка chromium-based браузеров, но мы исправили ее в блоке `input`.

### ISL-1485

Код шаблонизатора переехал из элемента `i-bem__html` в отдельный блок `i-bem-html`, который сразу был объявлен устаревшим.
Вместо него на клиенте следует использовать `BEMHTML` или `BH`.

У блоков `b-dropdowna`, `b-form-button`, `b-form-checkbox`, `b-icon`, `b-link` удалены декларации `BEM.HTML.decl`.
У этих блоков есть `BEMHTML/BH` шаблоны, следует использовать их.

Блоки `b-autocomplete-item`, `b-form-input`, `i-popup`, `b-popupa` продолжают использовать `BEM.HTML`, но объявлены устаревшими.

### ISL-1566

В BEMHTML-шаблонах появилась возможность расширять `this`.
Для этого необходимо использовать функцию `oninit(cb(exports))`.

```js
oninit(function(exports) {
    exports.BEMContext.prototype.myFunc = function() {
        return 'it works!';
    };
});
```

### ISL-1570

Из `i-bem__dom.js` удалены deprecated-методы `liveInitOnBlockInit` и `liveInitOnBlockInsideInit`.
Вместо них следует использовать `liveInitOnBlockEvent` и `liveInitOnBlockInsideEvent`, соответственно.

### ISL-1585

В блоке `i-services` изменено название сервиса «Перевод» на «Переводчик».
Перенесены исправления URL для нескольких сервисов из [tableau](https://github.yandex-team.ru/lego/tableau/pull/13).

### ISL-1600

В блоке `domik` логотипы стали [опциональными](https://st.yandex-team.ru/ISL-1600)

Логотипы Домика, выраженные модификаторами `logo_ru` и `logo_en` стали опциональными. В предыдущей версии в сборку
добавлялись оба логотипа. Так было сделано из-за того, что большинство сервисов собирают один CSS-файл для всех языков.

Теперь необходимо добавлять в сборку только тот логотип, который действительно нужен.

### ISL-1639

Элемент `i-jquery__touch` содержал старую версию jQuery Mobile.
Версия уже давно не обновлялась и совершенно устарела.
Если в проекте нужна jQuery Mobile, то правильнее загружать ее из [CDN](https://tech.yandex.ru/jslibs/).

Элемент в целом бесполезен, решено удалить его.

### ISL-1645

В рамках этой задачи исправлены зависимости от блока `i-bem` во всех блоках в библиотеке.
В основном исправлялось использование `elems`, подключающее и блок и элемент, на `elem`, подключающее только элемент.

```js
{block: 'i-bem', elems: ['html']}
// →
{block: 'i-bem', elem: 'html'}
```

Пользователи не должны заметить разницы.

### ISL-1657

Произведен рефакторинг в утилитарном блоке `pointerfocus`.
Этот блок позволяет учитывать в CSS-селекторе источник получения фокуса (клавиатура/мышь).
Работает по принципу Modernizr, добавляя элементу `html` тот или иной класс.

Документация к блоку:
- https://lego.yandex-team.ru/libs/islands/v4.x/desktop/pointerfocus/docs/

После рефакторинга блок начал поддерживать touch-устройства и IE8.
Для удобства использования вместо добавления/удаления класса `pointerfocus`,
теперь происходит переключение между классами `pointerfocus/utilityfocus`.

### ISL-1665

В блоке `user` изменился способ подключения аватарки.

Ранее, аватарка пользователя определялась по идентификатору пользователя (uid).
После изменений в Аватарнице стало невозможно определить аватарку только по uid.

Теперь нужно явно передавать ID аватарки в элемент `user__icon`.<br>
Сделать это лучше всего напрямую, через поле `avatarId` в BEMJSON `user__icon`:
```js
{
    block: 'user',
    js: {
        uid: '4001140776'
    },
    mods: {menu: 'yes'},
    content: [
        {
            elem: 'icon',
            avatarId: '1450/4001140776-39966' // <---<
        },
        {elem: 'name'}
    ]
}
```

Также ID можно передать через `i-global` (не рекомендованный способ):
```
{
    block: 'i-global',
    params: {
        // ...
        displayName: {
            'default_avatar': '1450/4001140776-39966' // <---<
        }
    }
}
```

Также мы поменяли хост Аватарницы по умолчанию, теперь это `avatars.mds.yandex.net` (раньше был `avatars.yandex.net`).

Вы как и раньше можете переопределить хост через моду `host` в BEMHTML:
```js
block('user').elem('icon')(
    mode('host')('//param.pam.pam.com')
);
```

Либо через соответствующий `tParam` в BH:
```js
bh.match('user__icon', function(ctx, json) {
    ctx.tParam('host', '//param.pam.pam.com');
});
```

### ISL-1666

В библиотеку добавлен блок `polyfill`, в котором будут размещены различные JS-полифиллы.
Пока в блоке находится только элемент `bind`, реализующий полифилл для `Function.prototype.bind`.
Он необходим для Android 2.3-3.0.

Элемент `polyfill__bind` прописан зависимостью в `mustDeps` блоку `i-bem` на common-уровне.

### ISL-1673

Перешли на использование Pointer Events в блоках: `suggest`, `suggest-item`, `tumbler`, `link`, `i-menu`, `b-menu-vert`,
`header`, `button`, `b-form-input`, `page-layout`, `dropdown`, `tabs-menu`, `user`, `domik`, `alert-controller`,
`b-tabbed-pane`, `attach`, `menu`, `user-a11y-exit`, `check-button`, `checkbox`, `auth`, `b-dropdowna`, `header2` и `slider`.

### ISL-1689

Удалены модификаторы `link_counter_yes` и `button_counter_yes`, которые реализовывали счетчики через `Lego.ch`.
Метод `Lego.ch` предназначался для сбора статистики по шапке, там [зашит номер проекта и счетчика](https://github.yandex-team.ru/lego/islands/blob/b333bbdc8f459560e9e59eb2a7dfdbce2ab5c111/common.blocks/i-counter/i-counter.js#L166).
Логика модификаторов устарела, модификаторы были удалены.

### ISL-1690

См. [ISL-1760](#isl-1760).

### ISL-1693

В блоке `human-date` исправлены случаи неправильного определения относительного времени.
Теперь блок `human-date` корректно обрабатывает следующие ситуации:
- Для дат, которые отличаются на год и один день, вместо «вчера» и «сегодня» выводится дата в формате «DD MMM YYYY»;
- Для следующего дня после последнего дня месяца вместо даты выводится «завтра»;
- Для предыдущего дня до первого дня месяца вместо даты выводится «вчера».

### ISL-1710

Удален устаревший модификатор `i-jquery_dummy_yes`.
Ранее он был нужен для эмуляции `jQuery`, чтобы использовать `i-bem` на сервере.
На текущий момент активных пользователей модификатора нет.

### ISL-1713

Удален устаревший jQuery-плагин `i-jquery__is-empty-object`.
Ту же функциональность с тем же названием предоставляет jQuery версии 1.4, [API аналогичное](http://api.jquery.com/jQuery.isEmptyObject/).

### ISL-1722

С версии `islands 4.0.0` поддерживается `bem-xjst 4.0+` — полностью новый компилятор, совместимый с JS-синтаксисом BEMHTML.

Преимущества `bem-xjst 4` по сравнению с `bem-xjst 1.x`:
- Компиляция представляет собой простую конкатенацию шаблонов с кодом ядра шаблонизатора, благодаря чему сборка проходит значительно быстрее, а отладка — проще;
- Базовые шаблоны включены в ядро. Это позволяет не указывать зависимости от `i-bem__html` всем блокам, которые имеют шаблоны;
- Можно добавлять новые шаблоны в runtime (например, загружать отдельным бандлом в браузер).
- Выполнение шаблонов должно стать быстрее.

#### Особенности bem-xjst 4

1. В любом `match`-выражении должен быть предикат про блок.
1. Больше нет стандартной пустой (`''`) mode; `match` по `mode('')` работает так же, как `match` по любой другой кастомной mode.
  * `apply()` не может быть выполнен для БЭМ-сущности, отличной от той, в шаблоне которой `apply()` используется.
  * `apply()` больше не полиморфный; первым аргументом всегда нужно указывать mode (например, `'default'`).
1. `applyNext()` сбрасывает guard для `content`; это значит, что для одноименных вложенных блоков (`{block: 'b1', content: {block: 'b1'}}`) будет вызван тот же шаблон, в котором у родителя вызван `applyNext()` (шаблон блока `b1`).
1. Если из `def()` вернуть `undefined`, в HTML попадёт строка `'undefined'`; нужно явно возвращать пустую строку.
1. Для получения результата выполнения шаблонов в виде строки, вместо хака с `_buf` появился `this.reapply()`. Это обычный `BEMHTML.apply()`, доступный из шаблонов.
1. Особенности поведения `mix` в виде литерала в шаблонах `mix([{block: 'b1'}])`
1. Появились хелперы для расстановки guard-ов: `once()` и `wrap()`.

`once()` — включает «старое» поведение `applyNext()`; guard не сбрасывается при выполнении шаблонов для содержимого `this.ctx.content`

**Было**
```js
block('b1').def()(function() {
    return applyNext();
});
```

**Стало (без `once()`)**
```js
block('b1').match(function() { return !this._guard; }).def()(function() {
    return applyNext({_guard: true});
});
```

**Стало (с `once()``)**
```js
block('b1').once().def()(function() {
    return applyNext();
});
```

`wrap()` — устанавливает guard в `this.ctx`, «сахар» над `def()` и `applyCtx()`.`

**Было**
```js
block('b1')(
    def()(function() {
        return applyCtx({
            block: 'wrapper',
            content: this.ctx
        });
    })
});
```

**Стало (без `wrap()`)**
```js
block('b1')(
    match(function() { return !this.ctx._guard; })def()(function() {
        this.ctx._guard = true;
        return applyCtx({
            block: 'wrapper',
            content: this.ctx
        });
    })
});
```

**Стало (с `wrap()`)**
```js
block('b1')(
    wrap()(function() {
        return {
            block: 'wrapper',
            content: this.ctx
        };
    })
});
```

### ISL-1723

Элемент `header2__tableau` реализовывал старое «Табло сервисов», выезжающее сверху вниз.
Теперь вместо него используется «Табло сервисов» в попапе, которое показывается по наведению на логотип.
Чтобы перейти на новое «Табло сервисов», добавлен модификатор `header2_tableau_yes`.

Элемент `header2__tableau` удален за ненадобностью.

### ISL-1738

API блока `i-global` сильно поменялось.

Появилось методы:
- `isPublic(param)` — переданный `param` должен быть доступен в браузере
- `makePublic(param, flag)` — позволяет сделать переданный `param` (или несколько параметров, переданных в виде `{param: true}`) доступным в браузере (вместо mode `public-params`)
- значения параметров выставляются в `oninit(function() { ... })` в виде
  ```js
  oninit(function(exports) {
      exports.BEMContext.prototype['i-global'] = {
          key: 'value'
      };
  });
  ````
- значения параметров получаются как `this['i-global'].key` (как и раньше).


### ISL-1739

Теперь в BEMJSON API блока `copyright` поддерживается поле `elemLinkMix` для передачи миксов в элемент `copyright__link`.

Старый способ с пробросом через кастомные шаблоны с предикатом на флаг в `this` работать не будут,
т.к. `copyright__link` создается через `i-bem__i18n`, где под капотом `reapply()`.

### ISL-1741

Новые значения в блоке `i-services` теперь выставляются и переопределяются в `oninit`,
следующим образом:
```js
oninit(function(exports) {
    exports.BEMContext.prototype['i-services']._data['service-name'] = {
        ru: 'http://...',
        tr: 'http://...',
        '': 'http://...'
    };
});
```

Значения параметров, как и раньше, можно получить через методы `serviceName` и `serviceUrl`.
```js
this['i-services'].serviceName(id);
this['i-services'].serviceUrl(id, region);
```

### ISL-1760

В CSS-коде библиотеки `islands` больше не используются деградации для браузеров с отключенным JS.
Все стили написаны в расчете на то, что в браузере всегда включен JS.
Это формальный шаг, фиксирующий уже существующее положение вещей. Усилия для разработки и
тестирования неадекватно велико по отношению к доле пользователей без JS.

### ISL-1778

В блоке `lang-switcher` реализована возможность явно задавать язык через BEMJSON в обход
сложной логики приведения к языку из `i-geodata`.

После удаления блока `i-geodata` в блок `lang-switcher` был добавлен специальный фолбек для
обратной совместимости, но мы рекомендуем вам как можно скорее перейти на новый API,
чтобы не иметь проблем в будущем.

Язык задается через контекст элемента `lang` следующим образом:
```js
{
    block: 'lang-switcher',
    lang: {lang: 'ru', name: 'Ru'},
    content: [
        {
            elem: 'lang',
            lang: {lang: 'be', name: 'Be'}
        },
        {
            elem: 'lang',
            lang: {lang: 'en', name: 'En'}
        },
        ...
    ]
}
```

### ISLPAGE-351

В блок `header2` добавлена новая реализация "Табло сервисов".
Новое [Табло сервисов](https://github.yandex-team.ru/lego/tableau-iframe) находится на yastatic.net и доставляется с помощью
IFRAME-обвязки. Для подключения нужно выставить блоку `header2` модификатор `_tableau_yes`.
Старое Табло (элемент `__tableau`) при этом нужно отключить.

### ISLUSER-382

Блоки `notification-panel` и `notification-panel-notice` были удалены в связи с прекращением развития
«Нотификационной Панели» на портале.

Также удален блок `notice` в пользу блока `ticker`.

### ISLUSER-384

В блоке `user` реализована возможность мультиавторизации.
Для этого добавлен модификатор `user_menu_multiauth`, отображающий меню для переключения пользователей.

Новое меню выглядит иначе, чем прежнее (доступное через модификатор `user_menu_yes`):

![user_menu_multiauth](https://jing.yandex-team.ru/files/karamadjong/Multi-avtorizatsiya_2015-09-25_00-54-06.png)

Для перехода на новое меню достаточно заменить использование старого модификатора на новый.
Использование обоих модификаторов одновременно невозможно.

### ISLPAGE-564

В блоке `services-table` стал доступен модификатор `_type_ad`.
С помощью него можно добавить табло с набором рекламных сервисов:
«Метрика», «Реклама», «Директ», «Вебмастер», «Поиск для сайта», «Деньги».

Состав сервисов зависит от региона пользователя.
Его можно передавать через поле `contentRegion` в BEMJSON.

### ISLPAGE-575

В `touch-phone.blocks/page-layout/` добавлены BH-шаблоны.

### ISLPAGE-587

Два блока, в которых использовалась библиотека `bem-history` это `navigation` и `search`.
Оба блока были удалены в 4.0, и в подключении библиотеки `bem-history` пропала необходимость.

### ISLPAGE-589

В BEMJSON API блока `search2` появилось поле `hidden`.
С помощью него можно добавлять скрытые поля в форму.

```html
<input class="search2__hidden" type="hidden" name="name" value="John"/>
```

В поле передается словарь `name/value`, который преобразуется
в массив элементов `hidden` с соответствующими атрибутами name/value.

BEMJSON:
```js
{
    block: 'search2',
    mods: {template: 'websearch'},
    hidden: {
        name: 'John',
        kind: 'Human'
    }
}
```

HTML:
```html
<form class="search2 search2_template_websearch" role="search" aria-label="search-web-label">
    <div class="search2__button">...</div>
    <div class="search2__input">...</div>
    <input class="search2__hidden" type="hidden" name="name" value="John"/>
    <input class="search2__hidden" type="hidden" name="kind" value="Human"/>
</form>
```

### ISLPAGE-591

Блок `navigation` реализовывал старую вертикальную навигацию с иконками сервисов.
В современном дизайне такая навигация нигде не используется, поэтому блок был удален.

### ISLPAGE-593

Создан блок `tableau-node`, предоставляющий БЭМ-обертку для обвязки портального табло сервисов: блока `tableau` из репозитория [`tableau-iframe`](https://github.yandex-team.ru/lego/tableau-iframe/).

Подробнее читайте в документации блока:
- https://lego.yandex-team.ru/libs/islands/v4.x/desktop/b-page/docs/

### ISLPAGE-594

Блок `search` удален в пользу блока `search2`.
При тех же возможностях, в блоке `search2` практически нет стилей,
не используется табличная верстка и гораздо более простой BEMJSON API.

### ISLICONS-105

В блоках `images`, `serp`, `serp-ru` и `video` хранились фавиконки соответствующих сервисов.
У каждого блока было в лучшем случае по одному пользователю.
Хранить такие блоки в общей библиотеке на наш взгляд нецелесообразно, поэтому блоки были удалены.

### ISLROMOCHKA-105

В блоке `b-page` появилась возможность указать meta-тег с Content-Security-Policy.
Для этого нужно использовать специальный элемент `b-page__csp`.

Читайте подробнее в документации:
- https://lego.yandex-team.ru/libs/islands/v4.x/desktop/b-page/docs/
- https://lego.yandex-team.ru/guidelines/security-policy/

### ISLROMOCHKA-112

Переработан блок `b-statcounter`:
- Добавлена возможность подключения счетчиков `tns` и `gemius` с помощью внешних скриптов.
- Приведена в актуальное состояние документация.

Документацию можно найти на сайте Лего:
- https://lego.yandex-team.ru/libs/islands/v4.x/desktop/b-statcounter/docs/

### ISLROMOCHKA-161

Внешняя библиотека `bem-bl` объединена с внутренней библиотекой `islands-romochka`.
В процессе переноса исправлены codestyle, орфографические ошибки, произведен необходимый рефакторинг.

Обратно несовместимые изменения в код блоков не вносились.

### ISLROMOCHKA-187

Блок `b-static-text` предназначался для оформления заголовков, параграфов, списков и т. д.
Он был удален из библиотеки из-за слишком узкой сферы применения.

### ISLROMOCHKA-189

Шаблоны блока `i-geodata` содержали группу наиболее частотных регионов в виде статических данных.
Идея использования подобных блоков, на наш взгляд, себя не оправдала.
Данные, такие как язык пользователя, должны передаваться явно в параметрах блока, а
логика приведения региона к языку должна находиться за пределами блока, на проектном уровне или еще выше.

Блок `i-geodata` был удален.
Логика работы продублирована в блоке `lang-switcher` для обратной совместимости.
В следующей мажорной версии мы ее удалим совсем.

### ISLROMOCHKA-191

Утилитарный блок `i-https` предназначался для проверки поддержки https в браузере и использовался
в блоке `b-head-userinfo` для выставления ссылки на Паспорт.
В настоящий момент Паспорт использует только https,
а в схеме работы блока `i-https` были обнаружены [проблемы](https://ml.yandex-team.ru/thread/2370000000185323425/).

Мы удалили блок за ненадобностью.

### ISLROMOCHKA-193

Блок `b-country-flag` имел множество ограничений и был удален в пользу блока `country-flag`,
который превосходит его во всех отношениях.

### ISLROMOCHKA-195

Блок `b-head-logo` дублировал функциональность блока `logo`.  Блок `b-head-logo` удален.

### ISLROMOCHKA-199

Блок `b-logo` находился в библиотеке `bem-bl` и давно не используется сервисами.
Блок `b-logo` удален в пользу блока `logo`.

### ISLROMOCHKA-201

Блок `b-mooa` реализовывал «жучка». Однако блок не работал с версии 2.0.
Текущая реализация блока не поддерживается, поэтому `b-mooa` был удален.
В ближайших версиях библиотеки разработка замены блока `b-mooa` не планируется.

### ISLROMOCHKA-203

Блок `b-mooa-panel` это вспомогательный блок для `b-mooa`.
Так как последний был удален, то и `b-mooa-panel` тоже.

### ISLROMOCHKA-205

Блок `b-pager` реализовывал пагинацию в старом дизайне.
Блок `b-pager` удален, так как он больше не актуален.

### ISLROMOCHKA-207

Блок `b-text` предназначался для оформления заголовков, параграфов и списков.
У блока слишком узкая сфера применения для общей библиотеки, поэтому он был удален.

### ISLROMOCHKA-209

Блок `b-text-list` предназначался для реализации простых списков.
Блок слишком примитивный, поэтому он был удален.

### ISLROMOCHKA-211

Блок `i-ctr` предоставлял реализацию счетчика на основе `i-counter` и применялся для сбора статистики просмотров и кликов по Лего-блокам.
Блок удален, так как устарел и не используется сервисами.

### ISLROMOCHKA-213

Блок `i-error-reporter` использовался для отправки в Statface данных о произошедших на странице JS-ошибках.
По факту присутствия на странице переопределял `window.onerror` и отправлял данные с `dtype=jserror`.

В текущем виде блок использоваться не может и был удален за ненадобностью.

### ISLROMOCHKA-215

Блок `i-oframebust` предназначался для защиты страниц от показа в `<iframe>`.
Ему на замену был разработан блок `framebuster` с улучшенным API и обновленными значениями по умолчанию.

Блок `i-oframebust` удален как устаревший.

### ISLROMOCHKA-217

В блоке `l-head` находилась реализация табличной раскладки для старой версии блока `b-header`.
Блок `b-header` больше не применяется. Вместо него используйте `header2`.

Блок `l-head` был удален как устаревший.

### ISLROMOCHKA-219

В блоке `l-page` находилась реализация типовой табличной раскладки для страницы в старом дизайне.
Блок `l-page` устарел и был удален за ненадобностью.

### ISLROMOCHKA-221

Блок `b-geolocation` реализовывал кнопку, показывающую регион пользователя, определенный с помощью `navigator.geolocation`.
Блок устарел, никем не используется и был удален.

### ISLROMOCHKA-223

Блок `b-related-list` реализовывал «Связанные запросы» для touch-версий поисковых сервисов.
Блок устарел и был удален за ненадобностью.

### ISLROMOCHKA-225

Блок использовался в горизонтальном меню в старой реализации блока `b-header` для добавления текста запроса к ссылкам.
Теперь такой вид меню нигде не используется.
На текущий момент блок `i-services-request-controller` устарел и был удален.

### ISLROMOCHKA-231

Блок `b-search` это старая реализация поисковой формы из библиотеки `bem-bl`.
В данный момент такая форма нигде на портале не используется, блок был удален за ненадобностью.

### ISLROMOCHKA-232

Блок `b-search-filter` это реализация старых «Поисковых фильтров».
Блок устарел и был удален за ненадобностью.

### ISLCOMPONENTS-1287

Разработана новая версия кнопки — `button2`, которая заменит собой `button`.

Читайте документацию:
- https://lego.yandex-team.ru/libs/islands/v4.x/desktop/button2/

### ISLCOMPONENTS-1522

Мы разработали простой, понятный и удобный блок для реализации модальных окон – `modal`.

Этот блок призван заменить собой модификацию `popup_type_modal`.
Он основан на `popup2` и хорошо с ним работает.
Позиционирование нового модального окна выполнено полностью на css, поэтому подстроить его под себя будет очень легко.

Более подробно читайте в документации:
- https://lego.yandex-team.ru/libs/islands/v4.x/desktop/modal/

### ISLCOMPONENTS-1556

Мы разработали новый блок `menu`, который может использоваться как сам по себе,
так и в рамках составных блоков, например в `select`.

Мы постарались сделать простой удобный API и учесть проблемы предшественников.

Читайте документацию:
- https://lego.yandex-team.ru/libs/islands/v4.x/desktop/menu/docs/

### ISLCOMPONENTS-1586

В BEMJSON API блока `input` появились поля `iconLeft` (алиас `icon`) и `iconRight`.
Через эти поля можно добавить в `input` иконку, справа или слева, соответственно.

Иконка будет реализована через блок `icon`, к которому примиксован элемент `input__icon`:
```html
<i class="icon icon_size_s icon_type_lock input__icon input__icon_side_right" aria-hidden="true"></i>
```

В полях `iconLeft` и `iconRight` вы передаете BEMJSON для блока `icon`:
```js
{
    block: 'input',
    mods: {
        size: 's'
    },
    iconLeft: {mods: {type: 'lock'}}, // <---<
    content: {elem: 'control'}
}
```

Если вы используете поля `iconLeft` или `iconRight`, не забудьте добавить в зависимости `input__icon` и саму иконку:
```js
shouldDeps: [
    {block: 'input', elem: 'icon'},
    {block: icon, mod: {key: 'val'}}
]
```

Не исключается вариант одновременного использования и левой и правой иконки.
Размер иконки транслируется из модификатора `size` блока `input`.



[ISLROMOCHKA-161]: https://st.yandex-team.ru/ISLROMOCHKA-161
[ISL-1145]: https://st.yandex-team.ru/ISL-1145
[ISLPAGE-587]: https://st.yandex-team.ru/ISLPAGE-587
[ISL-1722]: https://st.yandex-team.ru/ISL-1722
[ISL-1738]: https://st.yandex-team.ru/ISL-1738
[ISL-1739]: https://st.yandex-team.ru/ISL-1739
[ISL-1485]: https://st.yandex-team.ru/ISL-1485
[ISL-1690]: https://st.yandex-team.ru/ISL-1690
[ISL-1760]: https://st.yandex-team.ru/ISL-1760
[ISL-1285]: https://st.yandex-team.ru/ISL-1285
[ISL-1286]: https://st.yandex-team.ru/ISL-1286
[ISL-1673]: https://st.yandex-team.ru/ISL-1673
[ISL-1277]: https://st.yandex-team.ru/ISL-1277
[ISL-1270]: https://st.yandex-team.ru/ISL-1270
[ISL-1279]: https://st.yandex-team.ru/ISL-1279
[ISL-1281]: https://st.yandex-team.ru/ISL-1281
[ISL-1258]: https://st.yandex-team.ru/ISL-1258
[ISL-1723]: https://st.yandex-team.ru/ISL-1723
[ISL-1570]: https://st.yandex-team.ru/ISL-1570
[ISL-1215]: https://st.yandex-team.ru/ISL-1215
[ISL-1259]: https://st.yandex-team.ru/ISL-1259
[ISL-1639]: https://st.yandex-team.ru/ISL-1639
[ISL-1261]: https://st.yandex-team.ru/ISL-1261
[ISL-1710]: https://st.yandex-team.ru/ISL-1710
[ISL-1713]: https://st.yandex-team.ru/ISL-1713
[ISL-1689]: https://st.yandex-team.ru/ISL-1689
[ISL-1246]: https://st.yandex-team.ru/ISL-1246
[ISLROMOCHKA-225]: https://st.yandex-team.ru/ISLROMOCHKA-225
[ISLUSER-382]: https://st.yandex-team.ru/ISLUSER-382
[ISLPAGE-591]: https://st.yandex-team.ru/ISLPAGE-591
[ISLPAGE-594]: https://st.yandex-team.ru/ISLPAGE-594
[ISLROMOCHKA-193]: https://st.yandex-team.ru/ISLROMOCHKA-193
[ISLROMOCHKA-221]: https://st.yandex-team.ru/ISLROMOCHKA-221
[ISLROMOCHKA-195]: https://st.yandex-team.ru/ISLROMOCHKA-195
[ISLROMOCHKA-199]: https://st.yandex-team.ru/ISLROMOCHKA-199
[ISLROMOCHKA-201]: https://st.yandex-team.ru/ISLROMOCHKA-201
[ISLROMOCHKA-203]: https://st.yandex-team.ru/ISLROMOCHKA-203
[ISLROMOCHKA-205]: https://st.yandex-team.ru/ISLROMOCHKA-205
[ISLROMOCHKA-223]: https://st.yandex-team.ru/ISLROMOCHKA-223
[ISLROMOCHKA-232]: https://st.yandex-team.ru/ISLROMOCHKA-232
[ISLROMOCHKA-231]: https://st.yandex-team.ru/ISLROMOCHKA-231
[ISLROMOCHKA-187]: https://st.yandex-team.ru/ISLROMOCHKA-187
[ISLROMOCHKA-209]: https://st.yandex-team.ru/ISLROMOCHKA-209
[ISLROMOCHKA-207]: https://st.yandex-team.ru/ISLROMOCHKA-207
[ISLROMOCHKA-211]: https://st.yandex-team.ru/ISLROMOCHKA-211
[ISLROMOCHKA-213]: https://st.yandex-team.ru/ISLROMOCHKA-213
[ISLROMOCHKA-189]: https://st.yandex-team.ru/ISLROMOCHKA-189
[ISLROMOCHKA-191]: https://st.yandex-team.ru/ISLROMOCHKA-191
[ISLROMOCHKA-215]: https://st.yandex-team.ru/ISLROMOCHKA-215
[ISLROMOCHKA-217]: https://st.yandex-team.ru/ISLROMOCHKA-217
[ISLROMOCHKA-219]: https://st.yandex-team.ru/ISLROMOCHKA-219
[ISLICONS-105]: https://st.yandex-team.ru/ISLICONS-105
[ISL-1324]: https://st.yandex-team.ru/ISL-1324
[ISL-1326]: https://st.yandex-team.ru/ISL-1326
[ISL-1328]: https://st.yandex-team.ru/ISL-1328
[ISL-1334]: https://st.yandex-team.ru/ISL-1334
[ISL-1339]: https://st.yandex-team.ru/ISL-1339
[ISL-1340]: https://st.yandex-team.ru/ISL-1340
[ISL-1342]: https://st.yandex-team.ru/ISL-1342
[ISL-1344]: https://st.yandex-team.ru/ISL-1344
[ISL-1349]: https://st.yandex-team.ru/ISL-1349
[ISL-1351]: https://st.yandex-team.ru/ISL-1351
[ISL-1370]: https://st.yandex-team.ru/ISL-1370
[ISL-1374]: https://st.yandex-team.ru/ISL-1374
[ISL-1392]: https://st.yandex-team.ru/ISL-1392
[ISL-1347]: https://st.yandex-team.ru/ISL-1347
[ISL-1394]: https://st.yandex-team.ru/ISL-1394
[ISL-1395]: https://st.yandex-team.ru/ISL-1395
[ISL-1397]: https://st.yandex-team.ru/ISL-1397
[ISL-1398]: https://st.yandex-team.ru/ISL-1398
[ISL-1402]: https://st.yandex-team.ru/ISL-1402
[ISL-1405]: https://st.yandex-team.ru/ISL-1405
[ISL-1413]: https://st.yandex-team.ru/ISL-1413
[ISLCOMPONENTS-1556]: https://st.yandex-team.ru/ISLCOMPONENTS-1556
[ISLCOMPONENTS-1522]: https://st.yandex-team.ru/ISLCOMPONENTS-1522
[ISLROMOCHKA-105]: https://st.yandex-team.ru/ISLROMOCHKA-105
[ISLROMOCHKA-112]: https://st.yandex-team.ru/ISLROMOCHKA-112
[ISLPAGE-351]: https://st.yandex-team.ru/ISLPAGE-351
[ISL-1566]: https://st.yandex-team.ru/ISL-1566
[ISL-1741]: https://st.yandex-team.ru/ISL-1741
[ISL-1778]: https://st.yandex-team.ru/ISL-1778
[ISL-1657]: https://st.yandex-team.ru/ISL-1657
[ISL-1666]: https://st.yandex-team.ru/ISL-1666
[ISL-1264]: https://st.yandex-team.ru/ISL-1264
[ISLPAGE-564]: https://st.yandex-team.ru/ISLPAGE-564
[ISLUSER-384]: https://st.yandex-team.ru/ISLUSER-384
[ISL-1665]: https://st.yandex-team.ru/ISL-1665
[ISL-1219]: https://st.yandex-team.ru/ISL-1219
[ISL-1224]: https://st.yandex-team.ru/ISL-1224
[ISLCOMPONENTS-1287]: https://st.yandex-team.ru/ISLCOMPONENTS-1287
[ISLCOMPONENTS-1586]: https://st.yandex-team.ru/ISLCOMPONENTS-1586
[ISLUSER-387]: https://st.yandex-team.ru/ISLUSER-387
[ISLPAGE-575]: https://st.yandex-team.ru/ISLPAGE-575
[ISLPAGE-589]: https://st.yandex-team.ru/ISLPAGE-589
[ISLPAGE-593]: https://st.yandex-team.ru/ISLPAGE-593
[ISLROMOCHKA-233]: https://st.yandex-team.ru/ISLROMOCHKA-233
[ISLICONS-104]: https://st.yandex-team.ru/ISLICONS-104
[ISL-1747]: https://st.yandex-team.ru/ISL-1747
[ISL-1325]: https://st.yandex-team.ru/ISL-1325
[ISL-1327]: https://st.yandex-team.ru/ISL-1327
[ISL-1330]: https://st.yandex-team.ru/ISL-1330
[ISL-1333]: https://st.yandex-team.ru/ISL-1333
[ISL-1362]: https://st.yandex-team.ru/ISL-1362
[ISL-1366]: https://st.yandex-team.ru/ISL-1366
[ISL-1368]: https://st.yandex-team.ru/ISL-1368
[ISL-1391]: https://st.yandex-team.ru/ISL-1391
[ISL-1399]: https://st.yandex-team.ru/ISL-1399
[ISL-1400]: https://st.yandex-team.ru/ISL-1400
[ISL-1401]: https://st.yandex-team.ru/ISL-1401
[ISL-1404]: https://st.yandex-team.ru/ISL-1404
[ISL-1406]: https://st.yandex-team.ru/ISL-1406
[ISL-1409]: https://st.yandex-team.ru/ISL-1409
[ISL-1407]: https://st.yandex-team.ru/ISL-1407
[ISL-1410]: https://st.yandex-team.ru/ISL-1410
[ISL-1411]: https://st.yandex-team.ru/ISL-1411
[ISL-1412]: https://st.yandex-team.ru/ISL-1412
[ISL-1415]: https://st.yandex-team.ru/ISL-1415
[ISL-1645]: https://st.yandex-team.ru/ISL-1645
[ISL-1533]: https://st.yandex-team.ru/ISL-1533
[ISLCOMPONENTS-1704]: https://st.yandex-team.ru/ISLCOMPONENTS-1704
[ISLROMOCHKA-175]: https://st.yandex-team.ru/ISLROMOCHKA-175
[ISLCOMPONENTS-1518]: https://st.yandex-team.ru/ISLCOMPONENTS-1518
[ISL-1386]: https://st.yandex-team.ru/ISL-1386
[ISLPAGE-616]: https://st.yandex-team.ru/ISLPAGE-616
[ISL-1320]: https://st.yandex-team.ru/ISL-1320
[ISL-1435]: https://st.yandex-team.ru/ISL-1435
[ISLROMOCHKA-142]: https://st.yandex-team.ru/ISLROMOCHKA-142
[ISL-1488]: https://st.yandex-team.ru/ISL-1488
[ISL-1526]: https://st.yandex-team.ru/ISL-1526
[ISL-1329]: https://st.yandex-team.ru/ISL-1329
[ISL-1269]: https://st.yandex-team.ru/ISL-1269
[ISL-1667]: https://st.yandex-team.ru/ISL-1667
[ISL-1521]: https://st.yandex-team.ru/ISL-1521
[ISL-1721]: https://st.yandex-team.ru/ISL-1721
[ISL-1769]: https://st.yandex-team.ru/ISL-1769
[ISL-1377]: https://st.yandex-team.ru/ISL-1377
[ISLCOMPONENTS-1712]: https://st.yandex-team.ru/ISLCOMPONENTS-1712
[ISL-1331]: https://st.yandex-team.ru/ISL-1331
[ISL-1487]: https://st.yandex-team.ru/ISL-1487
[ISL-1379]: https://st.yandex-team.ru/ISL-1379
[ISL-1687]: https://st.yandex-team.ru/ISL-1687
[ISL-1701]: https://st.yandex-team.ru/ISL-1701
[ISL-1496]: https://st.yandex-team.ru/ISL-1496
[ISL-1717]: https://st.yandex-team.ru/ISL-1717
[ISL-1380]: https://st.yandex-team.ru/ISL-1380
[ISL-1707]: https://st.yandex-team.ru/ISL-1707
[ISL-1345]: https://st.yandex-team.ru/ISL-1345
[ISL-1273]: https://st.yandex-team.ru/ISL-1273
[ISL-1808]: https://st.yandex-team.ru/ISL-1808
[ISL-1491]: https://st.yandex-team.ru/ISL-1491
[ISL-1693]: https://st.yandex-team.ru/ISL-1693
[ISL-1272]: https://st.yandex-team.ru/ISL-1272
[ISL-1434]: https://st.yandex-team.ru/ISL-1434
[ISL-1671]: https://st.yandex-team.ru/ISL-1671
[ISL-1267]: https://st.yandex-team.ru/ISL-1267
[ISL-1635]: https://st.yandex-team.ru/ISL-1635
[ISL-1531]: https://st.yandex-team.ru/ISL-1531
[ISL-1318]: https://st.yandex-team.ru/ISL-1318
[ISL-1251]: https://st.yandex-team.ru/ISL-1251
[ISL-1438]: https://st.yandex-team.ru/ISL-1438
[ISL-1749]: https://st.yandex-team.ru/ISL-1749
[ISL-1382]: https://st.yandex-team.ru/ISL-1382
[ISL-1321]: https://st.yandex-team.ru/ISL-1321
[ISL-1668]: https://st.yandex-team.ru/ISL-1668
[ISL-1383]: https://st.yandex-team.ru/ISL-1383
[ISL-1437]: https://st.yandex-team.ru/ISL-1437
[ISL-1369]: https://st.yandex-team.ru/ISL-1369
[ISL-1388]: https://st.yandex-team.ru/ISL-1388
[ISL-1612]: https://st.yandex-team.ru/ISL-1612
[ISL-1505]: https://st.yandex-team.ru/ISL-1505
[ISL-1615]: https://st.yandex-team.ru/ISL-1615
[ISL-1506]: https://st.yandex-team.ru/ISL-1506
[ISL-1585]: https://st.yandex-team.ru/ISL-1585
[ISLCOMPONENTS-1710]: https://st.yandex-team.ru/ISLCOMPONENTS-1710
[ISL-1384]: https://st.yandex-team.ru/ISL-1384
[ISL-1449]: https://st.yandex-team.ru/ISL-1449
[ISL-1507]: https://st.yandex-team.ru/ISL-1507
[ISLCOMPONENTS-1729]: https://st.yandex-team.ru/ISLCOMPONENTS-1729
[ISL-1381]: https://st.yandex-team.ru/ISL-1381
[ISL-1323]: https://st.yandex-team.ru/ISL-1323
[ISLUSER-393]: https://st.yandex-team.ru/ISLUSER-393
[ISL-1378]: https://st.yandex-team.ru/ISL-1378
[ISL-1387]: https://st.yandex-team.ru/ISL-1387
[ISL-1755]: https://st.yandex-team.ru/ISL-1755
[ISL-1385]: https://st.yandex-team.ru/ISL-1385
[ISL-1764]: https://st.yandex-team.ru/ISL-1764
[ISL-1540]: https://st.yandex-team.ru/ISL-1540
[ISL-1524]: https://st.yandex-team.ru/ISL-1524
[ISL-1746]: https://st.yandex-team.ru/ISL-1746
[ISL-1712]: https://st.yandex-team.ru/ISL-1712
[ISL-1265]: https://st.yandex-team.ru/ISL-1265
[ISL-1255]: https://st.yandex-team.ru/ISL-1255
[ISL-1619]: https://st.yandex-team.ru/ISL-1619
[ISL-1641]: https://st.yandex-team.ru/ISL-1641
[ISL-1376]: https://st.yandex-team.ru/ISL-1376
[ISL-1646]: https://st.yandex-team.ru/ISL-1646
[ISL-1704]: https://st.yandex-team.ru/ISL-1704
[ISL-1456]: https://st.yandex-team.ru/ISL-1456
[ISL-1706]: https://st.yandex-team.ru/ISL-1706
[ISL-1489]: https://st.yandex-team.ru/ISL-1489
[ISL-1428]: https://st.yandex-team.ru/ISL-1428
[ISL-1427]: https://st.yandex-team.ru/ISL-1427
[ISL-1734]: https://st.yandex-team.ru/ISL-1734
[ISL-1248]: https://st.yandex-team.ru/ISL-1248
[ISLCOMPONENTS-1698]: https://st.yandex-team.ru/ISLCOMPONENTS-1698
[ISLCOMPONENTS-1649]: https://st.yandex-team.ru/ISLCOMPONENTS-1649
[ISLCOMPONENTS-1714]: https://st.yandex-team.ru/ISLCOMPONENTS-1714
[ISLCOMPONENTS-1695]: https://st.yandex-team.ru/ISLCOMPONENTS-1695
[ISLCOMPONENTS-1678]: https://st.yandex-team.ru/ISLCOMPONENTS-1678
[ISLCOMPONENTS-1721]: https://st.yandex-team.ru/ISLCOMPONENTS-1721
[ISLCOMPONENTS-1002]: https://st.yandex-team.ru/ISLCOMPONENTS-1002
[ISLCOMPONENTS-1653]: https://st.yandex-team.ru/ISLCOMPONENTS-1653
[ISLCOMPONENTS-1696]: https://st.yandex-team.ru/ISLCOMPONENTS-1696
[ISLCOMPONENTS-1656]: https://st.yandex-team.ru/ISLCOMPONENTS-1656
[ISLCOMPONENTS-1675]: https://st.yandex-team.ru/ISLCOMPONENTS-1675
[ISLCOMPONENTS-1697]: https://st.yandex-team.ru/ISLCOMPONENTS-1697
[ISLCOMPONENTS-1676]: https://st.yandex-team.ru/ISLCOMPONENTS-1676
[ISLCOMPONENTS-1525]: https://st.yandex-team.ru/ISLCOMPONENTS-1525
[ISLCOMPONENTS-1723]: https://st.yandex-team.ru/ISLCOMPONENTS-1723
[ISLPAGE-566]: https://st.yandex-team.ru/ISLPAGE-566
[ISLROMOCHKA-182]: https://st.yandex-team.ru/ISLROMOCHKA-182
[ISLROMOCHKA-172]: https://st.yandex-team.ru/ISLROMOCHKA-172
[ISLROMOCHKA-171]: https://st.yandex-team.ru/ISLROMOCHKA-171
[ISLROMOCHKA-184]: https://st.yandex-team.ru/ISLROMOCHKA-184
[ISLROMOCHKA-227]: https://st.yandex-team.ru/ISLROMOCHKA-227
[ISLROMOCHKA-179]: https://st.yandex-team.ru/ISLROMOCHKA-179
[ISLROMOCHKA-178]: https://st.yandex-team.ru/ISLROMOCHKA-178
[ISLROMOCHKA-166]: https://st.yandex-team.ru/ISLROMOCHKA-166
[ISLROMOCHKA-185]: https://st.yandex-team.ru/ISLROMOCHKA-185
[ISLCOMPONENTS-1653]: https://st.yandex-team.ru/ISLCOMPONENTS-1653
[ISL-1154]: https://st.yandex-team.ru/ISL-1154
[ISLCOMPONENTS-1720]: https://st.yandex-team.ru/ISLCOMPONENTS-1720
[ISLCOMPONENTS-1726]: https://st.yandex-team.ru/ISLCOMPONENTS-1726
[ISLCOMPONENTS-1700]: https://st.yandex-team.ru/ISLCOMPONENTS-1700
[ISLCOMPONENTS-1701]: https://st.yandex-team.ru/ISLCOMPONENTS-1701
[ISLCOMPONENTS-1699]: https://st.yandex-team.ru/ISLCOMPONENTS-1699
[ISL-1134]: https://st.yandex-team.ru/ISL-1134
[ISLPAGE-578]: https://st.yandex-team.ru/ISLPAGE-578

[#204]: https://github.yandex-team.ru/lego/islands-romochka/pull/204
[#160]: https://github.yandex-team.ru/lego/islands/pull/160
[#752]: https://github.yandex-team.ru/lego/islands-page/pull/752
[#509]: https://github.yandex-team.ru/lego/islands/pull/509
[#509]: https://github.yandex-team.ru/lego/islands/pull/509
[#509]: https://github.yandex-team.ru/lego/islands/pull/509
[#368]: https://github.yandex-team.ru/lego/islands/pull/368
[#548]: https://github.yandex-team.ru/lego/islands/pull/548
[#579]: https://github.yandex-team.ru/lego/islands/pull/579
[#215]: https://github.yandex-team.ru/lego/islands/pull/215
[#438]: https://github.yandex-team.ru/lego/islands/pull/438
[#479]: https://github.yandex-team.ru/lego/islands/pull/479
[#381]: https://github.yandex-team.ru/lego/islands/pull/381
[#197]: https://github.yandex-team.ru/lego/islands/pull/197
[#217]: https://github.yandex-team.ru/lego/islands/pull/217
[#214]: https://github.yandex-team.ru/lego/islands/pull/214
[#211]: https://github.yandex-team.ru/lego/islands/pull/211
[#517]: https://github.yandex-team.ru/lego/islands/pull/517
[#384]: https://github.yandex-team.ru/lego/islands/pull/384
[#506]: https://github.yandex-team.ru/lego/islands/pull/506
[#202]: https://github.yandex-team.ru/lego/islands/pull/202
[#445]: https://github.yandex-team.ru/lego/islands/pull/445
[#341]: https://github.yandex-team.ru/lego/islands/pull/341
[#594]: https://github.yandex-team.ru/lego/islands/pull/594
[#514]: https://github.yandex-team.ru/lego/islands/pull/514
[#512]: https://github.yandex-team.ru/lego/islands/pull/512
[#523]: https://github.yandex-team.ru/lego/islands/pull/523
[#312]: https://github.yandex-team.ru/lego/islands/pull/312
[#284]: https://github.yandex-team.ru/lego/islands-romochka/pull/284
[#1677]: https://github.yandex-team.ru/lego/islands-components/pull/1677
[#608]: https://github.yandex-team.ru/lego/islands-user/pull/608
[#615]: https://github.yandex-team.ru/lego/islands-user/pull/615
[#738]: https://github.yandex-team.ru/lego/islands-page/pull/738
[#737]: https://github.yandex-team.ru/lego/islands-page/pull/737
[#223]: https://github.yandex-team.ru/lego/islands-icons/pull/223
[#313]: https://github.yandex-team.ru/lego/islands-romochka/pull/313
[#292]: https://github.yandex-team.ru/lego/islands-romochka/pull/292
[#315]: https://github.yandex-team.ru/lego/islands-romochka/pull/315
[#317]: https://github.yandex-team.ru/lego/islands-romochka/pull/317
[#311]: https://github.yandex-team.ru/lego/islands-romochka/pull/311
[#310]: https://github.yandex-team.ru/lego/islands-romochka/pull/310
[#309]: https://github.yandex-team.ru/lego/islands-romochka/pull/309
[#289]: https://github.yandex-team.ru/lego/islands-romochka/pull/289
[#319]: https://github.yandex-team.ru/lego/islands-romochka/pull/319
[#1689]: https://github.yandex-team.ru/lego/islands-components/pull/1689
[#320]: https://github.yandex-team.ru/lego/islands-romochka/pull/320
[#323]: https://github.yandex-team.ru/lego/islands-romochka/pull/323
[#1696]: https://github.yandex-team.ru/lego/islands-components/pull/1696
[#306]: https://github.yandex-team.ru/lego/islands-romochka/pull/306
[#308]: https://github.yandex-team.ru/lego/islands-romochka/pull/308
[#305]: https://github.yandex-team.ru/lego/islands-romochka/pull/305
[#296]: https://github.yandex-team.ru/lego/islands-romochka/pull/296
[#318]: https://github.yandex-team.ru/lego/islands-romochka/pull/318
[#1688]: https://github.yandex-team.ru/lego/islands-components/pull/1688
[#314]: https://github.yandex-team.ru/lego/islands-romochka/pull/314
[#295]: https://github.yandex-team.ru/lego/islands-romochka/pull/295
[#294]: https://github.yandex-team.ru/lego/islands-romochka/pull/294
[#293]: https://github.yandex-team.ru/lego/islands-romochka/pull/293
[#219]: https://github.yandex-team.ru/lego/islands-icons/pull/219
[#380]: https://github.yandex-team.ru/lego/islands/pull/380
[#492]: https://github.yandex-team.ru/lego/islands/pull/492
[#246]: https://github.yandex-team.ru/lego/islands/pull/246
[#373]: https://github.yandex-team.ru/lego/islands/pull/373
[#430]: https://github.yandex-team.ru/lego/islands/pull/430
[#265]: https://github.yandex-team.ru/lego/islands/pull/265
[#275]: https://github.yandex-team.ru/lego/islands/pull/275
[#333]: https://github.yandex-team.ru/lego/islands/pull/333
[#264]: https://github.yandex-team.ru/lego/islands/pull/264
[#358]: https://github.yandex-team.ru/lego/islands/pull/358
[#288]: https://github.yandex-team.ru/lego/islands/pull/288
[#261]: https://github.yandex-team.ru/lego/islands/pull/261
[#357]: https://github.yandex-team.ru/lego/islands/pull/357
[#338]: https://github.yandex-team.ru/lego/islands/pull/338
[#388]: https://github.yandex-team.ru/lego/islands/pull/388
[#367]: https://github.yandex-team.ru/lego/islands/pull/367
[#339]: https://github.yandex-team.ru/lego/islands/pull/339
[#340]: https://github.yandex-team.ru/lego/islands/pull/340
[#360]: https://github.yandex-team.ru/lego/islands/pull/360
[#318]: https://github.yandex-team.ru/lego/islands/pull/318
[#372]: https://github.yandex-team.ru/lego/islands/pull/372
[#297]: https://github.yandex-team.ru/lego/islands/pull/297
[#313]: https://github.yandex-team.ru/lego/islands/pull/313
[#324]: https://github.yandex-team.ru/lego/islands/pull/324
[#321]: https://github.yandex-team.ru/lego/islands/pull/321
[#173]: https://github.yandex-team.ru/lego/islands/pull/173
[#276]: https://github.yandex-team.ru/lego/islands/pull/276
[#172]: https://github.yandex-team.ru/lego/islands/pull/172
[#249]: https://github.yandex-team.ru/lego/islands/pull/249
[#203]: https://github.yandex-team.ru/lego/islands/pull/203
[#371]: https://github.yandex-team.ru/lego/islands/pull/371
[#509]: https://github.yandex-team.ru/lego/islands/pull/509
[#587]: https://github.yandex-team.ru/lego/islands/pull/587
[#469]: https://github.yandex-team.ru/lego/islands/pull/469
[#489]: https://github.yandex-team.ru/lego/islands/pull/489
[#182]: https://github.yandex-team.ru/lego/islands/pull/182
[#515]: https://github.yandex-team.ru/lego/islands/pull/515
[#174]: https://github.yandex-team.ru/lego/islands/pull/174
[#495]: https://github.yandex-team.ru/lego/islands/pull/495
[#326]: https://github.yandex-team.ru/lego/islands/pull/326
[#191]: https://github.yandex-team.ru/lego/islands/pull/191
[#1530]: https://github.yandex-team.ru/lego/islands-components/pull/1530
[#594]: https://github.yandex-team.ru/lego/islands-user/pull/594
[#729]: https://github.yandex-team.ru/lego/islands-page/pull/729
[#730]: https://github.yandex-team.ru/lego/islands-page/pull/730
[#1504]: https://github.yandex-team.ru/lego/islands-components/pull/1504
[#598]: https://github.yandex-team.ru/lego/islands-user/pull/598
[#709]: https://github.yandex-team.ru/lego/islands-page/pull/709
[#727]: https://github.yandex-team.ru/lego/islands-page/pull/727
[#732]: https://github.yandex-team.ru/lego/islands-page/pull/732
[#328]: https://github.yandex-team.ru/lego/islands-romochka/pull/328
[#192]: https://github.yandex-team.ru/lego/islands-icons/pull/192
[#570]: https://github.yandex-team.ru/lego/islands/pull/570
[#583]: https://github.yandex-team.ru/lego/islands/pull/583
[#599]: https://github.yandex-team.ru/lego/islands/pull/599
[#285]: https://github.yandex-team.ru/lego/islands/pull/285
[#374]: https://github.yandex-team.ru/lego/islands/pull/374
[#433]: https://github.yandex-team.ru/lego/islands/pull/433
[#389]: https://github.yandex-team.ru/lego/islands/pull/389
[#375]: https://github.yandex-team.ru/lego/islands/pull/375
[#270]: https://github.yandex-team.ru/lego/islands/pull/270
[#269]: https://github.yandex-team.ru/lego/islands/pull/269
[#335]: https://github.yandex-team.ru/lego/islands/pull/335
[#428]: https://github.yandex-team.ru/lego/islands/pull/428
[#302]: https://github.yandex-team.ru/lego/islands/pull/302
[#325]: https://github.yandex-team.ru/lego/islands/pull/325
[#298]: https://github.yandex-team.ru/lego/islands/pull/298
[#303]: https://github.yandex-team.ru/lego/islands/pull/303
[#330]: https://github.yandex-team.ru/lego/islands/pull/330
[#329]: https://github.yandex-team.ru/lego/islands/pull/329
[#328]: https://github.yandex-team.ru/lego/islands/pull/328
[#316]: https://github.yandex-team.ru/lego/islands/pull/316
[#327]: https://github.yandex-team.ru/lego/islands/pull/327
[#319]: https://github.yandex-team.ru/lego/islands/pull/319
[#317]: https://github.yandex-team.ru/lego/islands/pull/317
[#534]: https://github.yandex-team.ru/lego/islands/pull/534
[#349]: https://github.yandex-team.ru/lego/islands/pull/349
[#363]: https://github.yandex-team.ru/lego/islands/pull/363
[#1646]: https://github.yandex-team.ru/lego/islands-components/pull/1646
[#324]: https://github.yandex-team.ru/lego/islands-romochka/pull/324
[#1523]: https://github.yandex-team.ru/lego/islands-components/pull/1523
[#233]: https://github.yandex-team.ru/lego/islands/pull/233
[#377]: https://github.yandex-team.ru/lego/islands/pull/377
[#225]: https://github.yandex-team.ru/lego/islands/pull/225
[#393]: https://github.yandex-team.ru/lego/islands/pull/393
[#323]: https://github.yandex-team.ru/lego/islands/pull/323
[#332]: https://github.yandex-team.ru/lego/islands/pull/332
[#369]: https://github.yandex-team.ru/lego/islands/pull/369
[#347]: https://github.yandex-team.ru/lego/islands/pull/347
[#253]: https://github.yandex-team.ru/lego/islands/pull/253
[#496]: https://github.yandex-team.ru/lego/islands/pull/496
[#385]: https://github.yandex-team.ru/lego/islands/pull/385
[#511]: https://github.yandex-team.ru/lego/islands/pull/511
[#601]: https://github.yandex-team.ru/lego/islands/pull/601
[#236]: https://github.yandex-team.ru/lego/islands/pull/236
[#184]: https://github.yandex-team.ru/lego/islands/pull/184
[#272]: https://github.yandex-team.ru/lego/islands/pull/272
[#345]: https://github.yandex-team.ru/lego/islands/pull/345
[#257]: https://github.yandex-team.ru/lego/islands/pull/257
[#483]: https://github.yandex-team.ru/lego/islands/pull/483
[#546]: https://github.yandex-team.ru/lego/islands/pull/546
[#429]: https://github.yandex-team.ru/lego/islands/pull/429
[#513]: https://github.yandex-team.ru/lego/islands/pull/513
[#242]: https://github.yandex-team.ru/lego/islands/pull/242
[#573]: https://github.yandex-team.ru/lego/islands/pull/573
[#342]: https://github.yandex-team.ru/lego/islands/pull/342
[#308]: https://github.yandex-team.ru/lego/islands/pull/308
[#593]: https://github.yandex-team.ru/lego/islands/pull/593
[#382]: https://github.yandex-team.ru/lego/islands/pull/382
[#499]: https://github.yandex-team.ru/lego/islands/pull/499
[#201]: https://github.yandex-team.ru/lego/islands/pull/201
[#260]: https://github.yandex-team.ru/lego/islands/pull/260
[#481]: https://github.yandex-team.ru/lego/islands/pull/481
[#190]: https://github.yandex-team.ru/lego/islands/pull/190
[#480]: https://github.yandex-team.ru/lego/islands/pull/480
[#350]: https://github.yandex-team.ru/lego/islands/pull/350
[#334]: https://github.yandex-team.ru/lego/islands/pull/334
[#234]: https://github.yandex-team.ru/lego/islands/pull/234
[#290]: https://github.yandex-team.ru/lego/islands/pull/290
[#553]: https://github.yandex-team.ru/lego/islands/pull/553
[#237]: https://github.yandex-team.ru/lego/islands/pull/237
[#226]: https://github.yandex-team.ru/lego/islands/pull/226
[#464]: https://github.yandex-team.ru/lego/islands/pull/464
[#228]: https://github.yandex-team.ru/lego/islands/pull/228
[#263]: https://github.yandex-team.ru/lego/islands/pull/263
[#356]: https://github.yandex-team.ru/lego/islands/pull/356
[#230]: https://github.yandex-team.ru/lego/islands/pull/230
[#446]: https://github.yandex-team.ru/lego/islands/pull/446
[#395]: https://github.yandex-team.ru/lego/islands/pull/395
[#406]: https://github.yandex-team.ru/lego/islands/pull/406
[#394]: https://github.yandex-team.ru/lego/islands/pull/394
[#498]: https://github.yandex-team.ru/lego/islands/pull/498
[#188]: https://github.yandex-team.ru/lego/islands/pull/188
[#243]: https://github.yandex-team.ru/lego/islands/pull/243
[#273]: https://github.yandex-team.ru/lego/islands/pull/273
[#452]: https://github.yandex-team.ru/lego/islands/pull/452
[#196]: https://github.yandex-team.ru/lego/islands/pull/196
[#241]: https://github.yandex-team.ru/lego/islands/pull/241
[#213]: https://github.yandex-team.ru/lego/islands/pull/213
[#192]: https://github.yandex-team.ru/lego/islands/pull/192
[#256]: https://github.yandex-team.ru/lego/islands/pull/256
[#232]: https://github.yandex-team.ru/lego/islands/pull/232
[#565]: https://github.yandex-team.ru/lego/islands/pull/565
[#235]: https://github.yandex-team.ru/lego/islands/pull/235
[#600]: https://github.yandex-team.ru/lego/islands/pull/600
[#354]: https://github.yandex-team.ru/lego/islands/pull/354
[#376]: https://github.yandex-team.ru/lego/islands/pull/376
[#552]: https://github.yandex-team.ru/lego/islands/pull/552
[#524]: https://github.yandex-team.ru/lego/islands/pull/524
[#436]: https://github.yandex-team.ru/lego/islands/pull/436
[#596]: https://github.yandex-team.ru/lego/islands/pull/596
[#462]: https://github.yandex-team.ru/lego/islands/pull/462
[#448]: https://github.yandex-team.ru/lego/islands/pull/448
[#447]: https://github.yandex-team.ru/lego/islands/pull/447
[#459]: https://github.yandex-team.ru/lego/islands/pull/459
[#505]: https://github.yandex-team.ru/lego/islands/pull/505
[#286]: https://github.yandex-team.ru/lego/islands/pull/286
[#504]: https://github.yandex-team.ru/lego/islands/pull/504
[#336]: https://github.yandex-team.ru/lego/islands/pull/336
[#378]: https://github.yandex-team.ru/lego/islands/pull/378
[#248]: https://github.yandex-team.ru/lego/islands/pull/248
[#250]: https://github.yandex-team.ru/lego/islands/pull/250
[#529]: https://github.yandex-team.ru/lego/islands/pull/529
[#219]: https://github.yandex-team.ru/lego/islands/pull/219
[#1600]: https://github.yandex-team.ru/lego/islands-components/pull/1600
[#1660]: https://github.yandex-team.ru/lego/islands-components/pull/1660
[#1685]: https://github.yandex-team.ru/lego/islands-components/pull/1685
[#1597]: https://github.yandex-team.ru/lego/islands-components/pull/1597
[#1585]: https://github.yandex-team.ru/lego/islands-components/pull/1585
[#1701]: https://github.yandex-team.ru/lego/islands-components/pull/1701
[#1107]: https://github.yandex-team.ru/lego/islands-components/pull/1107
[#1564]: https://github.yandex-team.ru/lego/islands-components/pull/1564
[#1598]: https://github.yandex-team.ru/lego/islands-components/pull/1598
[#1556]: https://github.yandex-team.ru/lego/islands-components/pull/1556
[#1702]: https://github.yandex-team.ru/lego/islands-components/pull/1702
[#1599]: https://github.yandex-team.ru/lego/islands-components/pull/1599
[#1704]: https://github.yandex-team.ru/lego/islands-components/pull/1704
[#1629]: https://github.yandex-team.ru/lego/islands-components/pull/1629
[#1710]: https://github.yandex-team.ru/lego/islands-components/pull/1710
[#723]: https://github.yandex-team.ru/lego/islands-page/pull/723
[#321]: https://github.yandex-team.ru/lego/islands-romochka/pull/321
[#258]: https://github.yandex-team.ru/lego/islands-romochka/pull/258
[#248]: https://github.yandex-team.ru/lego/islands-romochka/pull/248
[#282]: https://github.yandex-team.ru/lego/islands-romochka/pull/282
[#281]: https://github.yandex-team.ru/lego/islands-romochka/pull/281
[#270]: https://github.yandex-team.ru/lego/islands-romochka/pull/270
[#276]: https://github.yandex-team.ru/lego/islands-romochka/pull/276
[#230]: https://github.yandex-team.ru/lego/islands-romochka/pull/230
[#273]: https://github.yandex-team.ru/lego/islands-romochka/pull/273
[#240]: https://github.yandex-team.ru/lego/islands-romochka/pull/240
[#166]: https://github.yandex-team.ru/lego/islands-romochka/pull/166
[#209]: https://github.yandex-team.ru/lego/islands/pull/209
[#194]: https://github.yandex-team.ru/lego/islands/pull/194
[#1603]: https://github.yandex-team.ru/lego/islands-components/pull/1603
[#1602]: https://github.yandex-team.ru/lego/islands-components/pull/1602
[#1601]: https://github.yandex-team.ru/lego/islands-components/pull/1601
[#195]: https://github.yandex-team.ru/lego/islands-icons/pull/195
[#250]: https://github.yandex-team.ru/lego/islands-romochka/pull/250
[#566]: https://github.yandex-team.ru/lego/islands-user/pull/566
[#694]: https://github.yandex-team.ru/lego/islands-page/pull/694
[#1592]: https://github.yandex-team.ru/lego/islands-components/pull/1592
[#701]: https://github.yandex-team.ru/lego/islands-page/pull/701

[desktop]: https://jing.yandex-team.ru/files/karamadjong/desktop.svg
[touch-pad]: https://jing.yandex-team.ru/files/karamadjong/tablet.svg
[touch-phone]: https://jing.yandex-team.ru/files/karamadjong/phone.svg
[task]: https://jing.yandex-team.ru/files/karamadjong/task.svg
[bug]: https://jing.yandex-team.ru/files/karamadjong/bug.svg
