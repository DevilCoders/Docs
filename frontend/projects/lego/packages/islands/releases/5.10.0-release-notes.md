# islands 5.10.0

Изменения, вошедшие в релиз islands 5.10.0, разделены на группы:

* [минорные изменения](#Минорные-изменения) — задачи, в рамках которых произошло расширение API блоков;
* [исправлено и улучшено](#Исправлено-и-улучшено) — различные исправления, не затрагивающие API блоков;
* [дополнительно](#Дополнительно) — задачи, не касающиеся кода блоков (документация, инфраструктура и т.д.).
* [Lego on React](#Lego-on-React) — задачи, касающиеся Lego on React

Все важные изменения подробно описаны [ниже](#Пояснения).

## Минорные изменения

| Заголовок                                                       | Задача     | PR      |
| :-------------------------------------------------------------- | :--------- | :------ |
| i-services: Обновить локали для национальных доменов            | [ISL-4103] | [#2543] |
| [icon: Возможность inline-вставки svg иконки в html](#ISL-4051) | [ISL-4051] | [#2499] |
| tableau: Добавить недостающих сервисов                          | [ISL-3995] | [#2539] |

## Исправлено и улучшено

| Заголовок                                                                        | Задача     | PR      |
| :------------------------------------------------------------------------------- | :--------- | :------ |
| Menu.react: Нельзя создать группу из одного элемента                             | [ISL-3788] | [#2518] |
| button2: Сбросить стили по умолчанию                                             | [ISL-3520] | [#2540] |
| i-bem__dom: Добавить защиту от передачи пустого jquery-объекта в метод destruct  | [ISL-3912] | [#2522] |
| [icon: Перестать использовать тэг I](#ISL-4081)                                  | [ISL-4081] | [#2506] |
| m-calendar: Перейти на использование popup2                                      | [ISL-4047] | [#2515] |
| popup2.react: некорректная работа popup2_autoclosable_yes при открытии по фокус… | [ISL-3783] | [#2501] |
| select2_native_yes: Если на странице несколько селектов, то есть возможность…    | [ISL-4018] | [#2536] |
| select: Двойное экранирование при использовании escapeContent:true в BH          | [ISL-3567] | [#2555] |
| textarea: В CSS задана постоянная высота                                         | [ISL-3602] | [#2527] |

## Дополнительно

| Заголовок                                                                        | Задача     | PR      |
| :------------------------------------------------------------------------------- | :--------- | :------ |
| select2_native_yes: В примерах документации не хватает зависимости от элемента … | [ISL-4005] | [#2512] |
| select2_text_vary: Улучшить документацию                                         | [ISL-3889] | [#2537] |

## Lego on React

| Заголовок                                                                   | Задача     | PR      |
| :-------------------------------------------------------------------------- | :--------- | :------ |
| m-footer: Портировать на React                                              | [ISL-4050] | [#2532] |
| modal.react: Некорректная работа вызова __base в методах modal_autoclosable | [ISL-4096] | [#2535] |
| popup2.react: Не открывается popup2_target_position                         | [ISL-4120] | [#2541] |
| tooltip.react: Адаптировать под gemini                                      | [ISL-3921] | [#2548] |
| tooltip.react: Прокидывать в props zIndexGroupLevel                         | [ISL-4094] | [#2528] |

## Пояснения

<a name="ISL-4051"></a>
### [icon: Возможность inline-вставки svg иконки в html][ISL-4051]

Добавлен модификатор `_glyph` для вставки иконок посредством inline-svg
и значения `_type-arrow`, `_type-close`.

<a name="ISL-4081"></a>
### [icon: Перестать использовать тэг I][ISL-4081]

Удалена часть вредного кода, устанавливающего для иконок тэг `i`.

Если вам по какой-то причине необходимо, чтобы у иконок был тэг `i`,
добавьте на своём уровне код для используемого шаблонизатора.

```js
// bemhtml.js
block('icon')(
  tag()('i'),
  attrs()(function() {
    return this.extend(applyNext(), {'aria-hidden': 'true'});
  })
);

// bh.js
module.exports = function(bh) {
  bh.match('icon', function(ctx) {
    ctx.tag('i').attrs({'aria-hidden': 'true'});
  });
};
```

[ISL-3788]: https://st.yandex-team.ru/ISL-3788
[#2518]: https://github.yandex-team.ru/lego/islands/pull/2518
[ISL-3520]: https://st.yandex-team.ru/ISL-3520
[#2540]: https://github.yandex-team.ru/lego/islands/pull/2540
[ISL-3912]: https://st.yandex-team.ru/ISL-3912
[#2522]: https://github.yandex-team.ru/lego/islands/pull/2522
[ISL-4103]: https://st.yandex-team.ru/ISL-4103
[#2543]: https://github.yandex-team.ru/lego/islands/pull/2543
[ISL-4051]: https://st.yandex-team.ru/ISL-4051
[#2499]: https://github.yandex-team.ru/lego/islands/pull/2499
[ISL-4081]: https://st.yandex-team.ru/ISL-4081
[#2506]: https://github.yandex-team.ru/lego/islands/pull/2506
[ISL-4047]: https://st.yandex-team.ru/ISL-4047
[#2515]: https://github.yandex-team.ru/lego/islands/pull/2515
[ISL-4067]: https://st.yandex-team.ru/ISL-4067
[#2490]: https://github.yandex-team.ru/lego/islands/pull/2490
[ISL-4050]: https://st.yandex-team.ru/ISL-4050
[#2532]: https://github.yandex-team.ru/lego/islands/pull/2532
[ISL-4096]: https://st.yandex-team.ru/ISL-4096
[#2535]: https://github.yandex-team.ru/lego/islands/pull/2535
[ISL-4120]: https://st.yandex-team.ru/ISL-4120
[#2541]: https://github.yandex-team.ru/lego/islands/pull/2541
[ISL-3783]: https://st.yandex-team.ru/ISL-3783
[#2501]: https://github.yandex-team.ru/lego/islands/pull/2501
[ISL-4005]: https://st.yandex-team.ru/ISL-4005
[#2512]: https://github.yandex-team.ru/lego/islands/pull/2512
[ISL-4018]: https://st.yandex-team.ru/ISL-4018
[#2536]: https://github.yandex-team.ru/lego/islands/pull/2536
[ISL-3889]: https://st.yandex-team.ru/ISL-3889
[#2537]: https://github.yandex-team.ru/lego/islands/pull/2537
[ISL-3567]: https://st.yandex-team.ru/ISL-3567
[#2555]: https://github.yandex-team.ru/lego/islands/pull/2555
[ISL-3995]: https://st.yandex-team.ru/ISL-3995
[#2539]: https://github.yandex-team.ru/lego/islands/pull/2539
[ISL-3602]: https://st.yandex-team.ru/ISL-3602
[#2527]: https://github.yandex-team.ru/lego/islands/pull/2527
[ISL-3921]: https://st.yandex-team.ru/ISL-3921
[#2548]: https://github.yandex-team.ru/lego/islands/pull/2548
[ISL-4094]: https://st.yandex-team.ru/ISL-4094
[#2528]: https://github.yandex-team.ru/lego/islands/pull/2528
