# b-menu-vert

**Статус блока**: **deprecated**

Рекомендуется использовать блок `menu`.

Блок, создает разметку для вертикального меню. Построен на основе блока-хелпера **i-menu**.

## Варианты использования

* **Простое вертикальное меню:** в качестве контента элементов `item` в простых случаях используются ссылки.
* **Вертикальное js-меню с псевдоссылками:** в качестве контента элементов `item` используются не ссылки, уводящие пользователя на другую страницу, а псевдоссылки для клиентского JavaScript-приложения. Для этого в BEMJSON-декларации доопределяем обычные ссылки до псевдо-ссылок, используя модификатор `{ pseudo: 'yes' }`.
* **Вертикальное js-меню со сложным контентом:** пункты меню могут содержать не один, а несколько блоков.
* **Раскрывающееся вертикальное js-меню:** если нужно сразу показать вложенное меню раскрытым, эти модификаторы следует явно задать в BEMJSON-описании блока.
* **Вложенные меню:** BEMJSON позволяет вкладывать одни блоки в другие. Содержанием пункта меню может быть другое меню, и тогда естественным образом образуется вложенность.
Такое использование меню создаст в DOM-дереве два блока (и два узла `ul`), которые будут вести себя соответственно.

## Объявление блока на странице

В простейшем случае в BEMJSON достаточно объявить блок и перечислить его элементы `item` в свойстве `content`:

```javascript
{
  block: 'b-menu-vert',
  content: [
    {
      elem: 'item',
      content: 'Index'
    },
    {
      elem: 'item',
      content: 'Contacts'
    },
    //...
  ]
}
```
HTML-представление:

```html
	<div class="b-menu-vert">
		<ul class="b-menu-vert__layout">
			<li class="b-menu-vert__layout-unit b-menu-vert__layout-unit_position_first">
				<div class="b-menu-vert__item">Index</div>
			</li>
			<li class="b-menu-vert__layout-unit b-menu-vert__layout-unit_position_last">
				<div class="b-menu-vert__item">Contacts</div>
			</li>
		</ul>
	</div>
```
В получившемся HTML появляются не только узлы для блока и явно заданных элементов `item`, но и разметка для элементов `layout` и `layout-unit`, которые отвечают за геометрическое изображение блока.

Описанные ниже варианты деклараций блока в BEMJSON-файле представлены в разделе «Примеры».

## Элементы блока

### Элемент `item`
Элемент меню
`{ elem: 'item' }`
Содержанием элементов меню может быть что угодно: ссылки на страницы, псевдоссылки, иконки и вообще любые блоки.


### Элемент `title`

**NB** С версии islands 4.x – опциональный. Необходимо самостоятельно подключать в зависимости блока.

Элемент служит для отображения заголовка меню.
В BEMJSON необходимо указать свойство `title`.

```javascript
{
  block: 'b-menu-vert',
  title: {
    elem: 'title',
    content: 'Menu title'
  },
  content: { ... }
}
```


### Элемент `separator`

Специальный символ, который разделяет пункты меню
`{ elem: 'separator' }`
Предусмотрена возможность создания пустого элемента списка для визуального разделения одних пунктов от других.
Для этого на уровне переопределения проекта нужно задать CSS-правила для него.
Чаще всего `separator` представляют в виде горизонтальной черты.


### Элемент `item-selector`

`{ elem: 'item-selector' }`
**Вертикальное js-меню с псевдоссылками**
Кроме внешнего вида, js-меню отличается и клиентской функциональностью: оно способно по клику левой кнопкой мыши переключать соответствующий пункт меню в состояние `{ state: 'current' }` и генерировать на js-объекте, соответствующем блоку, событие о факте переключения пункта меню.

Для использования этой функциональности необходимо определить элемент `item-selector`. Эти элементы специально не совпадают с элементами `item`, потому что чаще всего сам пункт меню больше по размеру, чем его активная область.

Элемент `item-selector` можно использовать как сам по себе, так и примешивая его к другим элементам или блокам. В данном случае можно сделать `mix` с псевдоссылками.

**Вертикальное js-меню со сложным контентом**
Пункты меню могут содержать не один, а несколько блоков.

Поскольку реакция на клик необходима для всего содержания пункта меню, элемент `item-selector` используется в таком случае в явном виде, являясь контейнером для содержания пункта меню.
В этом случае он представлен в DOM-дереве узлом `span`.

### Элемент `item-content`

`{ elem: 'item-content' }`
Элемент `item-content` с содержанием показывается или скрывается в зависимости от кликов по элементу `item-selector`. Описывается свойством `item-content`.

Элемент `item-content` не видим, в случае, если элемент `trigger` не содержит модификатора `state`, а элемент `item-content` не содержит модификатора `visibility`.


### Элемент `trigger`

`{ elem: 'trigger' }`
При клике на элементе `trigger` левой кнопкой мыши он приобретает модификатор `{ state: 'opened' }`. Элемент `item-content` в это же время приобретает модификатор `{ visibility: 'visible' }` и становится виден на странице.

По умолчанию не содержит модификатора `state`.

### Элемент `submenu`

`{ elem: 'submenu' }`
Элемент `submenu` дает возможность визуально представить меню как вложенное, но функционально — как один блок (например, со сквозным поведением активного пункта меню).

Элемент `submenu` должен содержаться в элементе `item-content` и включать в себя описание элементов `item` для вложенного меню.


## Модификаторы элементов
### Модификатор `state_current`

`{ ElemMods: { state: 'current' } }`
У одного из элементов `item` может быть модификатор `{ state: 'current' }`, отмечающий выделенный пункт меню.
Модификатор используется как для визуального выделения пункта при помощи CSS-правил для этого модификатора, так и для описания функционального поведения.
