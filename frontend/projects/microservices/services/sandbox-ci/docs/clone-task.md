# Клонирование задач

Адрес ручки клонирования задач:

```
https://sandbox-ci.si.yandex-team.ru/clone-task
```

При успешном клонировании пользователю возвращается ссылка на задачу.

## Клонирование по идентификатору

Для клонирования задачи по идентификатору пользователю необходимо отправить GET-запрос с параметром `sandboxTaskId`:

```
/clone-task?sandboxTaskId=xxxxxxxxx
```

## Клонирование задачи определённого типа

Для клонирования последней задачи определённого типа необходимо отправить GET-запрос с параметром `sandboxTask`:

```
/clone-task?sandboxTask=MY_SANDBOX_TASK
```

## Клонирование задачи определённого типа с определёнными входными параметрами

Для клонирования последней задачи определённого типа и набором входных параметров необходимо отправить GET-запрос с параметрами `sandboxTask` и `search_parameters`:

```
/clone-task?
  sandboxTask=My_SANDBOX_TASK
  &search_parameters={"ref":"pull/10975"}
```

## Клонирование задачи определённого типа с определёнными входными параметрами

Для клонирования последней задачи определённого типа и заменой значения некоторых полей необходимо отправить GET-запрос с параметрами `sandboxTask` и `custom_fields`:

```
/clone-task?
  sandboxTask=My_SANDBOX_TASK
  &custom_fields=[{"name":"environ","value":{"RAINBOW":"DASH"}}]
```

## Клонирование задачи с сохранением оригинального овнера

При клонировании используется переданный в параметре `sandboxTaskOwner` овнер. Если требуется сохранить оригинального овнера, то необходимо указать параметр `clone_task_owner` со значением `true`.

```
/clone-task?
  sandboxTaskId=xxxxxxxxx
  &clone_task_owner=true
```

> :warning: Необходимо выдать доступ роботу `robot-serp-bot` к группе в Sandbox, указанной в параметре `sandboxTaskOwner` или, если указан параметр `clone_task_owner`, группе, от имени которой был создан оригинальный таск (тот, что будет клонироваться).
