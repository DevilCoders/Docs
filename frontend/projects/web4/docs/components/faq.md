# FAQ по React-компонентам

- [Как понять – создавать новый компонент или дорабатывать существующий](#Как-понять--создавать-новый-компонент-или-дорабатывать-существующий)
- [Как создать новый компонент](#Как-создать-новый-компонент)
- [Как писать стили для компонента](#Как-писать-стили-для-компонента)
- [Можно ли хакрдкодить настройки шрифта в стилях](#Можно-ли-хакрдкодить-настройки-шрифта-в-стилях)
- [Какие известны скоростные оптимизации при написании компонентов](#Какие-известны-скоростные-оптимизации-при-написании-компонентов)
- [Как экспериментировать с компонентами](../experiments/components.md)
- [Можно ли использовать динамические импорты](../patterns/components/dynamic-imports.md)
- [Какие события компонента можно логировать](https://wiki.yandex-team.ru/search-interfaces/baobab/#m-sobytija)
- [Как правильно расширить компонент из Лего](../faq/extending-lego-components.md)
- [Можно ли использовать Redux](../faq/redux.md)
- [Откуда брать данные про запрос на клиенте? Аналог BEM.blocks['i-global'].param(...)](../../src/components/GlobalContext/README.md)
- [Не хочу переписывать все компоненты на React сразу. Можно ли из React обращаться к i-bem блокам](../../src/components/ReactBus/README.md)

### Как понять – создавать новый компонент или дорабатывать существующий?

Просмотреть все существующие компоненты в монорепе можно в [общем-Storybook-е](https://depot.yandex-team.ru/components/), для собственных компонентов Серпа (включая экспериментальные) такого единого места пока нет.

Тем не менее, написано уже много компонентов. **Не плодите, пожалуйста, компоненты аналогичные существующим или очень схожие!** Обсудите с дизайнером уже имеющиеся в наличие компоненты – они тоже заинтересованы в единообразии!

### Как создать новый компонент?

Если ничего схожего среди существующих компонентов нет, то можно приступить к созданию нового компонента. Несколько хороших практик:

>Компонент должен быть отчуждаемым и покрытым тестами
>Не создавайте компонент `Table2`, если это та же таблица, но немного с другой функциональностью – доработайте `Table`.
>Именовать новый компонент необходимо как можно очевидней, даже если вы считаете, что он одноразовый. Завтра может всё поменяться и кому-то он пригодится! **Не называйте компонент по имени фичи!** Это предотвратит дублирование компонентов, упростит навигацию и поиск по ним.

Далее действуем по [алгоритму](./howto.md).

### Как писать стили для компонента?

**Не завязывайтесь в стилях компонента на селекторы родителя**, это сохранит отчуждаемость. Ваш компонент могут использовать где угодно.

Например, не используйте селекторы содержащие `.Organic` в компонентах, потому что никто не гарантирует что компонент будет использоваться только внутри `.Organic`.

**Не прокидывайте кастомные стили в компонент** через `props`-ы. Такой способ управления стилями не позволит нам закрепить и протестировать все возможные его вариации. Вместо этого сделайте, компоненту модификатор со своей темой.

Внутри компонента **НЕЛЬЗЯ переопределять стили, меняющие вид других компонентов**. Совсем! И никогда! Если каждый начнет менять поведение в потрохах своих компонентов, то поддерживать компоненты станет невозможным.

### Можно ли хакрдкодить настройки шрифта в стилях?

Ответ по умолчанию — **НЕТ**.
Сначала нужно попробовать применить css-константы из проекта:

```scss
@import '../Constants/Constants@desktop.scss';

.Price {
    font-size: $text-m-line-s;

    .Link:hover {
        color: $color-red-hover;
    }
}
```

Есть константы нескольких типов:
- Анимации
- Цвета
- Скругления
- Тени
- Типографика

Подробнее см. [Constants](../../src/components/Constants), который расширяет стили [Дизайн-системы](https://depot.yandex-team.ru/).

### Какие известны скоростные оптимизации при написании компонентов?

- [ProgressiveRenderer](../../src/components/ProgressiveRenderer/README.md).
- [Mini-roots](../../src/components/Root/README.md#createsubroot).
- [Vanilla in React](../../src/vendors/vanillaInReact/README.md).

