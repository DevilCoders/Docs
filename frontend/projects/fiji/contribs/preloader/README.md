i-preloader
===========

Блок загружает дубликаты картинки пока не находит успешно загруженный.

Пример использования:

```js
this.preloader = BEM.create({ block: 'i-preloader' });
this.preloader
  .on('success', function(e, image) {
      // вставляем картинку в DOM
      $('img').attr('src', image.src);
    },
  }, this)
  .on('error', function() {
    // ошибка загрузки всех дубликатов картинки
  }, this);

// начинаем загружать дубликаты картинки по одному, пока не будет успешной загрузки
this.preloader.load([
  {
      url: "http://example.com/img.jpg",
      width: 100,
      height: 200
  },
  {
      url: "http://example2.com/img.jpg",
      width: 100,
      height: 200
  }
]);
```
### Модификаторы блока
| Модификатор | Значения | Способы установки | Описание |
| ----------- | -------- | ----------------- | -------- |
| `batch` | `yes` | `BEMJSON` | Последовательно загружает все картинки поставленные в очередь. |
| `nosize` | `yes` | `BEMJSON` | Выключает обязательную проверку соответствия фактических размеров загруженной картинки|
| `batch-parallel` | `yes` | `BEMJSON` | Загружает одновременно до 6 картинок, по окончанию загрузки каждой, ставит на загрузку следующую. Может обрабатывать окончание загрузки добавленной группы картинок, после которой будет резолвится promise.|

Пример использования `i-preloader_batch-parallel_yes`:
```js
this.preloader = BEM.create({ block: 'i-preloader', mods: { 'batch-parallel': 'yes' } });

// Добавление и старт загрузки, с обработчиком окончания загрузки, добавленной группы картинок
this.preloader.parallelLoad([...]).then(function() {
    // Добавленная группа картинок загрузилась
});
```
