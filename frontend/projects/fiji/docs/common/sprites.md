# Спрайты

> **Внимание!** Информация про спрайты актуальна для старого стека (i-bem) и не относится к спрайтам реализуемым в webpack.

> (SAKHALIN-544)
## Когда и в какой спрайт добавлять картинку

**presprite** — при загрузке страницы картинка сразу видна пользователю

**postsprite** — картинка пользователю не видна, но при загрузке страницы — картинка так же загружается и логируется в Network

**inline** — картинка сразу нужна пользоватлю, но её нельзя добавить в спрайт

В остальных случаях картинка должна быть разинлайнена.

## Как добавить картинку в спрайт

Для управления сборкой спрайтов для пресёрча и иконок в `_common.css` используется три управляющих комментария:

* `/* svg:presprite */` — иконка будет добавлена в pre-спрайт (спрайт загружается сразу же в pre части пресёрча).
* `/* svg:sprite */` — иконка будет добавлена в post-спрайт (спрайт загружается в конце страницы).
* `/* svg:inline */` — иконка инлайнится в css.

Если для селектора иконки не будет ни одного из этих комментариев, то иконка будет разинлайнена (будет вставлена ссылкой).
**Исключение**: в дев режиме сборки инлайнится всё.

Для удобства все селекторы, которые надо обрабатывать для спрайтов или для `_common.css`, собраны в `svg-config.css`.

## Фоллбэк для браузеров, не поддерживающих svg

Есть два магических селектора (`i-ua_svg_no`, `i-ua_inlinesvg_no`):
* Десктопы: `i-ua_svg_no` (синоним: `i-ua_inlinesvg_no`, но лучше не использовать его)
* Тачи: `i-ua_inlinesvg_no` ([для wp8](https://github.com/bem/bem-bl/blob/a9a1e5798af675eb1f2ce41875a60e8da03316bd/blocks-touch/i-ua/i-ua.js#L93-L94), таск: [EXLEGO-9072](https://st.yandex-team.ru/EXLEGO-9072))

