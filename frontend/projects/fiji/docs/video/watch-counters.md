## Счётчики просмотров Видео

### AUTOOPEN-DURATION

Используется для фиксирования времени проигрывания автовыделенного ролика.
Данный счётчик является полным аналогом счётчика DURATION с одним исключением: **path=autoopen**.

Отсчёт времени для AUTOOPEN-DURATION начинается с момента загрузки плеера автовыделенного сниппета. Отправка счётчика выполняется при любом из последующих действий:
- клик в сниппет;
- клик в related;
- смена запроса любым способом (через поисковую строку, кликом в сериальный навигатор, связанные объекты, связанные запросы и любые др. способы);
- смена фильтрации порно, приводящая к перезагрузке выдачи с автовыделением первого ролика;
- уход на Морду.

Счётчик не отправляется если между автовыделением ролика и любым из действий, отправляющих счётчик, прошло менее 10 секунд. Это порог, для того чтобы исключить переформулировки, в которых не было реального просмотра.


*(open-player, heartbeat, duration)*
*TODO*

### Счётчики to-hosting
Отправляются при переходах на внешний ресурс (сайт хостинга) при клике по элементам сниппета или плеера.
Имеют следующую структуру path: `to-hosting.[page].[hostname].[suffix]`, где page — имя страницы, hostname — отформатированное имя хостинга, suffix — название элемента, при клике по которому был совершён переход. Пример: `path=to-hosting.serp.wwwyoutubecom.link`.

Сценарии **Дескпад:**

1. Клик по гринурлу сниппета (в т.ч. для связанных видео). Suffix: "link".
2. Клик по тайтлу под плеером. Suffix: "link". Особенность: вместо префикса "to-hosting" используется "to-hosting-from-player".
3. Клик по гринурлу под плеером. Suffix: "link". Особенность: вместо префикса "to-hosting" используется "to-hosting-from-player".
4. Клик по кнопке в заглушке внешнего ролика (*только для внешних роликов*). Suffix: "external-open-url".
5. Клик по кнопке в заглушке при ошибке загрузки плеера. Suffix: "preview".

6. Прочие клики по области сниппета (*только для внешних роликов*). Их особенность в том, что по клику открывается заглушка, но реального перехода на сайт не происходит:
  - клик по тайтлу сниппета, suffix: "title"
  - клик по тумбнейлу сниппета, suffix: "thumb"
  - клик по оставшейся области сниппета, suffix: "empty"

Во всех сценариях строим – cpCounter.

Сценарии **Тачи:**

1. Клик в тумб внешнего ролика (еще неразвернутый). Suffix: "empty".
2. Клик в грин урл в распашонке. Suffix: "link". Особенность: вместо префикса "to-hosting" используется "to-hosting-from-player".
3. Клик по кнопке в заглушке внешнего ролика (*только для внешних роликов*). Suffix: "external-open-url".

### Прочие счётчики
| cid   | Когда вызывается                                |
| ----- | ----------------------------------------------- |
| 72137 | При добавлении ролика в "Мои Видео"             |
| 72245 | При переключении фильтров                       |
| 72246 | При клике по ссылкам в поделяшке                |
| 72874 | При клике по ссылкам в блоке связанных запросов |
