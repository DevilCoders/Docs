# Микросервис для генерации PDF из HTML по url

## Входные параметры
`POST` запрос со следующими параметрами:
```js
{
    "url": "<путь до страницы, которую необходимо распечатать, обязательный параметр>",
    "pdfnup": "true", // параметр, определяет необходимость печати в книжном формате (2 страницы на одной)
}
```

Для более кастомной настройки печати можно отправить дополнительные настройки для `[wkhtmltopdf](https://wkhtmltopdf.org/usage/wkhtmltopdf.txt)` просто дополнив `POST` запрос нужными опциями.

## Вывод
Поток с сгенерированной PDF

Генерация PDF считается успешной если сервер вернул `200` и не пустым `body`. `body` проверять обязательно из-за специфики поточного вывода данных.

## Специфика реализации
Для генерации PDF используется `wkhtmltopdf`, так что при разработке страницы надо закладываться на поддержку WebKit и ошибки самого `wkhtmltopdf`.

При запуске не в Docker контейнере также необходимо установить:
- `texlive`, `texlive-extra-utils` (необходимо для разбиения страницы на две с помощью `pdfjam`)
- `wkhtmltopdf` (и зависимости для рендеринга `fontconfig`, `libxrender1`)
