# Сервис для тестирования турбоаппа "Чекаут"

Представляет из себя сервер, связывающий страницу, открывшую турбоапп оплаты (чекаут)
и сам чекаут. Связь осуществляется путем установки соединения через websocket.

## Использование

Сервис состоит из двух страниц:
- Страница тестового магазина (`/test-merchant`)
- Страница админки событий (`/event-manager`)

На странице магазина при каждом открытии генерируется идентификатор, который необходимо использовать для связи
с админкой событий. Так же необходимо ввести адрес, по которому доступна версия ТА Чекатута.
Пример адреса:

```text
https://checkout.tap-tst.yandex.ru
```

**Важно**: В конце адреса не должно быть `/` и каких-либо query-параметров.

## Оплата тестовыми картами

В админке есть возможность сгенерить тестовый токен Яндекс Оплаты. Оплатить заказ можно тестовой картой:
* номер карты `5555555555554444`
* срок действия — любой в будущем
* CVC — любой

## Разработка

Устанавливаем зависимости:
```bash
npx lerna bootstrap --scope @yandex-int/turboapp-checkout-test-service --include-filtered-dependencies
```

Для локальной разработки запускаем скрипт:
```bash
npx lerna run start --scope @yandex-int/turboapp-checkout-test-service --stream
```

Сервис становится доступным по локальному адресу [http://localhost:3001](http://localhost:3001).
Приложение автоматически перезапустится при изменениях в коде.
