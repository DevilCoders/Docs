# Добавление новой сборки

Добавление новой сборки не тривиальная задача и не должно делаться без острой необходимости.

Если новую сборку все же надо добавить, то для этого надо сделать несколько действий:

## Добавить свои контейнеры в папку public

Если надо чтобы использовался отдельный шаблон для новой сборки,
то надо добавить его в public, по аналогии с

```public/chat.html```
```public/chat-container.html```
```public/chat-list-container.html```

## Добавление новой сборки в renderer

Если надо, чтобы новая сборка открывалась по отдельной ручке/параметру
с публичных ручек, то новый build параметр надо добавить в файл ```core/render.js```

В этом файле указывается с каким флагом build и при каком окружении (development|gemini|production|production)
какая папка будет использоваться для раздачи статики.

## Добавление новой сборки в webpack

Для того чтобы новая сборка заработала, её надо добавить в общий список сборок
(если надо чтобы собиралось вместе со всеми) ```config/webpack.build.js```

Сама сборка настраивается в файле ```config/webpack.config.js```, где
на основе переданных из ```config/webpack.build.js``` параметров build, target, mode
через if или подключение отдельных файлов добавляются свои getMode, getTarget,
getEntry, getLibrary, getExternals, getPath и модули/плагины, либо подключается совершенно
отдельный webpack config файл.

Рекомендуется использовать подход с if, так как для сборок параметры, плагины
и модули обычно одинаковые, и отличаются только небольшие части, например
входные и выходные файлы и target.
