[![N|Solid](https://jing.yandex-team.ru/files/excel/2016-11-28_21.20.17.png)](https://nodesource.com/products/nsolid)

# samadhi-toloka
–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã **samadhi** –¥–ª—è –Ø–Ω–¥–µ–∫—Å.–¢–æ–ª–æ–∫–∞.
–í–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –¥–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:

  - –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ —à–∞–±–ª–æ–Ω–∞ –Ω–∞ –∑–∞–¥–∞–Ω–∏–∏ –∏–∑ –≤—ã–±—Ä–æ–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ -> –ø—É–ª–∞
  - –î–µ–ø–ª–æ–π —à–∞–±–ª–æ–Ω–∞ –Ω–∞ —É–∫–∞–∑–∞–Ω—ã–π –ø—Ä–æ–µ–∫—Ç

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫

#### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
–û–∫—Ä—É–∂–µ–Ω–∏—è –¢–æ–ª–æ–∫–∏:
  - **sandbox** - [sandbox.toloka.yandex.ru](https://sandbox.toloka.yandex.ru/)
  - **prod** - [toloka.yandex.ru](https://toloka.yandex.ru/)

–û–∫—Ä—É–∂–µ–Ω–∏—è –Ø–Ω–≥–∞:
  - **sandbox** - [sandbox.yang.yandex-team.ru](https://sandbox.yang.yandex-team.ru/)
  - **prod** - [yang.yandex-team.ru](https://yang.yandex-team.ru/)
  
[–¢–æ–∫–µ–Ω—ã –ª–µ–∂–∞—Ç –∑–¥–µ—Å—å](https://yav.yandex-team.ru/secret/sec-01cn53b0mcf16njk1haxjrzp3n/explore/versions)

–¢–∞–∫–∂–µ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –º–æ–∂–Ω–æ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ, –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –æ–ø–∏—Å–∞–Ω–æ [–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ø–Ω–¥–µ–∫—Å.–¢–æ–ª–æ–∫–∞](https://tech.yandex.ru/toloka/doc/concepts/access-docpage/).

#### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤
–í –∫–æ—Ä–Ω–µ (–Ω–∞ —É—Ä–æ–≤–Ω–µ package.json) –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª **samadhi.secret.json** —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:
```json
{
  "sandbox": "–í–∞—à —Ç–æ–∫–µ–Ω –¥–ª—è sandbox –¢–æ–ª–æ–∫–∏",
  "production": "–í–∞—à —Ç–æ–∫–µ–Ω –¥–ª—è production –¢–æ–ª–æ–∫–∏",
  "yang-sbox": "–í–∞—à —Ç–æ–∫–µ–Ω –¥–ª—è sandbox –Ø–Ω–≥–∞",
  "yang-prod": "–í–∞—à —Ç–æ–∫–µ–Ω –¥–ª—è production –Ø–Ω–≥–∞"
}
```

#### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞–Ω–∏–π
–ó–∞–¥–∞–Ω–∏—è –º–æ–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø—É–ª–∞. –î–ª—è —ç—Ç–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:
```sh
npm run scenario:clone-pool -- --mode <TOLOKA_ENV: sandbox | production> --pool <POOL_ID>
```
  
#### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã
```sh
npm run scenario:build
npm run scenario:ttk:server
npm i
open https://localhost:9001
open https://localhost:8083/assets/script.js
```
–í –æ—Ç–∫—Ä—ã–≤—à–∏—Ö—Å—è –≤–∫–ª–∞–¥–∫–∞—Ö –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–∞—Ç—å—Å—è —Å–¥–µ–ª–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –°–¥–µ–ª–∞—Ç—å —ç—Ç–æ –Ω—É–∂–Ω–æ –∫–∞–∫ –¥–ª—è –¥–µ–≤ —Å–µ—Ä–≤–µ—Ä–∞ –≤–µ–±–ø–∞–∫–∞ —Ç–∞–∫ –∏ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ —Ç–æ–ª–æ–∫–∏. –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã—Ç–æ –ø–æ –ø–µ—Ä–≤–æ–π —Å—Å—ã–ª–∫–µ.

# –î–µ–ø–ª–æ–π —à–∞–±–ª–æ–Ω–∞
##### –î–µ–ø–ª–æ–π –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç:
```sh
npm run scenario:build-release
npm run scenario:deploy -- --mode <TOLOKA_ENV: sandbox | production | yang-sbox> --project <PROJECT_ID>
```

##### –î–µ–ø–ª–æ–π –Ω–∞ —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤:
–î–µ–ø–ª–æ–π –Ω–∞ —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Ñ–∞–π–ª–∞ **samadhi.deploy.batch.json**. –¢–∞–º –æ–ø–∏—Å–∞–Ω—ã –≥—É—Ä–ø–ø—ã –ø—Ä–æ–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ø–ª–æ–∏—Ç—å.
```sh
npm run scenario:build-release
npm run scenario:deploy-batch -- --key <BATCH_KEY>
```

##### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ —à–∞–±–ª–æ–Ω–∞:
–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ input –∏ output –¥–∞–Ω–Ω—ã—Ö —à–∞–±–ª–æ–Ω–∞ –Ω—É–∂–Ω–æ –æ–ø–∏—Å–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª–µ [io-specs.js](/io-specs.js) –∏ –≤—ã–∑–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É:
```sh
npm run scenario:update-specs -- --mode <TOLOKA_ENV: sandbox | production | yang-sbox> --pool <POOL_ID>
```

#### –ö–æ–º–º–µ–Ω—Ç—ã –ø–æ –ø–æ–≤–æ–¥—É —É–ª—É—á—à–µ–Ω–∏—è
- –ø–æ—á–µ–º—É —Ç—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å? https://github.com/bem/bem-react/tree/master/packages/classname
- –ø–æ—á–µ–º—É —Ç—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –Ω–∞ fs –Ω–µ–π–º–∏–Ω–≥ –ø–æ –ë–≠–ú? –¢–µ–±–µ —É–¥–æ–±–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å 10 index.ts?
- –µ—Å–ª–∏ —É —Ç–µ–±—è –∫—Ä–æ–º–µ render –Ω–∏—á–µ–≥–æ –Ω–µ—Ç, —Ç–æ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ—Å—Ç–æ–π Stateless Component. –í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –º–æ–∂–µ—Ç. –ù–∞–ø–∏–º–µ—Ä —Ç—É—Ç https://github.yandex-team.ru/mm-interfaces/samadhi-toloka-scenario/blob/master/src/components/button/index.tsx –ù–æ —É —Ç–µ–±—è –≤–æ–æ–±—â–µ –≤–µ–∑–¥–µ –º–æ–∂–Ω–æ üòâ
- –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π export default. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–º—É –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—é –∫–ª–∞—Å—Å–æ–≤ –ø–æ –ø—Ä–æ–µ–∫—Ç—É.
- 'typings/radio-group-item' —Ç–∏–ø—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞–¥–æ –¥–µ—Ä–∂–∞—Ç—å —Ä—è–¥–æ–º —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- –ø–æ—á–µ–º—É —É —Ç–µ–±—è –≥–¥–µ-—Ç–æ CSS —Å–µ–ª–µ–∫—Ç–æ—Ä—ã, –∞ –≥–¥–µ-—Ç–æ CSS –º–æ–¥—É–ª–∏?
- –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π arrow-—Ñ-—Ü–∏–∏ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö (value: string) => onChange && onChange(value), —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å–æ–∑–¥–∞–Ω–∏—é –Ω–æ–≤–æ–π —Ñ-—Ü–∏–∏ –Ω–∞ –∫–∞–∂–¥—ã–π render
- –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —ç—Ç–æ–≥–æ https://github.yandex-team.ru/mm-interfaces/samadhi-toloka-scenario/blob/master/src/components/task/index.tsx#L21 –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–æ –±–æ–ª–µ–µ, –º—ã —Å–¥–µ–ª–∞–ª–∏ https://github.com/bem/bem-react/tree/master/packages/core
- —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –≤—Å—ë +- —á–æ—Ç–∫–æ üòâ
