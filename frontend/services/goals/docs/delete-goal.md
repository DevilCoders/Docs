# Удаление целей

Удалить тикет в трекере нельзя, поэтому наше удаление "ненастоящее".
Для удаления перемещаем цель в очередь `GOALSTRASH` для тестинга или `GOALZTRASH` для прода, доступ для которой ограничен: он есть только у команды голсов и `robot-goals`.

В трекере нельзя перенести тикет в очередь, до которой у тебя нет доступа, поэтому перенос мы осуществляем с помощью робота. При этом хотим сохранять знание о том, кто удалил, поэтому записываем логин этого пользователя в поле "Удалить". Как работает в итоге:
- при запросе за удалением цели из под робота перемещаем тикет в очередь "мусора" и устанавливаем в поле `toDelete` ("Удалить") логин пользователя
- цель становится скрытой от всех

Как восстановить цель:
- Найти её в очереди GOALSTRASH/GOALZTRASH (можно перейти по старому ключу, трекер средиректит)
- Очистить поле "Удалить"
- Триггер восстановления вернет цель в исходную очередь

При восстановлении у цели восстановится ID и она будет работать как раньше

Триггеры:
- тестинг: [восстановление](https://st.test.yandex-team.ru/admin/queue/GOALSTRASH/triggers/937)
- прод: [восстановление](https://st.yandex-team.ru/admin/queue/GOALZTRASH/triggers/19830)
