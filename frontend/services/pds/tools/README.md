tools
=====

Набор скриптов-хелперов для сборки, деплоя, инкремента чейнджлога и всего такого.

## Цели make

Цели про админку относятся к Вебмастеру и Поиску для сайта.

 * `make` — соберёт рабочую копию;
 * `make install-tools` — установит этот пакет — wmfront-tools;
 * `make link-tools` — создаст ссылки в `./tools/` на соотв. инструменты в этом пакете (на случай, если вы удалили папку `tools` и установили npm-пакеты руками);
 * `make npm.get` — установит npm-зависимости. Если есть [packrat](https://github.yandex-team.ru/an9eldust/packrat), установит их из его кеша;
 * `make bower.get` — установит bower-зависимости. Если есть packrat, установит из его кеша;
 * `make get-tanker` — забрать переводы из [Танкера](https://tanker.yandex-team.ru);
 * `make enb-make` — запустит сборщик [Enb](https://github.com/enb-make/enb), он соберёт CSS, JS, шаблоны;
 * `make privs` — пересоберёт priv-файлы;
 * `make configs` — разложит по местам необходимые конфиги для сборки и работы приложения;
 * `make support` — пересоберёт проект с админкой;
 * `make unsupport` — пересоберёт проект без админки;
 * `make clean` — сделает репозиторий девственно чистым;
 * `make <start|stop|restart>` — запускает, останавливает и перезапускает копию соответственно;
 * `make rebuild` — пересоберёт копию: переводы, статику, привы.

### Вотчеры

 * `make watch` — запустить вотчер, который будет пересобирать CSS, JS, шаблоны и привы при изменении соответствующих файлов;
 * `make watch-privs` — следить за изменениями в привах;
 * `make watch-css` — следить за изменениями в CSS. 

### Управление версиями

 * `make dch` — увеличить версию пакета;
 * `make dch-nginx` — увеличить версию пакета с конфигами nginx;
 * `make dch-support` — увеличить версию пакета админки;
 * `make dch-support-nginx` — увеличить версию пакета с конфигами nginx для админки;
 * `make dch-init`, `make dch-nginx-init`, `make dch-support-init`, `make dch-support-nginx-init` — инициализировать версии для соответствующих пакетов.
