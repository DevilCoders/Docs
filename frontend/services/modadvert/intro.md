# –ö–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ —Ä–µ—à–∞–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∫–ª–∞–º—ã

–ú–æ–¥–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–ª–∞–º—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ **–æ–±—ä–µ–∫—Ç—ã**. –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π json —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å –Ω–µ—Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π. –ö–∞–∂–¥–æ–º—É –æ–±—ä–µ–∫—Ç—É –º–æ–≥—É—Ç –≤—ã—Å—Ç–∞–≤–ª—è—Ç—å—Å—è **–≤–µ—Ä–¥–∏–∫—Ç—ã**. –ó–∞–¥–∞—á–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ ‚Äì –ø–æ–ª—É—á–∏–≤ –æ–±—ä–µ–∫—Ç—ã –≤—ã—Å—Ç–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç–∞–º –≤–µ—Ä–¥–∏–∫—Ç –∏ –≤–µ—Ä–Ω—É—Ç—å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è–º. –ü–æ –≤–µ—Ä–¥–∏–∫—Ç—É –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å —Å–º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å –ø—Ä–∏–Ω—è—Ç –ª–∏ –æ–±—ä–µ–∫—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∞–Ω–Ω–µ—Ä –¥–ª—è —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –ø–æ–∫–∞–∑–æ–≤ –≤ –ø–æ–∏—Å–∫–µ) –∏–ª–∏ –Ω–µ—Ç.

–í–µ—Ä–¥–∏–∫—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç —Ä–µ—à–µ–Ω–∏–µ –æ –ø—Ä–∏–Ω—è—Ç–∏–∏ (–≤ –¥–∞–Ω–Ω—ã—Ö –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç—Å—è –∫–∞–∫ Yes) –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ (–≤ –¥–∞–Ω–Ω—ã—Ö –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç—Å—è –∫–∞–∫ No) –æ–±—ä–µ–∫—Ç–∞, –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è (—Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤) –∏ –∫–∞–∫–∏–µ-—Ç–æ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, —É –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç–∞ –≤ –≤–µ—Ä–¥–∏–∫—Ç–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ñ–ª–∞–≥–∏, –ø—Ä–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –∫ —ç—Ç–æ–º—É —Ä–µ–∫–ª–∞–º–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É (–º–µ–¥–∏—Ü–∏–Ω–∞, —Ñ–∏–Ω–∞–Ω—Å—ã etc.).

–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–∞ –Ω–∞ typescript:

```typescript
{
  type: string; // banner | image | smart_banner ...
  service: string; // direct | pi ...
  object_id: string;
  version: string;
  verdicts: {
    verdict: 'Yes' | 'No',
    reasons: number[];
    flags: {
      [flag: string]: '1';
    }
    ...
  }[],
  ...
}
```

–ü–æ—Å–ª–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∞ –±–µ–∫–µ–Ω–¥–∞ —Ä–∞—Å—Å—Ç–∞–≤–ª—è–µ—Ç —á–∞—Å—Ç–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –≤–µ—Ä–¥–∏–∫—Ç—ã —Å–∞–º–∞, –∞ —á–∞—Å—Ç—å –æ–±—ä–µ–∫—Ç–æ–≤ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ —á–µ–ª–æ–≤–µ—á–µ—Å–∫—É—é –º–æ–¥–µ—Ä–∞—Ü–∏—é –≤ [–¢–æ–ª–æ–∫—É](https://toloka.yandex.ru) –∏–ª–∏ [–Ø–Ω–≥–∞](https://yang.yandex-team.ru) (–¥–∞–ª–µ–µ –¢–æ–ª–æ–∫–∞ –∏ –Ø–Ω–≥ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –ø—Ä–æ—Å—Ç–æ –¢–æ–ª–æ–∫–æ–π).

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ–±—ä–µ–∫—Ç–æ–≤ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç [–∞–¥–º–∏–Ω–∫–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏](https://modadvert.yandex-team.ru). –í –æ—Å–Ω–æ–≤–Ω–æ–º –æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç–∞ (–∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, –ø–æ–ª—å–∑—É—é—â–∏—Ö—Å—è –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π) –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–±—Ä–∞—â–µ–Ω–∏–π –æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–∞. –ü—Ä–∏ —Ç–∞–∫–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ —Å–∞–ø–ø–æ—Ä—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç –Ω—É–∂–Ω—ã–π –æ–±—ä–µ–∫—Ç, –ø—Ä–æ–≤–µ—Ä—è—é—Ç —á—Ç–æ –≤–µ—Ä–¥–∏–∫—Ç –≤—ã—Å—Ç–∞–≤–ª–µ–Ω –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –ø—Ä–æ—Å—Ç–∞–≤–ª—è—é—Ç –Ω–æ–≤—ã–π –≤–µ—Ä–¥–∏–∫—Ç. –í –º–µ–Ω—å—à–µ–π —Å—Ç–µ–ø–µ–Ω–∏ –∞–¥–º–∏–Ω–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ç–æ–≥–æ, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è –∏–ª–∏ —Å–µ—Ä–≤–∏—Å—ã –±–µ–∫–µ–Ω–¥–∞.

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

–û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏: [https://a.yandex-team.ru/arc/trunk/arcadia/frontend/services/modadvert](https://a.yandex-team.ru/arc/trunk/arcadia/frontend/services/modadvert)

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π **–Ω–æ–≤–æ–≥–æ template builder** (–¥–∞–ª–µ–µ –ø—Ä–æ—Å—Ç–æ template builder): [https://bb.yandex-team.ru/projects/TOLOKA/repos/tb](https://bb.yandex-team.ru/projects/TOLOKA/repos/tb)

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π **—Å—Ç–∞—Ä–æ–≥–æ template builder:** (!**DEPRECATED**) [https://bb.yandex-team.ru/projects/ASSESSMENT/repos/template-builder](https://bb.yandex-team.ru/projects/ASSESSMENT/repos/template-builder)

# template builder

–ú–æ–¥–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–≤–∏–¥–µ—Ç—å –æ–±—ä–µ–∫—Ç. –ü–æ—Å–∫–æ–ª—å–∫—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∏ –≤ –¢–æ–ª–æ–∫–µ, –∏ –≤ –ê–¥–º–∏–Ω–∫–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è template builder.

Template builder ‚Äì —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ json –∫–æ–Ω—Ñ–∏–≥–∞. –°—Ç–∞—Ä—ã–π template builder —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–ª—Å—è –∫–æ–º–∞–Ω–¥–æ–π –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (—Å–æ—Å—Ç–æ—è–≤—à–µ–π –Ω–∞ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç –∏–∑ –æ–¥–Ω–æ–≥–æ @v-trof), –Ω–æ –ø–æ–∑–∂–µ –æ–Ω –±—ã–ª –∑–∞–∫—Ä—ã—Ç –≤ –ø–æ–ª—å–∑—É –Ω–æ–≤–æ–≥–æ template builder. –ù–æ–≤—ã–π tempalte builder —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è [–∫–æ–º–∞–Ω–¥–æ–π –¢–æ–ª–æ–∫–∏](https://abc.yandex-team.ru/services/tb/) (–≤ —Ç–æ–º —á–∏—Å–ª–µ —Å @v-trof), –ø–æ—ç—Ç–æ–º—É –≤ –¢–æ–ª–æ–∫–µ –æ–Ω –∏–º–µ–µ—Ç first-class citizen –ø–æ–¥–¥–µ—Ä–∂–∫—É.

–ö–æ–º–∞–Ω–¥–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–ª–∏ –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ä—ã–µ. –ü–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ registry template builder –æ–Ω–∏ —Å—Ä–∞–∑—É –ø—Ä–æ—Ä–∞—Å—Ç–∞—é—Ç –≤ –∞–¥–º–∏–Ω–∫—É –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∏–ª–∏ –∑–∞–¥–∞–Ω–∏—è –¢–æ–ª–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–¥–µ–ª–∞–Ω—ã –Ω–∞ template builder.

–í –∞–¥–º–∏–Ω–∫–µ —Å [5 —Ä–µ–ª–∏–∑–∞](https://st.yandex-team.ru/MODADMRELEASE-5) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–π template builder. –°—Ç–∞—Ä—ã–π template builder –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —à–∞–±–ª–æ–Ω–∞—Ö –¢–æ–ª–æ–∫–∏ (—Ç.–∫. –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –Ω–æ–≤—ã–π –Ω—É–∂–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è). –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ template builder –Ω–∏–∫–µ–º –Ω–µ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è.

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –Ω–∞ template builder –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "—à–∞–±–ª–æ–Ω".

## –ß—Ç–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –Ω–∞ tb

- –§–æ—Ä–º—ã –ø–æ–∏—Å–∫–∞
- –í—Å–µ —Ä–µ–∫–ª–∞–º–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
- –í–µ—Ä–¥–∏–∫—Ç—ã –æ–±—ä–µ–∫—Ç–æ–≤
- –°–ø–∏—Å–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ (—Å–∞–π–¥–±–∞—Ä —Å–ø—Ä–∞–≤–∞ –æ—Ç –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∫–ª–∞–º–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞)
- –°–∞–π–¥–±–∞—Ä "—á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤" (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∞–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É "–ß–µ–∫–ø–æ–∏–Ω—Ç—ã", –∫–æ—Ç–æ—Ä–∞—è –µ—Å—Ç—å —É –∫–∞–∂–¥–æ–≥–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –≤ –ø–æ–∏—Å–∫–µ –ø–æ –¥–∏—Ä–µ–∫—Ç—É –æ–±—ä–µ–∫—Ç–∞)

–£ –≤—Å–µ—Ö (–∫—Ä–æ–º–µ —Ñ–æ—Ä–º –ø–æ–∏—Å–∫–∞) —à–∞–±–ª–æ–Ω–æ–≤, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ template builder —Å–ø—Ä–∞–≤–∞ —Å–≤–µ—Ä—Ö—É –≤–∏—Å–∏—Ç –Ω–µ–±–æ–ª—å—à–æ–π –∑–Ω–∞—á–æ–∫, –ø–æ–∑–≤–æ–ª—è—é—â–∏–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–∞–Ω–Ω—ã–µ, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä—ã—Ö —à–∞–±–ª–æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è.

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å tb

[–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ tb](https://yandex.ru/support/toloka-tb/)

–ß—Ç–æ–±—ã –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —à–∞–±–ª–æ–Ω —Å –ø–æ–º–æ—â—å—é tb –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `<Template />`. –ï–º—É –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å json —à–∞–±–ª–æ–Ω –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞. –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —à–∞–±–ª–æ–Ω–æ–≤ –∏ –µ–¥–∏–Ω–∞—è —Ö–µ—à-–º–∞–ø–∞ —à–∞–±–ª–æ–Ω–æ–≤ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `src/config/tb/tb.ts`.

–ö–∞–∂–¥—ã–π —à–∞–±–ª–æ–Ω —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ `config` (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, —Ç–∞–∫–∞—è –∂–µ –∫–∞–∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–∞—è –≤ [–ø–µ—Å–æ—á–Ω–∏—Ü–µ](https://tb.yandex.net/editor)) –∏ `lock` (—Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ —à–∞–±–ª–æ–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –≤–µ—Ä—Å–∏–∏).

# –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã –∞–¥–º–∏–Ω–∫–∏

## –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞–ø–∏—Å–∞–Ω–æ –Ω–∞ Typescript.
- –î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è view –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è React.
- –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è mobx.
- –î–ª—è —Å—Ç–∏–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è css-–º–æ–¥—É–ª–∏.
- –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è jest, hermione
- –î–ª—è —Ä–µ–Ω–¥–µ—Ä–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è i18next

## –°–±–æ—Ä–∫–∞

–ö–ª–∏–µ–Ω—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º webpack. –°–µ—Ä–≤–µ—Ä –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ TS + Express.
–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤ –æ–¥–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å `npm run dev:server`, —ç—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–µ—Ä, –∞ –≤ –¥—Ä—É–≥–æ–π –≤–∫–ª–∞–¥–∫–µ `npm run start`, —ç—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç –∫–ª–∏–µ–Ω—Ç–∞.
–¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–∞–∫–∂–µ –Ω–µ –∑–∞–±—ã—Ç—å –≤ file hosts –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É `127.0.0.1 http://localhost.yandex-team.ru/`

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞–¥–º–∏–Ω–∫–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π SPA –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥—Ä–∏–Ω–≥–∞. –°—Ç–∞—Ç–∏–∫–∞ —Ä–∞–∑–¥–∞—ë—Ç—Å—è —Å nginx. –î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è template builder, –æ–±–µ—Ä—Ç–∫–∞ –∏ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é react –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

–ê–¥–º–∏–Ω–∫–∞ –ø–æ-–º–∞–∫—Å–∏–º—É–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å–ø–∏—Å–æ–∫ –ø–æ–ª–µ–π –ø–æ–∏—Å–∫–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å –±–µ–∫–µ–Ω–¥–∞, –∞ —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ `config` —Ñ–∞–π–ª–µ.

### –†–æ—É—Ç–∏–Ω–≥

–î–ª—è —Ä–æ—É—Ç–∏–Ω–≥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ react-router-dom. –†–æ—É—Ç–∏–Ω–≥ –∫–∞–∂–¥–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `src/routes` . –î–µ-—Ñ–∞–∫—Ç–æ —Å–µ–π—á–∞—Å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç—Ä–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

`https://modadvert.yandex-team.ru/service/<ServiceName>/search` ‚Äì –ø–æ–∏—Å–∫ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

`https://modadvert.yandex-team.ru/service/<ServiceName>/excel` ‚Äì –º–æ–¥–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ excel.

`https://modadvert.yandex-team.ru/service/<ServiceName>/<ObjectType>/<ObjectId>/history` ‚Äì —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏—Å—Ç–æ—Ä–∏–∏ –≤–µ—Ä—Å–∏–π —Ä–µ–∫–ª–∞–º–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.
#### —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç—å

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–í—Å–µ –¥–∞–Ω–Ω—ã–µ, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º Mobx —Å—Ç–æ—Ä–µ. –°—Ç–æ—Ä —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å—Ç–µ–π –ø–æ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ (–Ω–∞ –ø—Ä–∏–º–µ—Ä–µ `searchStore`):

- –§–∞–π–ª–∞ —Å —Ç–∏–ø–∞–º–∏ (e.g. `searchDomain.ts`)
- –°–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ (e.g. `searchService.ts`)
- –§–∞–π–ª–∞, —Å–æ–∑–¥–∞—é—â–µ–≥–æ _–ø–æ–¥—Å—Ç–æ—Ä_ (e.g. `search.ts`)

#### –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ —Å—Ç–æ—Ä–µ

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Ñ–æ—Ä–º—É –ø–æ–∏—Å–∫–∞ –∏ –Ω–∞–∂–∏–º–∞–µ—Ç "–ò—Å–∫–∞—Ç—å"
1. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `<SearchForm />` –æ–±–Ω–æ–≤–ª—è–µ—Ç url –≤ –±—Ä–∞—É–∑–µ—Ä–µ, —Å–æ—Ö—Ä–∞–Ω—è—è –≤ url query –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
1. –° –ø–æ–º–æ—â—å—é mobx-react-router –∏–∑–º–µ–Ω–µ–Ω–∏–µ url –ø—Ä–æ—Ä–∞—Å—Ç–∞–µ—Ç –≤ `store.routing.location`
1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ `store.routing.location` –ø—Ä–æ—Ä–∞—Å—Ç–∞–µ—Ç –≤ `store.search.query`
1. `searchService` —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ `store.search.query` –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ –±–µ–∫–µ–Ω–¥
1. –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö —Å –±–µ–∫–µ–Ω–¥–∞ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è `store.search.result`
1. UI —Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ `store.search.result`

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–µ–∫–µ–Ω–¥–æ–º

–ë–µ–∫–µ–Ω–¥ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∫–ª–∞–º—ã –Ω–µ –æ—á–µ–Ω—å —É–¥–æ–±–µ–Ω –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è, —É –Ω–µ–≥–æ –µ—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

1. –ë–µ–∫–µ–Ω–¥ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ—á–µ–Ω—å —Ä–µ–¥–∫–æ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã, –¥–æ–≤–æ–ª—å–Ω–æ —á–∞—Å—Ç–æ –æ–Ω –ø–∞–¥–∞–µ—Ç —Å –∫–æ–¥–æ–º 500. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ trace python –æ—à–∏–±–∫–∏ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –≤ response —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –≤ —á–µ–º –¥–µ–ª–æ.
3. –£ –±–µ–∫–µ–Ω–¥–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –Ω–µ—Ç –µ–¥–∏–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å —Ç–∏–ø–∞–º–∏ —Ä—É—á–µ–∫, –ø–æ—ç—Ç–æ–º—É –º–∞–∫—Å–∏–º—É–º —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ª–µ–∂–∏—Ç –≤ —Ñ–∞–π–ª–µ `src/infra/transport/rpc.ts`
4. –î–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö —Å –±–µ–∫–µ–Ω–¥–∞ –ø–ª–æ—Ö–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏ –∏–Ω–æ–≥–¥–∞ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –∞–±—Å—É—Ä–¥–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω–æ–≥–¥–∞ –≤–º–µ—Å—Ç–æ –ø–æ–ª—è-–æ–±—ä–µ–∫—Ç–∞ –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è —Å—Ç—Ä–æ–∫–∞ —Å JSON –¥–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞. –î–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –≤–ª–∏—è–Ω–∏—è —ç—Ç–∏—Ö –ø—Ä–æ–±–ª–µ–º –≤ —Ñ–∞–π–ª–µ `src/hacks/backend/objectDTOtoModerationObject.ts` –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ–±–∏—Ä–∞—é—Ç—Å—è, —É–ø—Ä–æ—â–∞—é—Ç—Å—è –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è.
5. –ü—Ä–∏ —Å–æ–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –º–∞—Å—Å–æ–≤–æ–µ –º–æ–¥–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–≤ —Ñ–∞–π–ª–µ `src/hacks/backend/makeEditPatchPayload.ts`) –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Ö –∫–∞–∫ –µ—Å—Ç—å. –ë–µ–∫–µ–Ω–¥ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è, –º–æ–∂–Ω–æ –¥–∞–∂–µ –ø—Ä–æ–º–æ–¥–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç –æ—Ç –ª–æ–≥–∏–Ω–∞ –¥—Ä—É–≥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞.

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è template builder

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å template builder –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `src/components/Template/Tempalte.tsx` . –î–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–∞–∫–µ—Ç `@yandex-tb/bootstrap`. Template builder –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏ –∏–∑ **registry** template builder (—Å–µ–π—á–∞—Å —ç—Ç–æ [https://tb.yandex.net/registry2](https://tb.yandex.net/registry2)). Registry –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª `src/config/config.ts`.

–í—Å–µ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ json –∫–æ–Ω—Ñ–∏–≥–∏ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `src/config/tb`.

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä

–ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å –±–µ–∫–µ–Ω–¥–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ‚Äì —Å–ø–∏—Å–æ–∫ –ø–æ–ª–µ–π –ø–æ–∏—Å–∫–∞, –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤, —Å–ø–∏—Å–∫–∏ —Ñ–ª–∞–≥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—ã—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ –¥–∏—Ä–µ–∫—Ç–∞.

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –≤–∞–∂–Ω—ã–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–¥–º–∏–Ω–∫–∏ –µ—â–µ –Ω–µ –±—ã–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –Ω–∞ –±–µ–∫–µ–Ω–¥. –ù–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–æ —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å –≤ –ø–æ–∏—Å–∫–µ –∏–ª–∏ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ json –∫–æ–Ω—Ñ–∏–≥–∏ template builder. –ò—Ö –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `src/config`.

## Assistant daemon

–í —Ä–∞–º–∫–∞—Ö –∑–∞–¥–∞—á–∏ [MODDEV-708](https://st.yandex-team.ru/MODDEV-708) –¥–ª—è —Å–∞–ø–ø–æ—Ä—Ç–æ–≤ –±—ã–ª —Å–¥–µ–ª–∞–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ —Å—Å—ã–ª–∫–∞–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –≤ –¥—Ä—É–≥–∏–µ –±—Ä–∞—É–∑–µ—Ä—ã. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ, –∫–æ–¥ —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `assistant-daemon`. –î–æ—Å—Ç—É–ø—ã –∫ s3 –Ω–∞—Ö–æ–¥—è—Ç—Å—è [–≤ —Å–µ–∫—Ä–µ—Ç–Ω–∏—Ü–µ](https://yav.yandex-team.ru/secret/sec-01ezcg0pnzjgaarvrqg1hjnyak/explore/versions). –î–æ—Å—Ç—É–ø—ã –∫ —Å–µ–∫—Ä–µ—Ç—É –µ—Å—Ç—å —É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è [–ù–æ–≤–æ–π –º–æ–¥–µ—Ä–∞—Ü–∏–∏](https://abc.yandex-team.ru/services/madv)

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∏

–õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ @yandex-int/error-counter –≤ RUM –ø–æ –∞–¥—Ä–µ—Å—É [https://error.yandex-team.ru/projects/modadvert](https://error.yandex-team.ru/projects/modadvert)
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–∞–∫–∂–µ –≤ [RUM](https://rum.yandex-team.ru/projects/modadvert)

## –í—ã–∫–ª–∞–¥–∫–∞

–ù–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ydeploy.

–ê–¥–º–∏–Ω–∫–∞ –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

- [https://modadvert.yandex-team.ru](https://modadvert.yandex-team.ru/)
- [https://modadvert-test.yandex-team.ru](https://modadvert-test.yandex-team.ru/)

## –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω —Ä–µ–ª–∏–∑–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å
### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:
* [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–Ω–æ—Ä–µ–ø—ã](https://a.yandex-team.ru/arc/trunk/arcadia/frontend/docs/faq/release-workflow.md#–æ–ø–∏—Å–∞–Ω–∏–µ-—Ä–µ–ª–∏–∑–Ω–æ–≥–æ-–ø—Ä–æ—Ü–µ—Å—Å–∞-—Å–µ—Ä–≤–∏—Å–æ–≤-–≤-–º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏-1)
### –°–±–æ—Ä–∫–∞ –∏ –≤—ã–∫–ª–∞–¥–∫–∞ –±–∏–ª–¥–∞:
–°–±–æ—Ä–∫–∞ –∏ –≤—ã–∫–ª–∞–¥–∫–∞ –±–∏–ª–¥–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö [—Å–∫—Ä–∏–ø—Ç–æ–≤](https://a.yandex-team.ru/arc/trunk/arcadia/frontend/services/modadvert/package.json):
1. npm run build - —Å–æ–±–∏—Ä–∞–µ–º build
2. npm run build:docker-image - —Å–æ–±–∏—Ä–∞–µ–º –¥–æ–∫–µ—Ä –æ–±—Ä–∞–∑
3. deploy:stage - —Å–æ–∑–¥–∞–µ–º –±–∞–∑–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –±–µ—Ç—ã (—á—Ç–æ–±—ã –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –±–µ–∫–µ–Ω–¥–æ–¥–≤—ã–π –¥–µ–ø–ª–æ–π —é–Ω–∏—Ç api)
4. deploy:beta - —Å–æ–±–∏—Ä–∞–µ–º –±–µ—Ç—É
–í—Å–µ 4 –∫–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–æ–¥ –æ–±—â–µ–π –∫–æ–º–∞–Ω–¥–æ–π –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è **ci:deploy **–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—É–ª-—Ä–µ–∫–≤–µ—Å—Ç–∞. –ù–∞ –∫–∞–∂–¥—ã–π –ø—Ä —Å–æ–∑–¥–∞–µ—Ç—Å—è [–æ–ø–∏—Å–∞–Ω–∏–µ](https://a.yandex-team.ru/arc/trunk/arcadia/frontend/services/modadvert/.config/pr-description-config.js)
–ü–æ—Å–ª–µ –≤–ª–∏—Ç–∏—è –ü–† –≤ ci –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è 2 –¥–∂–æ–±—ã
1. **ci:deploy:master**, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –≤—ã–∫–ª–∞–¥–∫—É –Ω–∞ —Ç–µ—Å—Ç–∏–Ω–≥ - <https://modadvert-test.yandex-team.ru>
2. **ci:deploy:remove**, –∫–æ—Ç–æ—Ä–∞—è —É–¥–∞–ª—è–µ—Ç –±–µ—Ç—É

**–ö–∞–∫ —Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –¥–∂–æ–±—ã ci:deploy:master:**
1. –∑–∞—Ö–æ–¥–∏–º [—Å—é–¥–∞](https://sandbox.yandex-team.ru/tasks?children=true&author=robot-trendbot&desc_re=Deploy%3A%20master&limit=20&created=14_days)
2. –Ω–∞–π—Ç–∏ merge –ø—Ä–∏–º–µ—Ä–Ω–æ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (–¥–∞-–¥–∞, –∏–º–µ–Ω–Ω–æ —Ç–∞–∫)
3. –≤ checks report –±—É–¥–µ—Ç —É–∫–∞–∑–∞–Ω–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞
![](/assets/screenshot-2021-10-11-at-10.55.25.png)
### –°–æ–±–∏—Ä–∞–µ–º –∏ –∫–∞—Ç–∏–º —Ä–µ–ª–∏–∑
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–ª–∏–∑–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —ç—Ç–æ–º [—Ñ–∞–π–ª–µ](https://a.yandex-team.ru/arc/trunk/arcadia/frontend/services/modadvert/a.yaml)
2. –ó–∞–ø—É—Å–∫ —Ä–µ–ª–∏–∑–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ –∞–¥—Ä–µ—Å—É [https://a.yandex-team.ru/projects/frontend/ci/releases/timeline?dir=frontend%2Fservices%2Fmodadvert&id=release](https://a.yandex-team.ru/projects/frontend/ci/releases/timeline?dir=frontend%2Fservices%2Fmodadvert&id=release)
3. –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤ –æ—á–µ—Ä–µ–¥–∏ MODADMRELEASE —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ä–µ–ª–∏–∑–Ω—ã–π —Ç–∏–∫–µ—Ç —Å–æ —Å–ø–∏—Å–∫–æ–º –∑–∞–¥–∞—á, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —É–ø–æ–º—è–Ω—É—Ç—ã —Å –º–æ–º–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ä–µ–ª–∏–∑–Ω–æ–≥–æ —Ç–µ–≥–∞.
4. –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –∑–∞–¥–∞—á–∏ –±—É–¥—É—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –û–ª–µ–π –≤ —Å—Ç–∞—Ç—É—Å "–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ", –º–æ–∂–Ω–æ –≤—ã–∫–∞—Ç—ã–≤–∞—Ç—å—Å—è –≤ –ø—Ä–æ–¥–∞–∫—à–Ω. –°–µ–π—á–∞—Å —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—Ä—É—á–Ω—É—é
5. –î–ª—è —Ç–æ–≥–æ —á—Ç–æ –≤—ã–∫–∞—Ç–∏—Ç—å—Å—è, –∫–æ–ø–∏—Ä—É–µ–º –¥–æ–∫–µ—Ä-—Ç–µ–≥ –∏–∑ —Ç–µ—Å—Ç–∏–Ω–≥ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–Ω. ([—Ö–æ—Ä–æ—à–µ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–æ—á–µ–º—É –ø–æ–∫–∞ –∫–∞—Ç–∏–º —Ä—É–∫–∞–º–∏](https://wiki.yandex-team.ru/bliss/monorepo/why-not-so-good/))
6. –ü–æ—Å–ª–µ –≤—ã–∫–∞—Ç–∫–∏ —Ä–µ–ª–∏–∑–∞ –∑–∞–∫—Ä—ã–≤–∞–µ–º —Ä–µ–ª–∏–∑–Ω—ã–π —Ç–∏–∫–µ—Ç —Å —Ä–µ–∑–æ–ª—é—Ü–∏–µ–π "–†–µ—à–µ–Ω", –≤ –æ—á–µ—Ä–µ–¥–∏ MODADMRELEASE –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è [—Ç—Ä–∏–≥–≥–µ—Ä](https://st.yandex-team.ru/admin/queue/MODADMRELEASE/triggers), –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å—Ç–∏—Ç ci-–¥–∂–æ–±—É –ø—Ä–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ä–µ–ª–∏–∑–Ω–æ–≥–æ —Ç–µ–≥–∞

### –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º —Ä–µ–ª–∏–∑:
1. –∑–∞–π—Ç–∏ –≤ –∏—Å—Ç–æ—Ä–∏—é —Å—Ç–µ–π–¥–∂–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, [–∏—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–¥–∞](https://deploy.yandex-team.ru/stages/modadvert-supermoderation-prod/history))
2. –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é —Ä–µ–≤–∏–∑–∏–∏ (–ø–æ –Ω–∞–≤–µ–¥–µ–Ω–∏—é —Å–ø—Ä–∞–≤–∞ –ø–æ—è–≤–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞ ‚ÄúApply‚Äù, –Ω–∞–∂–∞—Ç—å –µ–µ) –ï—Å–ª–∏ –Ω–µ—Ç –ø—Ä–∞–≤ –∏–ª–∏ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ —á—Ç–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å, –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ—Å–∏—Ç—å @artemkon –∏–ª–∏ @crazyministr


## –ß–∞—Ç –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ (DEPRECATED)

–î–ª—è –æ–±—â–µ–Ω–∏—è —Å –ø–æ–ª—å–∑–æ–≤—Ç–µ–ª—è–º–∏ –∞–¥–º–∏–Ω–∫–∏ –∏ —Å–±–æ—Ä–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –±—ã–ª —Å–æ–∑–¥–∞–Ω [—á–∞—Ç –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ](https://q.yandex-team.ru/#/join/83dee69a-d439-4d01-8c4d-faaabf20eab2). –í–∏–¥–∂–µ—Ç —Å —ç—Ç–∏–º —á–∞—Ç–æ–º —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö –∞–¥–º–∏–Ω–∫–∏. –í–∞–∂–Ω–æ: —Å–µ–π—á–∞—Å –ø–æ—á—Ç–∏ –Ω–∏–∫–µ–º –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∂—É—á–æ–∫ –∏ –æ—á–µ—Ä–µ–¥—å MODSUP

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í –ø—Ä–æ–µ–∫—Ç–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç unit —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é jest.
–°—É—â–µ—Å—Ç–≤—É–µ—Ç [–ø—Ä–æ–µ–∫—Ç –≤ –¢–∏—Ä–∏—É–º–µ](https://th.yandex-team.ru/test-cases/MODADVERTADMIN), –æ–¥–Ω–∞–∫–æ –≤ –Ω–µ–º –≤—Å–µ–≥–æ –¥–≤–∞ –Ω–µ–±–æ–ª—å—à–∏—Ö e2e —Ç–µ—Å—Ç–∞ –∏ –æ–Ω –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ ci.

–ï—Å—Ç—å —Ç–µ—Å—Ç—ã –Ω–∞ –≥–µ—Ä–º–∏–æ–Ω–µ, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ –∫ surfwax.
–õ–µ–∂–∞—Ç –≤ tests/hemione, –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `npm run hermione`.
–ú–æ–≥—É—Ç —Ö–æ–¥–∏—Ç—å –≤ —Å–µ—Ç—å `_MODADVERT_TEST_NETS_` (–º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ —Ç–µ—Å—Ç–∏–Ω–≥ –∏ –±–µ—Ç—ã).
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é —Å—Ä–µ–¥—É –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å selenium-standalone –∏ –ø–æ–º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞—É–∑–µ—Ä–æ–≤ –≤ `./.config/.hermione.conf.js`.

## –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

–ü–µ—Ä–µ–≤–æ–¥—ã –∞–¥–º–∏–Ω–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ [–¢–∞–Ω–∫–µ—Ä](https://tanker-beta.yandex-team.ru/project/modadvert?branch=master). –ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π `npm run sync-i18n`
–ß—Ç–æ–±—ã –ø–æ–¥—Ç—è–Ω—É—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Ä–∞–Ω–µ–µ –≤ –¢–∞–Ω–∫–µ—Ä–µ, –≤ —Ä–∞–Ω—Ç–∞–π–º–µ, –Ω—É–∂–Ω–æ –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–í—ã–≥—Ä—É–∑–∏—Ç—å" –≤ [–ë—É–Ω–∫–µ—Ä–µ](https://bunker.yandex-team.ru/modadvert/translates) (–ø—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–∞–≤ –≤ [IDM](https://idm.yandex-team.ru/system/bunker/roles/options#rf=1,rf-role=IofuE2p3#user:turmetsmakoev@bunker/modadvert/translates/store(fields:();params:()),f-status=all,f-role=bunker,sort-by=-updated,rf-expanded=IofuE2p3))

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

* –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±—ä–µ–∫—Ç–æ–≤ –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –∏–∑ [YT](https://yt.yandex-team.ru/hahn/navigation?offsetMode=key&path=//home/modadvert/test/supermoderation/ObjectData)

* –ú–Ω–æ–≥–∏–µ –æ–±—ä–µ–∫—Ç—ã –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –ø–æ –∫–∞–º–ø–∞–Ω–∏–∏ [42509534](https://modadvert-test.yandex-team.ru/service/direct/search?autoEditSelect=false&pageNum=0&pageSize=10&q=%7B%22type%22%3A%5B%22banner%22%5D%2C%22related_objects%22%3A%7B%22types%22%3A%5B%5D%7D%2C%22campaign_id%22%3A%5B42509534%5D%7D&viewMode=list)

* –ú–µ—Ç—Ä–∏–∫–∞ –Ω–æ–≤–æ–π –∞–¥–º–∏–Ω–∫–∏ –ª–µ–∂–∏—Ç –ø–æ –∞–¥—Ä–µ—Å—É [https://metrika.yandex.ru/dashboard?group=day&period=week&id=54274822](https://metrika.yandex.ru/dashboard?group=day&period=week&id=54274822)

* [–ü—Ä–æ–µ–∫—Ç –≤ YDeploy](https://deploy.yandex-team.ru/stages/modadvert-frontend-beta) –¥–ª—è —Ñ—Ä–æ–Ω—Ç–æ–≤—ã—Ö –±–µ—Ç

* –ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ —Ä–µ–ª–∏–∑—ã, —Åi —á–∏—Ç–∞–π—Ç–µ –≤ [–¥–æ–∫–∞—Ö –ê—Ä–∫–∞–¥–∏–∏](https://a.yandex-team.ru/arc_vcs/frontend/docs/how-to/arc/setup-releases.md) üòå

* –ß—Ç–æ–± –∑–∞–≤–æ–¥–∏—Ç—å –Ω–∞ —Ç–µ—Å—Ç–µ –¥–∏—Ä–µ–∫—Ç–∞ —Ç–µ—Å—Ç–æ–≤—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è:
- –Ω—É–∂–Ω–∞ —Ä–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (–º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –º–æ—é –∑–∞—è–≤–∫—É https://idm.yandex-team.ru/system/direct#role=62046200,f-role-id=62046200)
https://test.direct.yandex.ru –∑–∞–≤–æ–¥–∏—à—å —Ä–µ–∫–ª–∞–º—É
- —á—Ç–æ–±—ã –∫–∞–º–ø–∞–Ω–∏—è –∏ –µ—ë –æ–±—ä–µ–∫—Ç—ã —É–µ—Ö–∞–ª–∏ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é, –Ω–∞–¥–æ –¥–æ–±–∞–≤–∏—Ç—å –µ—ë —Å—é–¥–∞
https://test.direct.yandex.ru/internal_tools/#enable_ess_moderation (–ø—Ä—è–º–æ —Å–µ–π—á–∞—Å —è –Ω–µ —Ä–∞–∑–æ–±—Ä–∞–ª–∞—Å—å, –∫–∞–∫ —Ç—É–¥–∞ –∑–∞–π—Ç–∏, –Ω–æ –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å @artemkon –Ω–æ–º–µ—Ä –∫–∞–º–ø–∞–Ω–∏–∏, –æ–Ω –º–æ–∂–µ—Ç —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å)
- –∏—Å–∫–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤ –∞–¥–º–∏–Ω–∫–µ
