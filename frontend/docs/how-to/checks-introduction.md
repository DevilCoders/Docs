# Регламент внедрения новых проверок в CI

Регламент необходим для стабильной работы CI монорепозитория.

## Шаг 1. Проектирование

* Сформулируйте какую задачу решает проверка, что она делает, как, зачем и когда.
* На основе своих размышлений определите предполагаемое время работы проверки. Рассчитайте предполагаемую [квоту](https://wiki.yandex-team.ru/sandbox/quotas), которая потребуется для выполнения проверки в CI.
* Занесите полученные результаты в тикет, в рамках которого будет делаться проверка.
* Обратитесь к [@frontend-experts](#frontend-experts), чтобы обсудить новую проверку.

## **Шаг 2.** Реализация

* Реализуйте код проверки.
* Пройдите код-ревью от [@frontend-experts](#frontend-experts).
* Влейте проверку в `master`.

Предполагается, что после влития в `master` проверка должна «пожить» 2 недели в статусе «необязательная». В это время автор проверки следит за стабильностью проверки и устраняет баги, если это требуется.

## **Шаг 3.** Сбор статистики

В конце «проверочного» срока автор собирает статистику:

* Оценивается «полезность» проверки на основе числа обнаруженных проверкой проблем, числа ложных срабатываний, падений и прочих непредвиденных случаев.
* Оценивается время выполнения проверки в CI и потребляемая квота ([график](https://dash.yandex-team.ru/gh4b872tp2kgc?state=897a6fba538)).
* Оценивается утилизация ресурсов в проверке (с этим может помочь [sandbox-hugin](https://doc.yandex-team.ru/si-infra/sandbox_hugin/sandbox_hugin.html)).

По итогу сбора статистики обратитесь к [@frontend-experts](#frontend-experts), чтобы обсудить текущий статус проверки и принять решение о доработках или включении проверки, как обязательной для влития пулл-реквеста.

## frontend-experts

Форма для заведения тикета, в котором в дальнейшем будет трекаться процесс внедрения проверки:

https://forms.yandex-team.ru/surveys/49845
