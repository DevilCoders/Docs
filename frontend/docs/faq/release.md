# FAQ по релизам

* **Как мне посмотреть на сборку в TrendboxCI?**

    Релизную сборку можно найти в UI TrendboxCI, если по каким-либо причинам TrendboxCI не оставил в релизный тикет комментарий о начале сборки. Откройте https://trendbox.yandex-team.ru/ и в поле фильтр укажите следующее: `type:branch branch:release/{сервис}/{версия}`, например, `type:branch branch:release/ydo-forms/v1.121.0`.

* **Робот не отписал о статусах тестов в релизный тикет, что делать?**

    Напишите про это в [infraduty], в это время можете самостоятельно найти сборку в TrendboxCI и посмотреть на запушенные тесты.

*  **У меня два или больше релизов с одной версией, почему?**

    Скорее всего вы забыли протегировать предыдущий релиз. Версия релиза обычно это инкремент минорной версии последнего релизного тега.

* **В релиз попали тикеты не из нашей очереди, почему?**

    В директории вашего сервиса был коммит, в коммит месседж которого был указан тикет, который попал к вам в чейнджлог. Можете проверить самостоятельно, запустив одну из команд
    ```console
    ❯ arc log --max-count 1 --grep {тикет} frontend/services/{сервис}
    ❯ arc log --max-count 1 --grep {тикет} {релизная ветка}..{последний релизный тег} frontend/services/{сервис}
    ```

* **В релиз не попали тикеты A-1, B-2 и тд, почему?**

    Это происходит потому, что у робота @robot-frontend нет доступа к соответствующим очередям. По умолчанию у роботов нет доступа в очереди, даже если очередь открыта всем.

* **В релиз попадают все тикеты от начала заезда в монорепу, почему и как исправить?**

    Чейнджлог строится сравнением HEAD релизной ветки и последнего релизного тега. Попавшие в дифф тикеты из коммит месседжей формирует чейнджлог. Проверьте, что вы правильно тегируете релизную ветку при выкатке релиза.

* **Как проставить релизный тег?**

    Зависит от того, как вы релизитесь. Например, для сервисов, выкатывающихся через Няню, данная фича доступна из коробки. Если вы релизитесь по-другому, лучше проконсультироваться с @zumra6a.

* **Как проставить первый релизный тег?**

    Для выставления тега нужны write права, можете написать в канал [#si_frontend] и попросить проставить тег. В обращении нужно указать коммит и название тега, для ускорения можете призвать @zumra6a.

* **Отвёл хотфикс, но MQ работает медленно/остановлен/etc и не могу черепикать фикс в релизную ветку. Хотфикс горит, что делать?**

    Чтобы ускорить доставку хотфикса до продакшена разрешается напрямую коммитить или черепикать фикс в релизную ветку в обход MQ.

    Релизы frontend всё-ещё на гите:
    * для пуша в релизную ветку вам понадобиться `write` права. За правами можете обратиться к своему руководителю - руководители имеют админские права на репозиторий frontend в GH или написать в [infraduty];
    * для переноса пулл-реквеста из arc → git воспользуйтесь [утилитой][transplant-review-request].

    **Важно**: После выкатки хотфикса обязательно влейте в dev перенесённые руками в хотфикс коммиты, иначе в следующем релизе эти коммиты не попадут в релизную ветку!


[infraduty]: https://wiki.yandex-team.ru/infraduty/
[#si_frontend]: https://yndx-all.slack.com/archives/CFFAR0VR6
[transplant-review-request]: https://wiki.yandex-team.ru/search-interfaces/arc/#cherri-pikkommitovizrevju-rekvestavarcanumvgit
