# Гарантии

Инфраструктура монорепозитория frontend предоставляет гарантии всем жителям, соблюдающим [контракт](./requirements.md) и предоставляет:

1. Ключевые метрики, за которыми следит инфраструктура:
   - [Время работы конвейера](https://datalens.yandex-team.ru/apyt19vo829m7-klyuchevye-metriki-infrastruktury-frontenda?tab=GE&state=2e10de80168) — метрика скорости сборочного конвейера. 
   - [Ready for Dev](https://datalens.yandex-team.ru/apyt19vo829m7-klyuchevye-metriki-infrastruktury-frontenda?tab=P6&state=6137a1a7181) — время между первой успешной постановкой в очередь и вливанием
   - [Queue time](https://datalens.yandex-team.ru/apyt19vo829m7-klyuchevye-metriki-infrastruktury-frontenda?tab=DR4&state=d918d53d183) - время, которое пулл-реквест стоял в очереди для каждой попытки влиться
   - [Потребление Sandbox-квоты](https://datalens.yandex-team.ru/gh4b872tp2kgc-kvoty-fei?state=0a168346222) — отслеживаем по владельцам и типам задач
   - [ZBP по компонентам инфраструктуры](https://datalens.yandex-team.ru/c5mx4dwn059q7-fei-zbp)
   - на выполнение обязательных проверок в CI — не более трёх часов.
   - на время реакции на взрывы (например, соседи все сломали, а у меня срочный релиз горит) — для критикалов и блокеров не более нескольких часов
1. Стандартный/унифицированный релизный процесс / процесс деплоя на беты / в продакшен 
    - сервисов для стека AppHost + RR + TypeScript источники для AppHost
    - библиотек браузерных компонентов (Лего, Метрика)
    - пакетов / модулей 
    - Автоматическое обновление package-lock.json файлов. При этом остаётся возможность их править руками. Пакеты без package-lock.json файлов запрещены (хотим воспроизводимой сборки с транзитивными зависимостями).
1. Стандартный способ генерации API документации на библиотеки (отличные от Лего и др. на React)
1. Работа с тикетами в Трекере с разными workflow — статусами и переходами между ними (отличающимися от стандартных Серповых / для поисковых сервисов в монорепе frontend)
1. Гибкое управление код-ревью
    - обязательное / не обязательное код ревью
    - возможность устанавливать правила назначения ревьюеров для конкретных проектов
1. Максимально эффективное выполнение сборки и проверок
    - Распределённый запуск проверок (пример: распределенный запуск hermione).
    - Группированный запуск сборки / нескольких проверок в рамках одной джобы.
1. Деплой Node.js-сервисов на беты / RC (стенды) и продакшен.
