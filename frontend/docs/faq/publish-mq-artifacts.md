# Publish MQ artifacts

## Зачем нужна проверка
Некоторым проверкам нужны артефакты, которые собраны по транку, для этого есть два места в CI:
* build-шаг в MQ
* запуск сборки в trunk

Но у каждого способа есть свои минусы:
* MQ - джоба с генерацией артефакта может загрузить артефакт, до падения других проверок, из-за чего опубликуется невалидный артефакт
* trunk - джобы в транке выполняются асинхронно, поэтому может возникнуть ситуация, когда проверки в ПРе запустились на устаревшем артефакте, т.к. актуальный еще собирается

Чтобы избежать вышеописанных ситуаций и гарантировать консистентность эталонных артефактов по транку и нужна эта проверка. 

## Как работает проверка
1. Какая-либо джоба собирает артефакт и загружает его в sandbox с необходимыми параметрами (тип артефакта, название листа и номер ПРа)
2. После влития ПРа запускается джоба `publish-mq-artifacts`, которая по аналогичным параметрам находит загруженные ранее артефакт и переопубликовывает его с аттрибутом `stable: true` и `ttl: 30`

На данный момент джоба используется для следующих артефактов:
* `unit-coverage` - отчет о покрытии листа
