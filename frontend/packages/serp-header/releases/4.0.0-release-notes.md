# @yandex-lego/serp-header 4.0.0

<!-- ЧЕЛОВЕЧЕСКОЕ ВСТУПЛЕНИЕ -->

Изменения, вошедшие в релиз @yandex-lego/serp-header 4.0.0, разделены на группы:

* [мажорные изменения](#Мажорные-изменения) — задачи, в рамках которых произошло изменение или удаление API блоков

Все важные изменения подробно описаны [ниже](#Пояснения).

## Мажорные изменения

| Заголовок  | Задача                                                    | PR      |
|------------|-----------------------------------------------------------|---------|
| [ISL-8197] | @yandex-lego: придумать способ поставки статики в сервисы | [#9630] |

## Пояснения

### ISL-8197: @yandex-lego: придумать способ поставки статики в сервисы

Изменился механизм подключения статики блока.
Теперь в блоке используется только фризовая статика (`https://yastatic.net/s3/frontend/yandex-lego/serp-header/_/<file>`)

На сервисе необходимо изменить путь подключения статики.

```tsx
//было
// @ts-ignore
import * as packageMetaHeader from '@yandex-lego/serp-header/static.meta';
...
<><script defer crossOrigin="anonymous" src={`${packageMetaHeader.BASE_PATH}/base/user2/user2-base.touch-phone.client.js`} /></>
//стало
// @ts-ignore
import * as packageMetaHeader from '@yandex-lego/serp-header/static.meta';
...
<><script defer crossOrigin="anonymous" src={packageMetaHeader['/base/user2/user2-base.touch-phone.client.js']} /></>
```

В пакете есть ts функция, которая сама умеет отдавать клиенсткие файлы, поэтому можно использовать её:

```tsx
import { getStaticPath } from '@yandex-lego/serp-header/staticPath';
const url = getStaticPath(...props); //тайпинги есть
```


[ISL-8197]: https://st.yandex-team.ru/ISL-8197
[#9630]: https://github.yandex-team.ru/search-interfaces/frontend/pull/9630/
