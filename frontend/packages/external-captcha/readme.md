# –í–Ω–µ—à–Ω—è—è –∫–∞–ø—á–∞ [WIP]

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–Ω–µ—à–Ω–µ–π –∫–∞–ø—á–∏

## üîó –°–æ–¥–µ—Ä–∂–∏–º–æ–µ

* [–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ](#–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ)
* [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
* [API](#api)
* [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](./contribute.md)

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–í–Ω–µ—à–Ω—è—è –∫–∞–ø—á–∞ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –Ω–∞ —Å–∞–π—Ç –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ `(captcha.js)`.

```html
<script src="path/captcha.js?param1=value1"></script>
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ö–∞–ø—á–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ 2 —Ä–µ–∂–∏–º–∞—Ö: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π.

–ü—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ, –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–∏—Å–∫ DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –∫–ª–∞—Å—Å–æ–º `yacaptcha`, –ø–æ—Å–ª–µ —á–µ–≥–æ –≤ –∫–∞–∂–¥–æ–º –∏–∑ –Ω–∏—Ö –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ–Ω–¥–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∫–∞–ø—á–∏.

```html
<!-- –í–Ω–µ—à–Ω—è—è –∫–∞–ø—á–∞ –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ -->
<script src="path/capthca.js?sitekey=key" async defer></script>

<div class="yacaptcha"></div>
<div class="yacaptcha" data-sitekey="another-key"></div>
```

–ü—Ä–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–º —Ä–µ–∂–∏–º–µ, –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–∑–æ–≤ callback, –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–æ–ª—å–Ω–µ–π—à—É—é —Ä–∞–±–æ—Ç—É.


```html
<!-- –í–Ω–µ—à–Ω—è—è –∫–∞–ø—á–∞ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–º —Ä–µ–∂–∏–º–µ -->
<script src="path/capthca.js?render=onload&onload=fn" async defer></script>

<script>
  function fn() {
    if (!window.yacaptcha) {
      return;
    }

    const container = document.getElementById("captcha-container");

    window.yacaptcha.render(container, {
      sitekey: 'key',
    })
  }
</script>

<div id="captcha-container"></div>
```

## API

API –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–∞–ø—á–∏.

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º

–ü—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∞ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–∫ –≤ query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö —Å—Å—ã–ª–∫–∏ –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞, —Ç–∞–∫ –∏ –≤ data –∞—Ç—Ç—Ä–∏–±—É—Ç–∞—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è –∫–∞–ø—á–∏. –ü—Ä–∏ —á–µ–º, –µ—Å–ª–∏ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –≤ query –ø–∞—Ä–∞–º–µ—Ç—Ä–µ –∏ –≤ data –∞—Ç—Ç—Ä–∏–±—É—Ç–µ, —Ç–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω data –∞—Ç—Ç—Ä–∏–±—É—Ç.

```html
<!-- –í–Ω–µ—à–Ω—è—è –∫–∞–ø—á–∞ –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ -->
<script src="path/capthca.js?sitekey=key&callback=successFn" async defer></script>

<script>
  function successFn(token) {
    console.log(token);
  }

  function anotherSuccessFn(token) {
    console.log('Another', token);
  }
</script>

<div class="yacaptcha"></div>
<div class="yacaptcha" data-sitekey="another-key" data-callback="anotherSuccessFn"></div>
```

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π —Ä–µ–∂–∏–º

–ü—Ä–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–º —Ä–µ–∂–∏–º–µ, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ø—á–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ `window.yacaptcha.render`, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –æ–±—ä–µ–∫—Ç —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –¥–ª—è –∫–∞–ø—á–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤–∏–¥–∂–µ—Ç–∞. –¢–∞–∫–∂–µ yacaptcha –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ `window.yacaptcha.reset`, –∫–æ—Ç–æ—Ä–∞—è —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∫–∞–ø—á—É –∏ `window.yacaptcha.getResponse`, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–∞–ø—á–∏.

```html
<!-- –í–Ω–µ—à–Ω—è—è –∫–∞–ø—á–∞ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–º —Ä–µ–∂–∏–º–µ -->
<script src="path/capthca.js?render=onload&onload=fn" async defer></script>

<script>
  let widgetId;

  function fn() {
    if (!window.yacaptcha) {
      return;
    }

    const container = document.getElementById("captcha-container");

    function callback(token) {
      console.log(token);
    }

    widgetId = window.yacaptcha.render(container, {
      sitekey: 'key',
      callback: callback
    });
  }

  function reset() {
    if (!window.yacaptcha) {
      return;
    }

    window.yacaptcha.reset(widgetId);
  }

  function getResponse() {
    if (!window.yacaptcha) {
      return;
    }

    console.log(window.yacaptcha.getResponse(widgetId));
  }
</script>

<div id="captcha-container"></div>
<button onclick="reset()">Reset</button>
<button onclick="getResponse()">Get response</button>
```

–ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏ `reset` –∏ `getResponse` –Ω–µ –ø–æ–ª—É—á–∞—é—Ç –Ω–∞ –≤—Ö–æ–¥ widgetId, —Ç–æ –æ–Ω–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –ø–µ—Ä–≤–æ–º—É –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É –∫–∞–ø—á–∏.

### –°–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞

| –ê—Ç—Ç—Ä–∏–±—É—Ç | Data-–∞—Ç—Ç—Ä–∏–±—É—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
| -------- | ------------- |:-------------|
| sitekey?  | string      | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ. –ö–ª—é—á –∫–∞–ø—á–∏ |
| render? | "auto" \| "onload"      | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ. –§–ª–∞–≥ –æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∫–∞–ø—á–∏ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–º –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è "–∞uto"  |
| onload?  | string      | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ. –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞–ø—á–∏. –ï—Å–ª–∏ render=auto, —Ç–æ onload –≤—ã–∑—ã–≤–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∫–∞–ø—á–∏. –ï—Å–ª–∏ render=onload, —Ç–æ onload –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Å–∫—Ä–ø–∏—Ç–∞  |
| hl? | string      | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ. –Ø–∑—ã–∫ –∫–∞–ø—á–∏. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∫–∞–ø—á–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —è–∑—ã–∫   |

### –°–ø–∏—Å–æ–∫ –∞—Ç—Ç—Ä–∏–±—É—Ç–æ–≤

| –ê—Ç—Ç—Ä–∏–±—É—Ç | Data-–∞—Ç—Ç—Ä–∏–±—É—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
| -------- | ------------- |:-------------|
| sitekey  | data-sitekey      | –ö–ª—é—á –¥–ª—è –∫–∞–ø—á–∏ |
| callback? | data-callback      | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ. –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –≤—ã–∑–æ–≤–µ –∫–∞–ø—á–∏   |

### –°–ø–∏—Å–æ–∫ JS —Ñ—É–Ω–∫—Ü–∏–π

| –§—É–Ω–∫—Ü–∏—è | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
| -------- | ------------- |:-------------|
| render  | (container: stringId \| Element, params: object): WidgetId     | –§—É–Ω–∫—Ü–∏—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤–Ω–µ—à–Ω–µ–π –∫–∞–ø—á–∏ |
| reset | (widgetId?: WidgetId): void      | –§—É–Ω–∫—Ü–∏—è, —Å–±—Ä–∞—Å—ã–≤–∞—é—â–∞—è –∫–∞–ø—á—É. –ë–µ–∑ –ø–µ—Ä–µ–¥–∞—á–∏ widgetId, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–≤–æ–π —Å–æ–∑–¥–∞–Ω–Ω–æ–π –∫–∞–ø—á–∏.   |
| getResponse | (widgetId?: WidgetId): string | –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–∞–ø—á–∏. –ë–µ–∑ –ø–µ—Ä–µ–¥–∞—á–∏ widgetId, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–≤–æ–π —Å–æ–∑–¥–∞–Ω–Ω–æ–π –∫–∞–ø—á–∏.     |
