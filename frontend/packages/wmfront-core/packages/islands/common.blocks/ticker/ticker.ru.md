## Описание
Блок **ticker** («тикер») – счетчик, который показывает количество новых уведомлений. 

Если число уведомлений не превышает `9`, то значение счетчика отобразится в круге, иначе – в овале. Для MSIE ниже 9 версии круг деградирует до прямоугольника.

Блок позволяет задать [максимальное количество уведомлений](#maxcount) (`maxCount`), для показа на странице. При превышении указанного ограничения отобразится сокращенная форма записи значения счетчика (`maxCount+`).

Тикер может быть представлен как самостоятельная ссылка, так и принимать ссылку из блока, в котором находится.

---
**NB** Блок может располагаться не только в блоке `user`.

---

## Техническое описание
###Элементы блока
* `count` – фактическое количество новых полученных уведомлений. Значение задается в поле `count` входного BEMJSON блока.
При инициализации `ticker` начальное значение `count` сохраняется в одноименном JS-параметре блока.
Визуально количество уведомлений не превышает значение заданное в поле `maxCount` (по умолчанию 99), входного BEMJSON блока.
 
* `text` – текст с описанием. Невидимый элемент, который доступен программам экранного доступа, прочитывающим слово «Уведомлений».
В шаблоне элемента выполняется примешивание блока [a11-hidden](../a11y-hidden/a11y-hidden.ru.md), в котором задается текст, для альтернативного воспроизведения программами экранного доступа. Текст зафиксирован в шаблоне и локализован с помощью технологии [i18n](http://2-10.lego.yandex-team.ru/doc/concept/localization.wiki.html#Texnologiyai18n) – переводы из [Танкера](http://2-10.lego.yandex-team.ru/doc/concept/localization.wiki.html#Tanker). [Список поддерживаемых локалей](http://2-10.lego.yandex-team.ru/doc/concept/localization.wiki.html#Podderzhivaemyelokali).
Элемент преобразуется в HTML-тег `<span>`.
 
Для элемента `text` нужно гарантировать подключение следующих зависимостей:
 
```javascript
({
    mustDeps: [
        {block: 'i-bem', elems: ['html', 'i18n']}
    ],
    shouldDeps: [
        {block: 'a11y-hidden'}
    ]
});
```
 
Также, для поддержки доступности, в шаблоне блока `ticker` добавляются необходимые ARIA-атрибуты:
 
```html
 role="alert" aria-live="assertive" <!--(Для IE8 и старых версий JAWS)-->  aria-atomic="true"
```
 
* `value` – значение количества уведомлений, которое отображается на странице (от 0 до 99+). Служит только для визуализации, в формате: `count` или `maxCount+` (если `count` ≥ `maxCount`).
На уровне BEMHTML-шаблона преобразуется в тег `<span>` внутри которого выводится значение из `value`.
При наличии во входных данных поля `url` значение в `value` может быть представлено в виде ссылки, иначе – простым  текстом.


### Модификаторы блока
#### Скрытие тикера
Модификатор `state` со значением `empty` – скрывает тикер, если нет новых уведомлений.

<a name="count"></a>
### API блока
#### BEMJSON (входные данные)

* `{Number} count`– значение тикера, показывающее количество непрочитанных уведомлений. Значение по умолчанию – `0`.   
Если поле отсутствует или его значение равно `0`, то тикер скроется (блоку добавляется модификатор `state` со значением `empty`). 

<a name="maxcount"></a>

* `{Number} maxCount` – максимальное число сообщений пользователя, для показа на странице. Значение по умолчанию – `99`. Если число новых сообщений больше максимального, то отобразится сокращенная запись `maxCount+` (`99+`). Максимальное значение передается в JS-параметры блока. 

* `{String} url` – адрес ссылки. В HTML – атрибут ссылки `href`. Необязательное поле.  

Без указания поля `url` элемент `count` преобразуется шаблоном в HTML-тег `<span>`. C указанным полем `url` – в HTML-тег `<a>`.  

Подсказка ссылки (атрибут `title`) всегда содержит фактическое число новых уведомлений.  

### Варианты использования блока
Подключение блока на странице:

```js
{
    block: 'ticker', 
    url: '#',
    count: 7 
}
```

Блок `tiker` с произвольным числом непрочитанных уведомлений:

```js
{
    block: 'ticker', 
    url: '#',
    count: 234  
}
```
