# dropdown

**Статус блока**: **deprecated**

Составной блок, объединяющий выпадающее окно (popup) и вызывающий его элемент, относительно которого оно открывается.
Предназначен для создания элементов веб-интерфейса, используемых для скрытия дополнительной информации, ненужной в данный момент. Например, разного рода выпадающие меню, подсказки и т.п.

Рекомендуем перейти на новую версию блока — [dropdown2](../dropdown2/dropdown2.ru.md).

## Обзор

[Объявление блока на странице](#Объявление-блока-на-странице)

<a name="mods"></a>
### Модификаторы блока

|Модификатор | Допустимые значения | Способы установки | Описание |
| -----------| --------------------| ------------------| ---------|
| [disabled](#mods-disabled) | `yes` | BEMJSON, JS | Неактивное состояние блока. |

<a name="elems-short"></a>
### Элементы блока

| Элемент | Описание |
| --------| -------- |
| [switcher](#elems-switcher) | Тип блока-переключателя, который вызывает выпадающее окно. |
| [popup](#elems-popup) | Выпадающее окно блока. |


## Подробнее

<a name="Объявление-блока-на-странице"></a>
### Объявление блока на странице

Чтобы подключить `dropdown` в контенте блока, укажите элементы `switcher` и `popup`. Например, следующим образом:

Блок-переключатель – псевдоссылка

```js
{
    block: 'dropdown', // имя блока
    content: [
        {
            block: 'link',
            mix: [{block: 'dropdown', elem: 'switcher'}],
            mods: {pseudo: 'yes'},
            url: 'http://yandex.ru/all',
            content: 'ещё'
        },
        {
            elem: 'popup',
            content: 'I am a dropdown here!'
        }
    ]
}
```

Блок-переключатель – кнопка

```js
{
    block: 'dropdown',
    content: [
        {
            block: 'button',
            mix: [{block: 'dropdown', elem: 'switcher'}],
            mods: {size: 'm', arrow: 'down', theme: 'normal'},
            content: 'Действия'
        },
        {
            elem: 'popup',
            js: {directions: 'bottom-left-center'},
            // Ширина в popup задана в css примера
            content: [
                'Душа моя озарена неземной радостью, как эти чудесные весенние утра, ',
                'которыми я наслаждаюсь от всего сердца. Я совсем один и блаженствую в здешнем краю, ',
                'словно созданном для таких, как я. Я так счастлив, мой друг, так упоен ощущением покоя, ',
                'что искусство мое страдает от этого.'
            ].join('')
        }
    ]
}
```

### Модификаторы блока

<a name="mods-disabled"></a>
#### Модификатор `disabled`

Отвечает за неактивное состояние, при котором блок виден, но недоступен для действий пользователя.

Допустимое значение: `yes`


> **NB** Служебный модификатор `action` не создан в файловой структуре блока, так как не участвует в изменении внешнего вида блока. Используется для реализации логики открытия/закрытия выпадающего окна (элемент `popup`).
<br>Может принимать значения `open` – выпадающее окно открыто и `closed` – выпадающее окно закрыто.

```js
{
    block: 'dropdown',
    content: [
        {
            block: 'button',
            mix: [{block: 'dropdown', elem: 'switcher'}],
            mods: {size: 'm', arrow: 'down', disabled: 'yes', theme: 'normal'},
            content: 'Действия'
        },
        {
            elem: 'popup',
            js: {directions: 'bottom-left-center'},
            // Ширина в popup задана в css примера
            content: 'Душа моя озарена неземной радостью'
        }
    ]
}
```

### Элементы блока

<a name="elems-switcher"></a>
#### Элемент `switcher`

Представляет собой блок-переключатель, который открывает/закрывает выпадающее окно блока.

Такими элементами на странице, например, могут быть кнопки, псевдоссылки. Открытие/закрытие блока выполняется нажатием левой кнопки мыши или клавишей **Enter** по элементу-переключателю (должен быть в фокусе).

Во входных данных `switcher` миксуется с блоком, выполняющим роль переключателя.

```javascript
{
    block: 'dropdown',
    content: [
        {   // блок-переключатель (например, псевдо-ссылка)
            block: <'имя блока'>,
      	    mix: [{block: 'dropdown', elem: 'switcher'}],
      		...
      	},
        {
            elem: 'popup', // выпадающее окно с произвольным содержимым
            js: {directions: 'bottom-left-center'}, // параметры блока `popup` в контексте `dropdown` (необязательное)
            // Ширина в popup задана в css примера
            content: 'Душа моя озарена неземной радостью'
        }
    ]
}
```

<a name="elems-popup"></a>
#### Элемент `popup`

Выпадающее окно блока `dropdown`. На уровне BEMHTML-шаблона выполняется микс элемента с блоком [popup](../popup/popup.ru.md) и добавляется элемент `tail` (хвост попапа), указывающий на блок-переключатель.

На этапе инициализации блока `dropdown` в BEMJSON элемента `popup` можно передавать («пробрасывать») опциональные зарезервированные поля (`mods`, `js`, `attrs`, `content`) и выполнять методы блока `popup`.
Список методов настраивается в параметре `popupMethods`.

По умолчанию блок `dropdown` может выполнять некоторые [методы блока `popup`](../popup/popup.ru.md#methodsdef) в своем контексте («проброшенные» методы).
