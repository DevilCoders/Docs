# b-menu

**Статус блока**: **deprecated**

Вместо него рекомендуется использоваться блок `menu`.

Блок `b-menu` является каркасом на основе которого возможно создавать всевозможные меню состоящие из нескольких упорядоченных элементов, один из которых может быть активным (выделенным, неактивным).

Меню бывают:

* горизонтальные;
* вертикальные;
* многоуровневые;
* c раскрывающимися пунктами.

Ссылки в меню, создаются c помощью блока [b-link](../b-link/b-link.ru.md). Иконки при помощи [b-icon](../b-icon/b-icon.ru.md).

### Модификаторы блока

Модификатор | Описание | Допустимые значения
--- | --- | ---
`is-bem` | BEM-меню | `yes`: Включено.
`layout`| Раскладка | `horiz-complex`: Горизонтальная табличная раскладка меню. <br>`horiz-simple`: Горизонтальная раскладка меню без дополнительной разметки.<br>`horiz`: Горизонтальная раскладка меню списком.<br>`vert`: Вертикальная раскладка меню.<br>
`preset` | Стили по умолчанию | `hmenu-theme`: Из `b-hmenu` с фоновым выделением.<br>`hmenu`: Из `b-hmenu`.<br>`toolbar`: Для кастомного toolbar.<br>`vmenu-theme`: Из `b-vmenu` с фоновым выделением.<br>`vmenu-tick`: Для вертикального меню, выделенный элемент имеет галочку. Реализован для применения в выпадающем списке `b-dropdowna`.<br>`vmenu`: Из `b-vmenu`.<br>
`theme` | Тема | `plain`: Текущий пункт меню выделяется фоном с прямыми углами.<br>`round`: Текущий пункт меню выделяется фоном с закруглёнными углами.<br>
`togglable`| |yes:
`visibility`| Видимость меню, в основном для вложенных вертикальных меню| `hidden`: Меню не видно.

<a name="elems"></a>
### Элементы блока

Элементы | Описание | Модификаторы элемента | Допустимые значения
--- | --- | --- | --- |
`gap` | Распорка между пунктами меню, используется только в горизонтальном табличном и вертикальном вариантах
`item` | Элемент меню | `state`: Состояние |`current`: Выделенный элемент меню.<br>`disabled`: Недоступный пункт меню.<br>
`separator` | Разделитель между пунктами меню
`text` | Текст вместо ссылки, если нужно | `type`: Тип текста | `count`: Количество чего-либо. Например, кол-во сообщений, комментариев, правок.
`title`| Заголовок меню.
`trigger`| Псевдоссылка для вертикального меню показывает и скрывает вложенное меню. Может быть с иконкой или без нее


### Детали реализации

#### Декларации

  * При использовании модификаторов `b-menu_preset_hmenu-theme` и `b-menu_preset_vmenu-theme` необходимо указывать  модификатору `theme` значение `plain` либо `round`.
  * Preset настройки для горизонтальных меню применимы только к табличной и списочной реализации `b-menu`, **к реализации горизонтального меню ссылками preset-настройки не применяются**.

#### Состояние пунктов меню

  * Выделение пункта меню задается модификатором `state` со значением `current` элемента `item`. Недоступность пункта меню задается значением `disabled` модификатора `state`.
  * Выделенные пункты меню с закругленными углами создаются в CSS.
  * Состояние наведения определяем ссылке (`b-link`).

#### Особенности горизонтальных меню

  * **Для облегчения миграции с `b-vmenu` и `b-hmenu` были созданы preset-модификаторы, которые включают в себя CSS-свойства из выше перечисленных меню.**
  * Также реализованы preset-настройки для toolbar, расположенного не в шапке, на основе которого можно создать свой кастомный toolbar.
  * Распорка между пунктами используются только в горизонтальных меню, реализованных таблицей.
  * В горизонтальных меню, реализованных таблицей и списком раскладочные классы `b-menu_layout_horiz__layout-cell_first` и `b-menu_layout_horiz-complex__layout-cell_first` задаются первой `<td>` (или `<li>`) в том случае, если перед элементами item не стоит заголовка.
  * Для переопределения внешнего вида меню рекомендуется оборачивать меню блоком в проекте, а не делать модификатор для `b-menu`.

#### Особенности вертикальных меню

  * **Распорку (элемент `gap`) и разделитель ( элемент `separator`), теперь можно использовать не только в горизонтальном меню, но и в вертикальном меню.**
  * Цветовые схемы из `b-vmenu` (модификатор `theme`) не перенесены в `b-menu`, цветовые темы надо хранить на проекте, перенесите их как модификатор `color` для `b-menu` на проект или задайте в блоке, который оборачивает меню.
  * Триггер в выпадающих списках может быть ссылкой если ему задать `url`, с иконкой или без нее или просто одной иконкой. По умолчанию иконка триггера представляет собой "+" или "-" в зависимости от состояния вложенного меню. Иконку другого вида, можно реализовать через [b-icon](../b-icon/b-icon.ru.md).
