# i-jquery

Блок `i-jquery` помогает подключить фреймворк `jQuery` на страницу и упорядочивает хранение js-кода плагинов.

На уровне `common` блок состоит из нескольких элементов, которые содержат плагины к `jQuery`.
Декларация этих элементов обеспечивает подключение этих плагинов в страничный `JS`.

## Обзор
### Модификаторы блока
Модификатор | Описание | Допустимые значения
--- | --- | ---
[version](#mods-version) |Подключает библиотеки jQuery к странице.|


### Элементы блока
Элемент | Описание 
--- | ---  
`cookie` | Плагин для работы с cookie браузера.
`debounce` | Плагин debounce- и throttle-декораторов для функций.
`decodeuri` | Плагин для декодирования URI-кодированной строки в кодировке CP1251.
`dom`| Возвращает ссылку на активный (document.activeElement) DOM-элемент.
`event-show` | Для `$.event.show` - специально событие jQuery, отслеживающее появление элемента в видимой области страницы.
`identify` | Плагин для уникальности и идентификации объектов.
`inherit` | Плагин для наследования.
`observable` | Плагин, реализующий событийную модель для произвольных объектов.
`color`| Уровень `desktop`.
`hashchange`| Плагин JQuery для `hashchange` события. Уровень `desktop`.
`leftclick`| Плагин, позволяющий навешивать обработчики событий на нажатие только левой клавиши манипулятора типа мышь. Уровень `desktop`.
`stringify`| Плагин для сериализации объектов в JSON-строку. Уровень `desktop`. 
`wname`| Уровень `desktop`.
`css-prefix` | Обертка вендорных префиксов для `$.fn.css()`. Уровень `touch`.
`orientationchange` | Уровень `touch`.
`tap` | Плагин для эмуляции события `tap` для touch-платформ. Создан для сохранения обратной совместимости на проектах, использующих одновременно islands-библиотеки и `romochka`. Уровень `touch`.
[textwidth](#elems-textwidth)| Плагин для расчёта ширины произвольного текста в контексте всех стилей заданного элемента. Уровень `touch`.
`touch` | Уровень `touch`.
  

<a name="mods-version"></a>
### Модификатор `version`

Подключает библиотеки **jQuery** к странице

`{ mods: { version: 'default'} }` – рекомендованный способ
`{ mods: { 'version': '<jquery_version_number>' } }`

**NB** `{ mods: { 'version': '</url>' } }`  – работать не будет можно `url` задать, как поле в BEMJSON.

На уровне `common` модификатор `version` дает возможность подключать необходимую версию библиотеки, указывая либо ее адрес, либо номер версии.

## Объявление блока на странице

Чтобы поддерживаемая версия `jQuery` подключилась к страницам, используйте следующий BEMJSON:

```js
{
    block: 'b-page',
    title: 'Title of the page',
    head: [
        { elem: 'css', url: '_index.css' },
        { elem: 'meta', attrs: { name: 'description', content: 'description' }}
    ],
    content:[
        {
            block: 'some-block',
            content: 'Some content'
        },
        { block: 'i-jquery', mods: { version: 'default' }}
    ]
}
```

Этот шаблон не продуцирует DOM-представление элемента. Он декларирует использование на странице элемента `js` блока `b-page`, подключающего `js` с `jQuery`.

<a name="elems-textwidth"></a>
### Элемент `textwidth`

Плагин для расчёта ширины произвольного текста в контексте всех стилей заданного элемента.

Параметры:

* `text` – текст
* `[type]`: 
  
  * по умолчанию (не задан) – учитывать только `контент === el.width()`;
  * `'padding'` – учитывать `padding === el.innerWidth()`;
  * `'border'` – учитывать `padding+border === el.outerWidth()`;
  * `'margin'` – учитывать `padding+border+margin === el.outerWidth(true)`.

Пример использования:

```javascript
    var textWidth = $('.el').textWidth('text');
    ...
    var textWidth = $('.el').textWidth('text', 'padding');
```
