# i–geolocation

Обертка над **Geolocation API** для получения информации о текущем местоположении пользователя.

Если данные получены успешно, статический метод `get()` вернет в callback объект со следующими данными:

  * `latitude` – широта, градусы;
  * `longitude` – долгота, градусы;
  * `altitude` –  высота над уровнем моря, м;
  * `altitudeAccuracy` – точность определения высоты, м;
  * `speed` – скорость движения, м/с;
  * `heading` – направление движения, в градусах относительно географического севера;
  * `accuracy` – точность, м;
  * `timestamp` – время, **DOMTimeStamp**;

Если попытка была неудачной, статический метод `get()` вернёт в callback объект с кодом ошибки:

  * `0` – браузер не поддерживает **Geolocation API**;
  * `1` – пользователь отклонил запрос на получение текущего местоположения;
  * `2` – невозможно получить данные / нет ответа от спутников;
  * `3` – таймаут;
  * `4` – что–то ещё пошло не так / неизвестная ошибка;

Параметры:

  * `enableHighAccuracy` – если есть и активирован полноценный GPS, то полученные данные будут более точные (по умолчанию `true`);
  * `timeout` – таймаут географического запроса, в секундах (по умолчанию 15);
  * `cacheTime` – время кэширования географического запроса, в течение которого полученные данные считаются актуальными, в минутах (по умолчанию 15);

Пример использования:

```javascript
    ...
    BEM.blocks['i–geolocation'].get(params, function(data) {
        if (data.error) {
            ...
        } else {
            ...
        }
    });
    ...
```
