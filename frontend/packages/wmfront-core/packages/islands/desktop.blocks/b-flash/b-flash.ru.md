# b-flash
Блок позволяет встраивать Flash-объекты на страницу, использует `SWFObject`.

### Технические подробности
#### Принцип работы

Внутри `b-flash` динамически создается `iframe`  внутри которого вставляется SWF-файл.

#### Генерируемый код

```html
 <div class="b-flash"><iframe>Код флеша</iframe></div>
```

### Модификаторы блока
Модификатор | Описание | Допустимые значения
--- | --- | ---
`expressinstall` | Путь к файлу `expressinstall.swf` из скрипта `SWFObject`. По умолчанию берется из https://yastatic.net/swfobject/2.2/expressInstall.swf | `false`: `expressinstall` не используется.
`method` | Метод вставки флеша в страницу. По умолчанию используется `iframe`. | `inline`: Вставка флеша без использования iframe, непосредственно на страницу
`swfobject` | Путь к файлу `swfobject.js` из скрипта `swfobject`. По умолчанию берется из https://yastatic.net/swfobject/2.2/swfobject.min.js.|`include`: Подключение `SWFObject` v2.2 в основной JS, работает для модификатора `method` в значении `inline`. <br>`somepath`: свой путь к файлу SWFObject.js, например http://some.domain/path/to/swfobject.min.js.
`version` | Минимально допустимая версия Flash-плеера, под которой гарантируется правильная работа файла (версия Flash под которую был скомпилирован SWF файл, уточнять у flash-разработчика). Если не указан – используется 10.0.0.


#### Обязательные параметры

* `src` – путь к SWF-файлу.

#### Рекомендованные параметры (указывать не обязательно, но рекомендуется)

* `id` – id flash-элемента, если  пустой – применится случайный id.
* `width` – ширина SWF-файла. Допускаются значения как в пикселях (`width="321"`), так и в процентах (`width="50%"`). Если параметр не указан будет назначен `width="100%"` (flash подстроится под размер родителя, а именно  под размер блока `div.b-flash`). Если параметр оставляете пустым, обязательно прописывайте `width` для `b-flash`.
* `height` – высота SWF-файла, описывается и работает аналогично параметру `width`.

### Параметры блока

Вставка дополнительных параметров блока, аналогична той, что используется в `swfobject`. Эти параметры можно условно разделить на 3 типа: 
`flashvars` – переменные , `params` – параметры, `attributes` – атрибуты.

#### Flashvars – переменные
* `name` – имя переменной;
* `value` – значение переменной.

Внутри блока `b-flash` передаем объект в поле `flashvars`, BEMJSON:

```javascript
flashvars: {
    var1: "val1",
    var2: "val2"
}
```

#### Attributes – атрибуты
* `name` – имя атрибута;
* `value`  – значение атрибута.
* Допустимые атрибуты:
  * `name`
  * `class`
  * `align`
    * `middle`
    * `left`
    * `right`
    * `top`
    * `bottom`


Внутри блока `b-flash` передаем объект в поле `attributes`, BEMJSON:

```javascript
attributes: {
    atribute1name: "atribute1val",
    atribute2name: "atribute2val"
}
```

### Params – параметры
* `name` – имя параметра;
* `value`  – значение параметра.
* Допустимые параметры:
  * `play`: Определяет, будет ли воспроизведение начато немедленно после загрузки. Если этот атрибут не указан, то значение по умолчанию равно `true`.
    * `true`
    * `false`
  * `loop`: Определяет, будет ли содержимое повторяться бесконечно или будет остановлено при достижении последнего кадра. Если этот атрибут не указан, то значение по умолчанию равно `true`.
    * `true`
    * `false`
  * `quality`: Определяет уровень сглаживания. Если этот атрибут не указан, то значением по умолчанию для атрибута `quality` является `high`.
    * `low` : Поддерживает скорость воспроизведения за счет внешнего вида и не использует сглаживание.
    * `autolow` : Поддерживает скорость, но по возможности улучшает внешний вид. Воспроизведение начинается с отключенным сглаживанием. Если Flash Player обнаружил, что процессор способен выполнять сглаживание, то оно будет включено автоматически.
    * `autohigh` : Поддерживает в равной степени скорость и внешний вид, но при необходимости предпочтение отдается скорости воспроизведения. Воспроизведение начинается с включенным сглаживанием. Если действительная частота кадров падает ниже заданной, сглаживание отключается, чтобы повысить скорость воспроизведения.
    * `medium` : Применяет некоторое сглаживание, но не для растровых изображений. Этот параметр дает качество выше, чем в режиме «Низкое», но ниже, чем в режиме «Высокое».
    * `high` : Поддерживает внешний вид за счет скорости воспроизведения и всегда использует сглаживание. Если SWF-файл не содержит анимации, то растровые изображения сглаживаются. В противном случае растровые изображения не сглаживаются.
    * `best` : Обеспечивает самое высокое качество отображения, даже за счет скорости. Сглаживается весь вывод, в том числе растровые изображения.
  * `bgcolor`: Определяет цвет фона приложения (необязательный). Этот атрибут используется для переопределения цвета фона, заданного в SWF-файле. Не влияет на цвет фона HTML-страницы.
    * `#RRGGBB` : #RRGGBB (шестнадцатеричное значение RGB).
  * `scale`: Определяет размещение приложения в окне браузера, если значения атрибутов `width` и `height` выражены в процентах. Если этот атрибут не указан, то значение по умолчанию равно `showall`.
    * `showall` : Отображает весь документ в заданной области без искажений, сохраняя исходное соотношение сторон SWF-файла. С двух сторон от приложения могут появиться поля.
    * `noborder` : Масштабирует содержимое таким образом, что оно заполняет заданную область без искажений, но с возможностью кадрирования. При этом исходные пропорции приложения сохраняются.
    * `exactfit` : Отображает все содержимое в заданной области без искажений, не сохраняя исходного соотношения сторон. Может возникнуть искажение изображения.
  * `salign`: Определяет расположение масштабируемого SWF-файла в области, заданной настройками width и height (необязательный). Если этот атрибут опущен, то содержимое центрируется в окне браузера.
    * `L` : Выравнивает приложение по левому краю окна браузера, при необходимости кадрируя остальные три стороны.
    * `R` : Выравнивает приложение по правому краю окна браузера, при необходимости кадрируя остальные три стороны.
    * `T` : Выравнивает приложение по верхнему краю окна браузера, при необходимости кадрируя остальные три стороны.
    * `B` : Выравнивает приложение по верхнему краю окна браузера, при необходимости кадрируя остальные три стороны.
    * `TL` : Выравнивает приложение по левому верхнему краю окна браузера соответственно, при необходимости кадрируя нижнюю и оставшуюся правую стороны.
    * `TR` : Выравнивает приложение по правому верхнему краю окна браузера соответственно, при необходимости кадрируя нижнюю и оставшуюся левую стороны.
    * `BL` : Выравнивает приложение по левому нижнему  краю окна браузера, при необходимости кадрируя верхнюю и оставшуюся правую стороны.
    * `BR` : Выравнивает приложение по правому нижнему краю окна браузера, при необходимости кадрируя верхнюю и оставшуюся левую стороны.
  * `base`: Задает базовый каталог или URL-адрес для разрешения относительных путей в SWF-файле (необязательный). Этот атрибут может оказаться полезным в тех случаях, когда SWF-файлы хранятся в отдельных папках, а не вместе с остальными файлами.
    * `URL` : Базовый каталог или URL-адрес.
  * `menu`: Определяет, какой тип меню появляется, когда пользователь щелкает область приложения в браузере правой кнопкой мыши. Если этот атрибут не указан, то значение по умолчанию равно `true`.
    * `true` Отображается полное меню, предоставляющее пользователю ряд параметров по расширению или управлению воспроизведением.
    * `false`  Отображается меню, содержащее только параметры «О программе Adobe Flash Player ...» и «Настройки».
  * `wmode`: Позволяет работать с прозрачным содержимым Flash, абсолютным позиционированием и возможностями слоев.  Если этот атрибут опущен, значение по умолчанию равно `Window`.
    * `window` : Приложение воспроизводится в собственном прямоугольном окне на веб-странице. Этот параметр указывает, что приложение Flash не взаимодействует с HTML-слоями и всегда является самым верхним элементом.
    * `opaque` :  Приложение скрывает все содержимое, находящееся под ним. Позволяет слоям, находящимся над SWF-файлом закрывать собой приложение.
    * `transparent` :  Фон HTML-страницы виден сквозь прозрачные области приложения. Этот параметр может замедлить воспроизведение анимации. Позволяет слоям, находящимся над SWF-файлом закрывать собой приложение.
    * `direct`
    * `gpu`
  * `allowscriptaccess`: Позволяет разрешить приложению Flash обмениваться данными с HTML- страницей, на которой оно находится. Если этот атрибут не указан, то значение по умолчанию равно `samedomain`.
    * `always` : Разрешает выполнять операции сценариев без ограничений.
    * `never` : Запрещает все операции сценариев.
    * `samedomain` : Разрешает операции сценариев только в том случае, если приложение Flash находится в том же домене, что и HTML-страница. Если этот атрибут не указан, то значение по умолчанию равно `true`.
  * `seamlesstabbing`: Позволяет элементу управления ActiveX выполнять сквозное перемещение при помощи клавиши табуляции, что позволяет пользователю при помощи клавиши **Tab** выйти из приложения Flash. Этот параметр работает только в среде Windows для элемента управления ActiveX Flash Player версии 7 и более поздних.
    * `true` : Элемент управления ActiveX выполняет перемещение по клавише **Tab**. После того, как пользователь завершил работу с приложением Flash, следующее нажатие клавиши табуляции перемещает фокус из приложения Flash на окружающее HTML-содержимое или в строку состояния браузера, если такое содержимое отсутствует после перемещения фокуса с приложения Flash.
    * `false` : Элемент управления ActiveX работает так, как в версии 6 и более ранних. После того, как пользователь завершил работу с приложением Flash, следующее нажатие клавиши табуляции перемещает фокус в начало приложения Flash. В этом режиме клавишей **Tab** нельзя переместить фокус за пределы приложения Flash.
    * `samedomain` : Разрешает операции сценариев только в том случае, если приложение Flash находится в том же домене, что и HTML-страница.
  * `allowfullscreen`:  Позволяет  приложению Flash разворачиваться на полный экран. Если этот атрибут не указан, то значение по умолчанию равно `false`.
    * `true` : разворачиваться на полный экран – разрешено.
    * `false` : разворачиваться на полный экран – запрещено.
  * `devicefont`: Позволяет использовать шрифты устройства для всего текста, содержащегося в ролике Flash. Если этот атрибут не указан, то значение по умолчанию равно `false`.
    * `true` : Позволяет использовать шрифты устройства для всего текста, содержащегося в ролике Flash.
    * `false` : Запрещает использовать шрифты устройства для всего текста, содержащегося в ролике Flash.
  * `allownetworking`: Позволяет Flash производить переход по ссылке (переход по адресу).  Если этот атрибут опущен, значение по умолчанию равно `all`.
    * `all` : Разрешен переход на любые ссылки (адреса).
    * `internal` :  Разрешает переход по ссылкам только в рамках домена с которого открыта страница.
    * `none` : Запрещен переход на любые ссылки (адреса). «Ссылки» во flash работать не будут.

Внутри блока `b-flash` передаем объект в поле `params`, BEMJSON:

```javascript
params: {
    param1name: "param1val",
    param2name: "param2val"
}
```
