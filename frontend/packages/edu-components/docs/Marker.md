# Маркер

[Маркер](https://docs.pelican.common.yandex.ru/formats/new-problem-markup.html#markers) — визуальный элемент формы задачи. UI-маркеры отвечают только за отображение задачи.

Здесь описано устройство UI-маркеров.

## Общие свойства

Маркер может быть **простым** или **составным**.

Простой маркер состоит из единственного интерактивного элемента, например, поля ввода. Его значением и статусом будут значение и статус этого элемента.

Составной маркер содержит в себе вложенные интерактивные элементы, например, группу чекбоксов. Его значение и статус будут описываться структурой.

| Свойство | Тип                              | Описание                                                                                                   |
| -------- | -------------------------------- | ---------------------------------------------------------------------------------------------------------- |
| value    | `Value`                          | Значение маркера. Примитив или структура, содержащая значения вложенных элементов.                         |
| status   | `Status`                         | Статус маркера. `AnswerStatus` или структура, содержащая статусы вложенных элементов. [Подробнее](#status) |
| onChange | `(e: { target: Value }) => void` | Функция, вызываемая на изменение значение маркера.                                                         |
| readOnly | `false \| true`                  | Состояние «только для чтения». [Подробнее](#readOnly)                                                      |

### status

Статус влияет на **отображение** маркера или его элементов.

Описывается енумом `AnswerStatus`: `initial` | `correct` | `incorrect` | `accepted`.

- `initial` — начальное состояние. Элементы маркера с этим состоянием интерактивны.
- `correct` — выбрано/пропущено/введено верно. Элементы маркера с этим состоянием помечаются зелёным.
- `incorrect` — выбрано/пропущено/введено неверно. Элементы маркера с этим состоянием помечаются красным.
- `accepted` — ответ принят. Элементы маркера с этим состоянием помечаются серым. Используется в контрольных.

### readOnly

Свойство `readOnly` влияет на **поведение** маркера:

- маркер и его элементы становятся недоступны для взаимодействия,
- изменение значения блокируется.

Сделать маркер не интерактивным можно явно или неявно.

1. Явно передать `readOnly`. Все элементы станут «только для чтения». Имеет смысл передавать в превью задачи.
2. Передать статус, отличный от `initial`. Элементы с соответствующим статусом станут «только для чтения».

Отображение readOnly-маркера <span style="color: red">будет позже</span>

> ⚠️ `disabled` вырывает элемент из потока клавиатурной навигации и имеет проблемы с [доступностью](#доступность). `readonly` сохраняет возможность получения фокуса.

## Доступность

<span style="color: red">будет позже</span>

## Ссылки

- [Описания форматов](https://docs.pelican.common.yandex.ru/formats/markers)
