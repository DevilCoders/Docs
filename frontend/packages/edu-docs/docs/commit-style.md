# Стиль написания комментариев к коммитам

Правила хорошо описаны в [блоге Яндекса на Habrahabr](https://habr.com/ru/company/yandex/blog/431432).

## TLDR

Пишите заголовки комментариев к коммиту следующим образом:

`type(scope): subject`, где

- **type**: тип изменений
- **scope**: название пакета или сервиса
- **subject**: суть изменений

Например, так:

```
feat(edu-components): добавить компонент Button
refactor(moebius): отрефакторить PassportService
```

### Типы изменений

| Тип          | Для каких изменений                                             |
| ------------ | --------------------------------------------------------------- |
| **build**    | Сборка проекта или изменения внешних зависимостей               |
| **chore**    | Выпуск новой версии, какая-то небольшая рутинная работа         |
| **ci**       | Настройка CI и работа со скриптами                              |
| **docs**     | Обновление документации                                         |
| **feat**     | Добавление новой функциональности                               |
| **fix**      | Исправление ошибок                                              |
| **perf**     | Изменения направленные на улучшение производительности          |
| **refactor** | Правки кода без исправления ошибок или добавления новых функций |
| **revert**   | Откат на предыдущие коммиты                                     |
| **style**    | Правки по кодстайлу (табы, отступы, точки, запятые и т.д.)      |
| **test**     | Добавление тестов                                               |

### Разбор частых ошибок

- Не пишите в комментариях к коммиту строки длиной больше **72 символов**
- Пишите **subject** с маленькой буквы в повелительном наклонении
- В конце заголовка комментария не добавляйте точку

## Нюансы для разработчиков пакетов

Пакеты должны следовать [системе семантического версионирования](https://semver.org). Изменение версий происходит автоматически и вручную изменять `version` в `package.json` не нужно. На автоматическое обновление версии пакета влияет **type** из заголовков комментариев к коммитам:

| Тип          | Для каких изменений          | Версия |
| ------------ | ---------------------------- | ------ |
| **feat**     | Новая функциональность       | MINOR  |
| **perf**     | Улучшение производительности | MINOR  |
| **fix**      | Исправление багов            | PATCH  |
| **refactor** | Рефакторинг кода             | PATCH  |
| **revert**   | Откат предыдущих изменений   | PATCH  |

Чтобы выпустить MAJOR, добавьте в тело коммита _BREAKING CHANGE_ и опишите изменение.

Например, так:

```
feat(edu-components): изменить API компонента Button

BREAKING CHANGE: <...>
```

При релизе пакета из комментариев автоматически формируется список изменений.
