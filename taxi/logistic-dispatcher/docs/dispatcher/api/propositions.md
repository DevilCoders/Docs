# Работа с маршрутными листами

После регистарции заказа в Диспатч, регулярный процесс начинает строить маршрутные листы.
Чтобы получить список предложений для маршрутных листов нужно сходить в ручку:

```
GET {{host}}/api/proposition/list
```

Пример ответа:

```
{
    "propositions": [
        {
            "points": [
                {
                    "location": [
                        37.73637882,
                        55.8536648
                    ],
                    "type": "source",
                    "claim_id": "c1efcb32-459e5ef8-1f7b89d9-7a07a32d",
                    "id": 2408
                },
                {
                    "location": [
                        37.75781585,
                        55.85610057
                    ],
                    "type": "destination",
                    "claim_id": "216abb71-d288b521-19825130-28225f01",
                    "id": 2445
                },
                {
                    "location": [
                        37.75910869,
                        55.848921
                    ],
                    "type": "source",
                    "claim_id": "c17b9b7a-7562d1ce-6cdc9b13-cb2de2fb",
                    "id": 2348
                },
                {
                    "location": [
                        37.71468885,
                        55.7888453
                    ],
                    "type": "source",
                    "claim_id": "216abb71-d288b521-19825130-28225f01",
                    "id": 2446
                }
            ],
            "deadline": 1592208119,
            "driver_id": "85",
            "route_id": "07d5f41d-4e90-4a24-809a-95ea4be0df64"
        }
    ]
}
```


**Дополнительные параметры**
1. `all=1`  - показать также листы, с назначенными заказами в Такси.


Дальнейший цикл работы с предложением подразумевает, что его нужно принять (курьер принял назначени) или отклонить (с данным курьером не сложилось).

```
POST {{host}}/api/proposition/accept
{
    "route_id": "811b7b1f-e439-4cb5-bb35-045db75c989e"
}
```
или
```
POST {{host}}/api/proposition/reject
{
    "route_id": "811b7b1f-e439-4cb5-bb35-045db75c989e"
}
```
При отклонении предложения следующая итерация алгоритма назначения предложит новые варианты маршрутных листов.