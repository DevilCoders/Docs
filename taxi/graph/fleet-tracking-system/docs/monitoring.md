# Мониторинги системы

## Внутренние мониторинги

Внутренние мониторинги - это индикатор того, что что-то плохо в нашей системе.
Например резкое падение числа позиций в потоке притянутых позиций Такси не должно зажигать
мониторинг если оно вызванно тем, что сырых позиций стало меньше. А вот если на
вход к нам поступает все то же самое, а мы меньше начали притягивать, то надо
зажишать внутренний аларм.

1. Мониторинг задержки архивации
2. Мониторинг потока во внутренних каналах? Или лучше мониторинг соответствия
   потока во внутренних каналах потоку RPS на вход пайплайна?
   1. Притягиватель: делим поток исходящих на поток входящих снятый в yagr (!не
      в самом притягивателе). Если yagr пишет 1000 contractors/second в поток, а
      yaga всего лишь 800 contractors/second, то это сигнализирует об ошибке.
      Почему важно снимать поток в том месте, которое пишет, а не в
      притягивателе? Если яга потеряла и не подписалась на часть партиций потока данных, то это
      можно засечь только в указанной схеме.

## Пользовательские мониторинги

Ждем когда Соломон доделает нормальные "пользовательские шаблоны", дальше будем
предоставлять их пользователю.

Вот тут как раз становятся важным мониторинг "резкое падение числа притянутых
позиций Такси". Потому что клиент знает что водителей столько же, поэтому если
поток падает, то значит что-то в системе не так.

Пока что, по аналогии с логброкером, мы даем пользователем дашборд где можно
выбрать свой пайплайн и посмотреть что происходит.
