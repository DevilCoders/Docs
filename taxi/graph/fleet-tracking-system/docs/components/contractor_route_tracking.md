# Подсистема отслеживания исполнителя на маршруте

Мы объединяем в эту подсистему несколько связанных одной логикой (отслеживание и рассчёт eta для исполнителся по маршруту) сервисов. У подсистемы есть 2 разные точки входа - это ручки, которыми задаётся маршрутный лист для исполнителя (см. API), и поток позиций он yaga/yagr, чтобы поддерживать актуальный маршрут и eta.

Под капотом у системы планируется 3 сервиса и 1 общая БД:
- driver-route-controller: сервис, отвечающий за обновление и поставку маршрутных листов (является входной точкой для маршрутных листов)
- driver-route-watcher: сервис, отвечающий за построение мрашрута, притягивание к маршруту актуальных позиий и вычисление первичного eta по маршруту
- driver-route-responder: сервис, отвечающий за ответ eta пользователям с дополнительными возможностями по корректировке с помощью фильтров

Предварительная схема подсистемы с внешними и внутренними взаимодействиями приведена ниже:
![](../images/contractor_route_tracking_schema.png)
