# –¢–∞–Ω–∫–µ—Ä

[–ü—Ä–æ–µ–∫—Ç –≤ –¢–∞–Ω–∫–µ—Ä–µ](https://tanker.yandex-team.ru/project/lavka-falcon)

–¢–∞–Ω–∫–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `OAuth-—Ç–æ–∫–µ–Ω` –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∫ —Å–≤–æ–µ–º—É API. –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ https://nda.ya.ru/3SjQY7. –ó–∞—Ç–µ–º —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–ª—é—á –≤ –≤–∞—à `$HOME/.profile` (–∏–ª–∏ `.bash_profile`, –µ—Å–ª–∏ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ), –¥–æ–±–∞–≤–∏–≤:

```bash
export TANKER_API_TOKEN="–¢—É—Ç –≤–∞—à OAuth —Ç–æ–∫–µ–Ω –¥–ª—è –¢–∞–Ω–∫–µ—Ä–∞"
```

–î–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è [tanker-kit](https://a.yandex-team.ru/arc/trunk/arcadia/frontend/packages/tanker-kit/README.md).

`.tanker` - —ç—Ç–æ —Å–ª—É–∂–µ–±–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è `tanker-kit`, –ø–∞—Ä—Å–µ—Ä, –¥–∏—Å–ø–∞—Ç—á–µ—Ä.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

> `i18n(keyset, key [, options]);`

> `i18nRaw(keyset, key [, options]);`

–ü–µ—Ä–µ–≤–æ–¥ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `key`, –∞ `key` —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `keyset`:

```json
{
    "my-keyset": {
        "my-key": "–ú–µ—Ç—Ä–æ –ü–∞—Ä–∫ –ö—É–ª—å—Ç—É—Ä—ã –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–æ–π —Å—Ç–æ—Ä–æ–Ω–µ"
    }
}
```

–§–∞–π–ª—ã —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —è–∑—ã–∫–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `./src/i18n/translations/...`.

–ó–∞—Ç–µ–º –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —ç—Ç–∏ –ø–µ—Ä–µ–≤–æ–¥—ã –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ hook `useI18n` –∏–ª–∏ `useI18nRaw`:

```ts
import {useI18n} from '@/src/i18n';

const i18n = useI18n();

i18n('my-keyset', 'my-key');
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—ä—è–≤–ª—è—é—Ç—Å—è –≤ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–µ —Å—Ö–æ–∂–µ–º —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –¥–ª—è template strings:

```json
{
    "my-keyset": {
        "my-key": "–ú–µ—Ç—Ä–æ {metro} –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–æ–π —Å—Ç–æ—Ä–æ–Ω–µ"
    }
}
```

–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç—Ä–µ—Ç–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –≤ —Ñ—É–Ω–∫—Ü–∏—é:

```ts
import {useI18n} from '@/src/i18n';

const i18n = useI18n();

i18n('my-keyset', 'my-key', {metro: '–ü–∞—Ä–∫ –ö—É–ª—å—Ç—É—Ä—ã'});
```

### –ü–ª—é—Ä–∞–ª–∏–∑–∞—Ü–∏—è

–î–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –∫–æ–ª–ª–∏—á–µ—Å—Ç–≤–∞ —Å–≤–æ–π –ø–µ—Ä–µ–≤–æ–¥:

```json
{
    "my-keyset": {
        "my-key": {
            "one": "you have one apple",
            "some": "you have apples for the day",
            "many": "you have enough apples to last a lifetime",
            "none": "you don't have apples my friend"
        }
    }
}
```

```ts
import {useI18n} from '@/src/i18n';

i18n('my-keyset', 'my-key', {count: 5});
```

`count` - —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —Å –ø–ª—é—Ä–∞–ª–∏–∑–∞—Ü–∏–µ–π, –Ω–æ –µ–≥–æ —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ –ø–µ—Ä–µ–≤–æ–¥–∞—Ö —Å –ø–ª—é—Ä–∞–ª–∏–∑–∞—Ü–∏–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `–£ —Ç–µ–±—è {count} —è–±–ª–æ–∫`)

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏:

–ù–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞:

```json
{
    "footer": {
        "copyright": "Copyright {link}. All rights reserved."
    }
}
```

–ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä `i18nRaw`:

```tsx
import {i18nRaw} from '@/src/i18n';

const i18nRaw = useI18nRaw();

i18nRaw('my-keyset', 'my-key', {
    link: <Link url="#" key="key">{i18n('another-keyset', 'yandex')}</Link>
});
```

## –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥

* –î–æ–±–∞–≤–ª—è–µ–º –≤ –∫–æ–¥ –Ω–æ–≤—ã–π —Ç–µ–∫—Å—Ç:

  ```ts
  i18n('my-keyset', 'my-key', {metro: '–ü–∞—Ä–∫ –ö—É–ª—å—Ç—É—Ä—ã'});
  ```

* –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –∫–ª—é—á –≤ —Ç–∞–Ω–∫–µ—Ä:

  ```bash
  falcon tanker --push
  ```

  [–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –∫–æ–º–∞–Ω–¥–∞—Ö –∏ —á—Ç–æ –æ–Ω–∏ –¥–µ–ª–∞—é—Ç](https://a.yandex-team.ru/arc/trunk/arcadia/frontend/packages/tanker-kit/README.md).

* –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ [–ø—Ä–æ–µ–∫—Ç –≤ —Ç–∞–Ω–∫–µ—Ä–µ](https://tanker.yandex-team.ru/project/lavka-falcon) –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ–º –∫–ª—é—á. –î–æ–±–∞–≤–ª—è–µ–º —Ä—É—Å—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ (`–ú–µ—Ç—Ä–æ {metro} –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–æ–π —Å—Ç–æ—Ä–æ–Ω–µ`)

* –°–ø—Ä–∞–≤–∞ —Å–≤–µ—Ä—Ö—É, —Ä—è–¥–æ–º —Å –∞–≤–∞—Ç–∞—Ä–∫–æ–π, –µ—Å—Ç—å –∑–Ω–∞–∫ –≤–æ–ø—Ä–æ—Å–∞. –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ –Ω–µ–≥–æ, –∑–∞—Ç–µ–º –≤ –ø–æ–ø–∞–ø–µ –∂–º–µ–º "–ó–∞–∫–∞–∑ –ø–µ—Ä–µ–≤–æ–¥–∞"

* –í –æ—Ç–∫—Ä—ã–≤—à–µ–π—Å—è —Ñ–æ—Ä–º–µ –∑–∞–ø–æ–ª–Ω—è–µ–º –ø–æ–ª—è:
    - –¢–∏–ø –∑–∞–¥–∞—á–∏ - `–ü–µ—Ä–µ–≤–æ–¥`
    - –í–∏–¥ —Ç–µ–∫—Å—Ç–∞ - `–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å`
    - ABC —Å–µ—Ä–≤–∏—Å - `–õ–∞–≤–∫–∞ / –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö`
    - –°—É—Ç—å –∑–∞–¥–∞—á–∏ - `–ü–µ—Ä–µ–≤–æ–¥ –∫–ª—é—á–µ–π`
    - –ò–Ω—Å—Ç–∞–Ω—Å –¢–∞–Ω–∫–µ—Ä–∞ - `–ù–æ–≤—ã–π`
    - –°—Å—ã–ª–∫–∏ –Ω–∞ —Å—É—â–Ω–æ—Å—Ç–∏ –≤ –¢–∞–Ω–∫–µ—Ä–µ - –∑–¥–µ—Å—å –ø–∏—à–µ–º —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–ª—é—á–∏/–∫–µ–π—Å–µ—Ç—ã/–ø—Ä–æ–µ–∫—Ç
    - –í—ã–±–∏—Ä–∞–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π —è–∑—ã–∫, —è–∑—ã–∫–∏ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –∏ —Å—Ç–∞–≤–∏–º –¥–µ–¥–ª–∞–π–Ω
    - –Ø–∑—ã–∫ –ø–µ—Ä–µ–≤–æ–¥–∞ - –≤—ã–±–∏—Ä–∞–µ–º –Ω—É–∂–Ω—ã–µ –Ω–∞–º —è–∑—ã–∫–∏ (ru,en,fr,he)

* –ö–æ–≥–¥–∞ –ø–µ—Ä–µ–≤–æ–¥—ã –±—É–¥—É—Ç –≥–æ—Ç–æ–≤—ã, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º—Å—è —Å —Ç–∞–Ω–∫–µ—Ä–æ–º:
  ```bash
  falcon tanker --pull
  ```

* –î–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ `pull` –∏ `push`, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
  ```bash
  falcon tanker --sync
  ```

üí° tanker –Ω–µ –ø–æ–¥—Ç—è–Ω–µ—Ç –ø–µ—Ä–µ–≤–æ–¥—ã –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã

üí° tanker –Ω–µ –ø–æ–¥—Ç—è–Ω–µ—Ç –ø–µ—Ä–µ–≤–æ–¥—ã –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏ `i18n` –∏–ª–∏ `i18nRaw` –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –Ω–µ –≤ –ø–∞–ø–∫–µ `src/client`
