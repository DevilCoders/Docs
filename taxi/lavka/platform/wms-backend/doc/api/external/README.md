# API интеграции с внешними системами

в products.yaml - описаны ручки дающие возможность выгрузить

- `/products` - номенклатуру всех складов сразу
- `/groups` - категории номенклатуры всех складов сразу
- `/stocks` - остатки всех складов сразу 


в stores.yaml - описаны ручки дающие возможность выгрузить

- `/list` - список складов
- `/stocks` - остатки для каждого склада

в assortments.yaml - описаны ручки дающие возможность выгрузить

- `/list` - список всех ассортиментов
- `/products` - все товары в ассортиментах

в price_lists.yaml - описаны ручки дающие возможность выгрузить

- `/list` - список всех прайс-листов
- `/products` - все товары в прайс-листах

В запросах можно получить список однократно.
А можно передать при первом получении данных `subscribe: true`.
В этом случае будет сформирован бесконечный курсор перезапрашивая который
будем получать данные в виде постоянного потока по мере их обновления.

Схема работы тогда будет такая:

1. клиент запрашивает например stores/list, передавая при этом
`subscribe: true`
2. получает порцию данных и строку `cursor`
3. повторяет запрос передавая `cursor` получает порцию данных и новое
значение `cursor`. И так до бесконечности.

Повтор запроса условно бесплатен для бакенда, поскольку OFFSET'ы
не используются.

### В перспективе

- в ассортименте - поля настроек выгрузим
- в складе - поля настроек выгрузим
- в товаре - возможно тоже поля настроек появятся
