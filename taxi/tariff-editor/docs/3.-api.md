Под API в данном случае понимается прослойка для взаимодействия с бекендом.

В Админке все что касается сетевых запросов лежит в бандлах в папке `api`. Содержимое этой папки должно отвечать следующим требованиям:

* Каждое API оформляется отдельным классом, имя класса пишется камлкейсом, аббревиатура API апперкейсом (ie `NewBuggedAPI`)
* Каждый файл содержит не более одного класса API
* Каждый файл содержит экспорт инстанса класса именованный как `apiInstance`. Других экземпляров класса в приложении быть не должно.
* API является самым низкоуровневым слоем приложения, на которй опираются остальные, таким образом API может импортироваться в более высокоуровневые слои, но не наоборот, API должно написано без каких либо ссылок на файлы саг и UI, в идеале файл АПИ может быть скопирован в другой репозиторий без изменений
* В папке не должно быть индексного файла собирающего и экспортирующего все API
* Методы API не должны содержать никакой иной логики, чем запрос, всю обработку и преобразование данных необходимо выносить из API в саги, либо селекторы, смотря что удобнее в конкретном случае.
* Каждый метод АПИ должен совершать не более одного запроса, любое комбенирование запросов - это ответсвенность саг
* Типы для АПИ должны генерироваться через генератор типов `npm run typings -- <options>` и использоваться as is без переименований.
* Методы API должны быть строго типизированы с использованием автосгенерированных деклараций из предыдушего пункта, те у запроса должны быть указаны тип параметров запроса и возвращаемы тип
* В АПИ не должны использоваться генераторы
* Общая часть урла должна быть вынесена в константу
* Кастомные АПИ с собственными мидлварами должны содаваться через наследование от `HttpApi`
* Нодовые или изоморфные АПИ должны содаваться через наследование от `BaseHttpAPI`

Пример типизированного API
```typescript
const BASE_URL = `confirmations`;

export default class ConfirmationsAPI {
    public request = (data: RequestArgs): Promise<RequestResponse> => {
        return apiAdmin.get<RequestArgs, RequestResponse>(`${BASE_URL}/list`, data);
    }

    public create = (args: Partial<CreateArgs>): Promise<Confirmation> => {
        return apiAdmin.post<CreateArgs, Confirmation>(`${BASE_URL}/create`, args);
    }
}
```

### Переиспользование общих апи
В [файле](/arcadia/taxi/tariff-editor/packages/core/src/utils/httpApi/index.ts#L72) реализации `httpApi` можно найти инстанс не только апи с дефолтным хостом, но и кастомные дефолтные хосты

Например, если необходимо апи трекера, то хорошо использовать `import {trackerApi} from '_utils/httpApi';`. Такие инстансы уже содержат внутри себя не только префикс урла, но и нужные мидлвари (например, **csrfWrapper**)

В файле выше можете найти все доступные инстансы