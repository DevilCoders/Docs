# `@logistics-frontend/core`

## Назначение

Здесь лежит повторно используемый код, который не завязан на конкретной сущности "клиент" и может быть повторно использован
на внешних страницах или других сервисах. А заодно компоненты интерфейса, которые завязаны на общие получаемые с сервера настройки
и всё такое.

|Директория|Что там лежит|
|-|-|
|api/atoms|Атомы Recoil для общих целей|
|api/custom-schema|Хаки redux-query для обработки изменяющихся URL API при переходе между разными TLD.|
|api/endless-scroll|Поддержка бесконечного скроллинга в API через redux-query|
|entities|Код, используемый для нормализации лежащего в redux-query состояния|
|error-handling|Обработка серверных ошибок и показ уведомлений в углу|
|loader|Крутилочка загрузки, которая умеет работать с бесконечным скроллом и redux-query|
|normalization|Код вокруг normalizr, связанный с нормализацией списков сущностей|
|redux-query|Обёртка вокруг redux-query, c которой он становится ощутимо поудобнее|

## TODO

- Избавиться от HOC для доступа к серверу в папке api
- Дописать код доступа к бэку через suspense и атомы
- Выпилить активное использование redux из пользовательского кода (возможно, оставив redux как средство хранения "под капотом").
- Постепенно отказываться от бесконечного скролла, потому что он не очень эффективен как паттерн UI в браузере для задач проекта.
- Привести в порядок нормализацию, сейчас она разложена по двум отдельным папкам, что не очень эффективно.
