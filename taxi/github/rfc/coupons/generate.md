# Генерация уникального промокода

Нужна ручка, которая по переданной серии сгенерирует промокод и выдаст его пользователю.

Может быть использована для выдачи промокодов из админки и для сервиса вознаграждений.

Генерирует купон в соответствии с серией. Если передан yandex_uid, записывает промокод в список промокодов пользователя.

Также эта ручка должна записывать в объект промокода в базу поле yandex_uid, или phone_id, чтобы ограничить возможность использования купона только для этого пользователя (пока реализовано только для phone_id).

## Ручка генерации

Пример запроса:

```json
{
  "yandex_uid": "id пользователя, которому нужно добавить промокод",
  "token": "токен идемпотентности",
  "series_id": "серия промокода"
}
```

пример ответа:

```json
{
  "promocode": "some code"
}
```

Ручка должна на повторные запросы с тем же token возвращать один и тот же промокод.
Для этого в коллекцию промокодов нужно добавить поле `generate_token` и индекс по этому полю.
Индекс должен быть `sparse` и `unique`.
