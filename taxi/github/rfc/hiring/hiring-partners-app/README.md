#### Название сервиса
hiring-partners-app

#### Задачи сервиса
##### Какую продуктовую проблему решает сервис?
Перенос существующего личного кабинета скаутов и агентов из устаревшего репозитория infranaim в backend-py3.

Необходимо, т.к. сейчас сервис развернут в Qloud, который будет закрыт в течение полугода. 

##### Почему нельзя решить эту задачу без разработки нового сервиса существующими решениями?

-- 

##### Как именно сервис будет решать поставленные перед ним задачи?
Функциональность не изменяется, сервис остается бекендом для кабинета скаутов и агентов.

##### Разрабатывается один сервис или система?
- [x] Один
- [ ] Система

#### Взаимодействие
##### Сервис внутренний или внешний?
- [ ] Внутренний
- [x] Внешний

##### С кем взаимодействует сервис?
- scouts
- Zendesk
- experiments3
- hiring-authproxy
- hiring-taxiparks-gambling
- personal

##### Использование Passenger Authorizer
https://wiki.yandex-team.ru/taxi/backend/architecture/passenger-authorizer/
- [ ] Да

##### Использование Driver-authorizer
https://wiki.yandex-team.ru/taxi/backend/architecture/driver-authorizer/
- [ ] Да

##### Залогиненность
Залогиненность означает возможность запуска сервиса в доменах yandex.ru|yandex-team.ru, возможность залогинить пользователя, возможность проверить или выставить cookie
- [x] Да
	
##### Использование Blackbox
https://doc.yandex-team.ru/blackbox/concepts/about.xml
- [ ] Да

##### Использование MDS
https://wiki.yandex-team.ru/mds/s3-api/
- [ ] Да

##### Какие базы использует?
- [ ] PostgreSQL
- [x] Mongo
- [ ] Redis
- [ ] Other

##### Какие периодические процессы?
На первом этапе никаких, будут перенесены процессы скаутов

#### Хранение и обработка данных
##### Планируется обработка персональных данных
Удостоверения личности, данные банковских карт, финансовая информация, ФИО + номер телефона, персональные прогнозы (как у Крипты) и т.д. 
- [x] Да

##### Какие данные и по какой схеме сервис будет хранить в базе?
1. ФИО, почту пользователя, yandex login - в коллекции users
2. Личные данные кандидата (водитель, курьер, etc) - в коллекциях check_table, scouts_agents_surveys и tickets
3. Технические данные: логирование ответов experiments, запросов в некоторые ручки и т.д.

##### Какой объем данных будет храниться и какой объем будет изменяться в единицу времени?
В приложении используется существующая монга, используемая всеми процессами найма.
Всего в ней сейчас хранится 55 ГБ данных, в секунду обновляется около 10 МБ
Конкретно в приложении используется около 53 ГБ тех же данных, в секунду обновляется ~1-2 МБ
Ожидается рост количества данных на ~20 ГБ и rps до 6 МБ

##### Какие операции над данными заложены?
SELECT, INSERT, UPDATE, DELETE

##### Есть ли какой-то стейт в памяти, как он обновляется и валидируется?
Нет

#### Отказоустойчивость и масштабируемость
##### Какая нагрузка ожидается?
до 100 RPS
(сейчас в Qloud до 40)

##### Какие фолбеки предусмотрены на сам этот сервис?
В случае отказа personal сервис сложит в базу реальное значение ПД

##### Какие фолбеки предусмотрены внутри этого сервиса на взаимодействие с другими сервисами?
Никаких

##### Какие возможности масштабируемости закладываются?
Рост числа пользователей. Рост RPS до 100, количества данных на 30%

##### Какие точки отказа есть в сервисе?
Другие сервисы, Zendesk

#### Метрики
##### Укажите ключевые продуктовые метрики сервиса, за которыми планируете следить
Количество лидов, количество проверок кандидата по телефону / ВУ / номеру авто

##### Укажите технические метрики
- Количество запросов в секунду
- Нагрузка очередей создания, обновления, скачивания тикетов
- Загрузка БД 

#### Планы роста
##### Какая функциональность ожидается в сервисе в будущем?
Найм других вакансий

##### Какое изменение нагрузки планируется?
Рост числа пользователей. Рост RPS до 100, количества данных на 30%

##### Активно ли будет изменяться сервис?
- [x] Да

#### Общая информация
##### Менеджер
 Евгений Колбей (ekolbey)

##### Релиз (предполагаемая дата)
26.08.2020

##### Язык, на котором пишется сервис
- [ ] C++
- [x] Python3
- [ ] Other

##### Ссылка на тикет, в рамках которого идет разработка
[NAIMBACKEND-381](https://st.yandex-team.ru/NAIMBACKEND-381)

##### Дополнительные согласования
Нет

##### Комментарий
Сервис переносится из Qloud.
