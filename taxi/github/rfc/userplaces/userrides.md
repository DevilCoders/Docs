# Избранные поездки в userplaces

Избранная поездка - это маршрут + выбранный тариф + пожелания (в том числе контакт заказа другому). 
При добавлении поездки в избранное пользователь обязательно придумывает название поездки.

## /4.0/userplaces/v1/user-ride/list

Ручка возвращает список избранных поездок. Авторизация стандартная через PA
Ручка запрашивается параллельно с пользовательскими адресами и маршрутами. 

На клиенте не нужны все параметры избранной поездки, достаточно прислать диплинк route со всеми параметрами. Мы умеем в диплинке принимать все точки, пожелания, тариф, а так же контакт для заказа другому (https://st.yandex-team.ru/ITAXI-14228).

По возможности бекенд должен уметь формировать описание поездки, имя поездки дает пользователь. Под описанием понимается текстовое перечисление точек и все сохраненных опций.

## /4.0/userplaces/v1/user-ride/remove

Ручка удаления избранной поездки с экрана избранных и в поездке

## /4.0/userplaces/v1/user-ride/edit

Ручка редактирования избранной поездки с экрана избранных. На данный момент позволяет только менять название поездки, т.к. при добавлении с экрана поездки можно ошибиться при вводе названия.

## /4.0/userplaces/v1/user-ride/order/check

Ручка проверки является ли текущий заказ избранной поездкой. Для проверки используем не только `order id`, но и поле `version`. В результате либо узнаем, что поездка еще не в избранном, либо получим `id` и `name` избранной поездки. 

Данную ручку предполагается вызывать в поездке на старте и при каждом изменении пары `order id` и `version`

Текущий заказ считается находящимся в избранном, если совпадают все параметры избранной поездки:
1. Совпадают все точки
2. Совпадают все пожелания (в том числе заказ другому)
3. Совпадает тариф

## /4.0/userplaces/v1/user-ride/order/add

Ручка добавления в избранное текущей поездки (пока это единственный способ создать избранную поездку). Для добавления указываем `order id`, `version` и `name`
