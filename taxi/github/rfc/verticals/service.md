## План развития вертикалей в архитектуре Яндекс.Go

#### Ручки, где присутствует логика вертикалей:
- `zoneinfo`
- `routestats` (на данный момент клиентами не используется)

#### Как работает сейчас:
Вертикали формируются на основе подготовленные данных по тарифам (набор тарифов, фильтрация, сортировка).
Поверх логики вертикалей больше ничего нет.

### План развитие вертикалей:

На период тестирования для настройки вертикалей используются конфиги и эксперименты.

В будущем планируется сделать отдельную базу для настроек + админку.

## Вертикали в uservices

zoneinfo - важная ручка для флоу заказа такси, 
поэтому идет процесс в сторону повышения ее стабильности и скорости ответа.
Для стабильности и скорости необходимые данные собирают в кэши.

Таким образом, логично формировать вертикали прямо в zoneinfo.
А необходимые настройки вертикалей также класть в кэш.
Тем самым мы следуем тенденции повышения стабильности и незначительного увеличения таймингов zoneinfo.

Поскольку логика вертикалей будет переиспользоваться в 2х микросервисах на uservices (zoneinfo + routestats),
то кодовую базу размещаем в библиотеке.

## План перехода с протокола на uservices

Переход с протокольных ручек на микросервисные может занять продолжительное время,
когда параллельно будут работать 2 ручки. Для решения этой ситуации предлагается
делать доработки только в протоколе и методами api-proxi всегда добавлять в ответ.

Когда будем отключаться протокольную ручку, приостановим разработку вертикалей и сконцентрируемся на том, чтобы перенести кодовую базу в uservice-библиотеку.

