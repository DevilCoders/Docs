# План распиливания полей `3.0/taxiontheway`

## Общие моменты

- Большенство полей переезжает в сервис `order-parts`
- Информация о водителе, переезжает в отдельный парт сервиса `orderperformerinfo`
- Сервисам, которые используются для необходимо уметь формировать представление в старом формате(taxiontheway) и в новом формате(если изменился API в парте)

## План

- `order-parts`
  1. Реализовываем базовый функционал для переноса формирования полей в `order-parts`
  2. Отпиливаем уже не используемый функционал из `taxiontheway`
  3. Подумать о механизме проверки старой и новой логики и реализовать её
  4. Переносим (с рефакторингом, конечно) формирвание полей, зависящих от статуса заказа в `order-parts` ручку `/v1/frequency/mid`
  5. Понять, парт какого типа нам необходимо создать после переноса всех частей заказа зависимых от статуса
  6. Продолжить перенос
- API новых партов
  С наскоку, довольно сложно сделать рефакторинг API taxiontheway, поэтому предлагаю двигаться итеративно
  1. Прорабатываем API для батчовой ручки отдачи информации по водителю
  2. Точно понятно, что мы можем объединить кнопки, диалоги и информацию для них
  3. ...?

## Поля которые можно переносить в `/v1/frequency/mid`

### `typed_experiments`
Обоснование:
TODO: Провести аналитику используемых кваргов и проверить что они будут меняться в рамках заказа

### allowed_changes
Обоснование:
Зависит от статусов + необходимо расширение в ближайшем будущем 
