# Частотное раздениление частей totw

## fast_fields
`status` - статус заказа, высокая частота
`status_info_title` - статус заказа, высокая частота
`status_info` - зависит от статуса заказа
`departure_time` - ? - вычисляется в status_info
`max_waiting_time` - вычисляется в status_info
`allowed_changes` - показывает, какие изменения заказа, сейчас доступны. Частота - высокая
`pending_changes` - текущие изменения в заказе

`freecars` - рисуем машинки карте. Только на `search`, машинки в статусе `free`.
`busycars` - судя по коду, тоже самое, только busy

`code_dispatch` - только во время посадки, константна для заказа

`cancelled_by` - причина отмены - дёргаем часто

`cancel_reason_description` - описание причины отмены - дёргаем часто

`cancel_rules` - зависит от статуса заказа

actions:
`button_modifiers` - показывает, когда нужно заменить экшен звонка на что-то другое для глухого водителя, 
codedispatch
`dont_call` - флаг из заказа, мб изменён специальной ручкой во время поездки, в экшены
`dont_sms` - флаг из заказа, мб изменён специальной ручкой во время поездки, в экшены

`user_ready` - показывает, нажал ли пользователь кнопку `уже выхожу`, мб тоже в экшены
`cancel_disabled` - зависит от многих факторов, были планы, вынести в экшены, высокая частота
`driverclientchat_enabled` - выглядит, как будто зависит от поля в заказе
`drivercall_enabled` - как будто нужно вынести в экшены

depricated:
`version` - версия proc-а, кажется, в новом тотве, будут tag

`way_time` - не выносим, по причине, того что данное поле меняется только на waiting.

`notifications` - список нотификаций, зависит от статуса - часто

`cost` - меняется, средствами stq
`cost_decimal_value` - меняется, средствами stq
`cost_as_str` - меняется, средствами stq
`cost_message` - показываем расшифровку стоимости
`cost_message_details` - показываем расшифровку стоимости
`final_cost` - 
`final_cost_decimal_value`
`final_cost_as_str`

`can_make_more_orders` - флаг о мультизаказе, может изменится при окончании одного из заказов
`no_more_orders_reason` - причина отсутствия возможности сделать мультизаказ, может изменится при окончании одного из заказов

`payment` - текущий метод оплаты, меняется только при принудительном сбросе на нал(например), или в ручную клиентом
`payment_changes` - изменения метода оплаты, как будто как и предыдущая

`request` - как будто может поменяться тип оплаты и маршрут, остальное из реквеста, низкая частота
`order_name` - только для мультизаказов, статичное название заказа, может прорасти в старый заказ, при создании нового

`feedback` - получаем из сервиса фидбека, и как будто можно это делать реже
`supported_feedback_choices` - получаем из сервиса фидбека

### new field:
Переносим объект `driver.car` в новое место:
`performer_runtime_info`: {
    `position`: [lon, lat]
}

Поле `driver.overdue` - не используется на клиентах, поэтому в новом объекте его нет.

## never_changed_fields
`source` - точка начала поездки, константна для заказа

`granted_promotions` - константна для заказа

`loyal` - флаг, показывающий является ли пользователь лояльным, константна для заказа(можно принять)

`currency_rules` - шаблон, константна для заказа

`free_cancel_for_reason` - возможность бесплатной отмены, выставляется в ordercommit, константна для заказа

`extra_contact_phone` - специфичен с заказом, константна для заказа

`brandings` - промо сторисы. Точно нужно вынести в другое место. Частота изменений - скорее низкая(кэш над монгой + конфиги с названиями + эксперимент).

## smart polling
`routeinfo` - smart polling
`exact_pickup_point` - зависит от route_info, к router-у

## variable polling - запрос данного парта будет менятся в зависимости от статуса заказа. До transporting, запрашиваем часто, после - перестаём запрашивать совсем
`tariff` - может изменится при reorder или autoreorder
`driver` - исполнитель может измениться до начала поездки, transpoting
`park` - информация о перевозчике, меняется синхронно с изменением водителя
`partner` - информация о парке, меняется синхронно с изменением водителя

`force_destination` - на статусах [`waiting`, `driving`, `transporting`] просим пользователя ввести тБ, если водитель глухой.
`reorder` - информаци о реордере, сложно понять, но как будто после начала поездки, это не должно происходить
`surge` - судя по всему относится к реордеру, т.е дёргать нужно часто до примерно transporting
`higher_class_dialog` - промотирование об апгрейде класса, т.е дёргать нужно часто до примерно transporting
`autoreorder` - судя по всему относится к автореордерут.е дёргать нужно часто до примерно transporting

`coupon` - валидность  значение купона, может измениться при изменении тарифа
`discount` - стоимость купона, может измениться при изменении тарифа
`paid_supply_discount` - Зависит от paid supply и от водителя

`tips_suggestions` - чаевые - особо не меняются, зависят от тарифа
`tips` - чаевые - особо не меняются, зависят от тарифа

`route_sharing_url` - после появления, не меняется, но вероятно, важно получить как можно раньше

