**Название сервиса**

signalq-drivers

**Какую продуктовую проблему решает сервис?**

Предоставление водителю SignalQ личного интерфейса, где он сможет получить информацию о событиях, которые были зафиксированы его камерой.

**Почему нельзя решить эту задачу без разработки нового сервиса существующими решениями?**

Информация о событиях хранится в signal-device-api, но существующие решения специализированы под работу с камерами.

Нам же нужно:
1. Получить от biometry-etalons фотографию конкретного водителя.
2. Получить от signal-device-api события для конкретного водителя.
3. Отдавать информацию о них, сгруппированную по дате.


**Как именно сервис будет решать поставленные перед ним задачи?**

1. Авторизация с помощью driver-authproxy.
2. При входе сервис достает все события с именем, связанные с водителем из signal-device-api и формирует ответ.
3. Достает фото из biometry-etalons. 

**Разрабатывается один сервис или система?**

Один сервис.

**С кем взаимодействует сервис?**

1. С signal-device-api для получения событий и имени
2. С biometry_etalons для получения фотографии водителя
3. С Про – после авторизации в driver-authproxy будет принимать запрос на получение событий для конкретного водителя и отдавать их по датам

**Какие базы использует?**

–

**Какие периодические процессы?**

Нет.

**Планируется обработка персональных данных**

- Фотография водителя
- Имя водителя
- Ссылка на видео с камеры водителя
- Ссылка на фото с камеры водителя

**Какие данные и по какой схеме сервис будет хранить в базе?**

–

**Какой объем данных будет храниться и какой объем будет изменяться в единицу времени?**

–

**Какие операции над данными заложены?**

–

**Есть ли какой-то стейт в памяти, как он обновляется и валидируется?**

Нет.

**Какая нагрузка ожидается?**

10 RPS на старте, в течение года вырастет до 100 RPS

**Какие фолбеки предусмотрены на сам этот сервис?**

Если сервис недоступен, не пускаем водителя в личный интерфейc.

**Какие фолбеки предусмотрены внутри этого сервиса на взаимодействие с другими сервисами?**

Если недоступен signal-device-api, не пускаем водителя в личный интерфейc.
Если недоступен biometry-etalons, не показываем фото водителя в личном интерфейсе.

**Какие возможности масштабируемости закладываются?**

Увеличение ram/cpu на инстансе, увеличение количества инстансов сервиса.

**Какие точки отказа есть в сервисе?**

- Отказ signal-device-api

**Укажите ключевые продуктовые метрики сервиса, за которыми планируете следить**

- Количество входов в интерфейс в разное время.

**Укажите технические метрики**

- Количество запросов.
- Максимальное и среднее время ответа на запрос.

**Какая функциональность ожидается в сервисе в будущем?**

1. Почти сразу могут появиться комментарии от парков, в дальнейшем – комментарии водителей
2. Отображение трека водителя

**Какое изменение нагрузки планируется?**

Прямо пропорционально количеству водителей с камерой.

**Активно ли будет изменяться сервис?**

Могут появиться кэши (в случае сильного увеличения нагрузки) или своя база с предпосчитанными агрегатами по водителям, если начнем отдавать сложную статистику по ним.
Могут появиться доп. фичи для отображения треков и для возможности общения водителей с представителями парков.
