**Название сервиса**

contractor-profession

**Какую продуктовую проблему решает сервис?**

1) Устранить инциденты со сменой профессии у СМЗ: Уже сейчас приходят запросы от исполнителей о том, что они хотят поменять профессию: TAXIDUTY-20409. Хочется давать такую возможность. В отличае от парковых у СМЗ есть только один профиль в мой наалог, который не дает им работать в других профилях.
2) Синхронизировать определение типа исполнителя: Есть зоопарк с тем, как определять "тип" водителя и хочется сделать общую систему.
3) Менять интерфейс в зависимости от типа исполнителя: Есть особенности интерфейса, которые хочется отражать основываясь на понятии "Профессия".
4) Сделать механизм который легко поддерживать в будущем и расширять.

**Почему нельзя решить эту задачу без разработки нового сервиса существующими решениями?**

Сейчас нет сервиса, который реализовывал бы смену профессии в явном виде.
Есть много разных источников, которые определяли бы сущность профессии, но они разрознены и каждый использует разное.
[Прорабока типов исполнителей](https://wiki.yandex-team.ru/users/s-uskov/tipy-profilejj-dlja-logistiki/) это демонстрирует.

**Как именно сервис будет решать поставленные перед ним задачи?**

Имеем срезы:
1) *провайдер заказов* - `orders_provider` из `dbdrivers.drivers`. Виды: `{taxi, eda, lavka, cargo, [[deprecated]] taxi_walking_courier}`. `Cargo` еще не существует, мы его добавим.
2) *тип транспорта* (Виды уточняются) - сервис `contractor-transport` (сейчас там не все типы транспорта, сервис ходит в кеш над `dbcars.cars` и обогащает полученную из базы информацию, в будущем все уедет в базу `contractor_transport` - вся инфа о транспортном средстве, в том числе габариты грузовиков)

Дальше формируются такие профессии:
| Профессия                    | Срезы                      |
| ---------------------------- | -------------------------- |
| Пеший курьер Логистики       | Cargo+(pedestrian or bike) |
| Авто-курьер Логистики        | Cargo+car                  |
| Водитель грузового Логистики | Cargo+truck                |
| Курьер Еды                   | Eda+(pedestrian or bike)   |
| Курьер Лавки                 | Lavka+(pedestrian or bike) |
| Водитель такси               | Taxi+car                   |

ДА! Профессия может подраазумевать несколько видов траспорта: курьер на ногах может ездить на велосипеде, ходить пешком или ездить на мото. Доступный транспорт для профессии определяется конфигом.

Общее описание процессаа: (детально см. ниже + схему)
1) Водитель решает сменить профессию.
2) Приходит в профиль и видит плашки с доступными профессиями.
3) Выбирает необходимую плашечку.
4) Улетает запрос в сервис `contractor-profession`.
5) `contractor-profession` проставляет значение профессии в базу со статусом `pending`.
6) Периодик таска вытаскивает записи с pending и делает запрос в `driver-mode-subscription` и проставляет значение профессии в базу со статусом `initiated`.
7) `driver-mode-subscription` запускает единый процесс, который:
- временно замораживает водителя (будет сделано через сервис блокировок `blocklist`, появится что-то типа `freeze-list`)
- меняет `orders_provider` в соответствии с профессией (если не требуется смена провайдера заказов - не меняем)
- меняет transport в соответствии с профессией в сервисе `contractor-transport` (если у профессии подразумевается несколько типов транспорта: если возможно, выставляем тот же, что был, а если недоступно - дефолтный для профессии)
- меняет все, что связано с режимом работы, по логике режимов работы (режимы работы различны между профессиями; профессия подразумевает один или несколько режимов работы)
- делает callback в `contractor-profession`, проставляется статус `commited`
- размораживает водителя
7) Поскольку сейчас тарифы привязаны к машине, то под капотом сервис `driver-categories-api` увидит смену транспорта и поменяет доступные тарифы (для этого в будущем `quelity-control`, `candidates` и `driver-categories-api` должны съехать на `contractor-transport` c базы `dbcars`, чтобы работаать не только с авто, но и с другими типми транспортаа.
8) Профессия и все зависимости изменены.

ВАЖНО: Смена профессии для парковых водителей не всегда возможна через смену значений `orders_provider`  и `transport`  из-за того, что парк может не подразумевать выбранную профессию. (например, у пеших курьеров отдельные парки). В этом случае происходит создание нового профиля за счет прохождения через саморегистрацию, где мы предзаполняем все поля, которые можем. Исполнителю остается только подтвердить данные.

- [Ссылка на вики с продуктовым описанием](https://wiki.yandex-team.ru/taxi/partnerproducts/prorotation).
- [Ссылка на дизайн](https://www.figma.com/file/0JqLXZbjAO3JyZYLENjVXT/Ротация?node-id=2830%3A0).
- [Отчёт по  UX исследованиям](https://st.yandex-team.ru/UXTAXI-316)

**Разрабатывается один сервис или система?**

Система

**Сколько и какие сервисы входят в систему?**

1) `contractor-profession` - хранение активной профессии, имеющихся профессии и истории профессий; вычисление доступных профессий
2) `selfreg` - регистрация нового пользователя с указанием профессии и перерегистрация нового пользователя, если необходимо создаать новый профиль (пример: нельзя регистрировать тааксиста в логичтическом парке)
3) `driver-mode-subscription` - изменение всего, что касается смены режима работы и значений срезов, определяющих профессию
4) `driver-profiles` - хранение и смена `orders_provider`
5) `contractor-transport` - хранение активного транспорта, истории транспорта, смена транспорта
6) `blocklists` - заморозка водителя в новом типе блоклистов-заморозок
7) `candidates` - фильтры типа "теперь в этой профессии ваш транспорт не доступен", "ваш парк запретил вам работать в этой профессии" и тд
8) `driver-diagnostics` - новые причины диагностики, связанные со сменой профессии

**С кем взаимодействует сервис?**

> `contractor-profession`
>> Сервис принимает запросы от таксометра на смену профессии:
>>> Валидирует, а можно ли вообще сменить профессию через конфиг 3.0
>>>
>>> Хотим скрывать в интерфейсе возможность смены, если исполнитель на заказе
>>>
>>> Если профессию нельзя поменять через смену значений в профиле, то мы запускаем процесс саморегистрации, предзаполняя за исполнителя все поля, которые нам о нем известны. Пересоздание профиля может происходить, например, если парк водителя логичтический, а он хочет катать заказы эконома, тогда он будет перерегистриваться в какой-то другой парк или СМЗ.
>>>
>>> Cохраняет информацию об активной профессии в базу
>>>
>>> Периодикк таска собирая новые записи в статусе `pending` запускает смену профессии через SAGA driver-mode-subscription и выставляет статус `initiated`
>>>> *Какие были альтернативные решения?* - Альтернативой был вариант, что сервис профессий сам запускает и контролирует процесс смены парааметров зависимых от професссий через `Processing as a Service`, используемый в цикле заказа.
>>>>
>>>> *Почему не выбрали альтернативу?* - `PaaS` делал бы примерно то же самое и у нас была бы сперва распределенная транзакция в терминах профессий, а потом распределенная транзакция в терминах режимов работы. Поговорив с ребятами стало понятно, что иногда в режимах работы они могут менять транспорт. Получилась бы странная штука, что сперва первая распределенная транзакция поменяла ТС на велосипед, а потом вторая, выставляя режим работы, поменяла бы его на что-то еще по какой-то внутренней логике. Чтобы избежать странных зависимостей, решили делать на готовом механизме.
>>>>
>> Сервис отдает информацию об активной профессии исполнителя
>>> Сервис берет эту информацию из базы или высчитывает на основе таблички профессия-срез (см. выше), которая будет выражена конфигом
>>>
>>> Если по каким-то причинам высчитываемая профессия не соответствует текущим настройка, то профессия считается `unknown`
>>>
>>> Если такой профессии больше не существует, то это отражается в диагностике
>> Сервис отдает информацию по доступным профессиям исполнителя
>>> Он смотрит на существующие в базе достпные профессии + те, что он потенциально может создать на основе конфига профессий.
>>>
>>> Конфиг профессий отвечает на вопрос "что вообще доступно" и "что доступно конкретно этому водителю на основе его характеристик" (наапример, при плохом рейтинге можем не хотеть давать менять профессию).
>>
>
> `selfreg` - регистрация нового пользователя с указанием профессии и перерегистрация нового пользователя, если необходимо создаать новый профиль
>> Предзаполняет за исполнителя все поля, которые нам о нем известны, исполителю остается только окнуть или поменять данные.
>>
>> *Почему воозникла нужда делать пересоздание профиля?* - Парковые водители, тема сложная: у нас есть парки курьеров, парки логистики, здесь хочется выделять зоны ответственности и НЕ делать каши. Более того, есть юридические моменты - таксопарк может запретить водителю выключать эконом, а работа пешим курьером его вообще вряд ли устроет. У нас нет сейчас прямых возможностей менять парк водителя, поэтому приходится пересоздавать профиль в другом парке. Как только водитель согласится стать СМЗ - проблема уходит.
>>
>
> `driver-mode-subscription` - изменение всего, что касается смены режима работы и значений срезов, определяющих профессию
>> Режимы работы различны между профессиями и не пересекаются.
>>
>> Одной профессии могут соответствовать несколько транспортов, смена которых может происходить через смену режима работы.
>>
>> Смена профессии автоматически ведет к смене режима работы.
>>
>> Режимы работы между профессиями связаны между собой: если водитель-таксист работал по driver-fix и хочет стать курьером, то он будет переведен в режим-близнец для driver-fix, если режима-близанеца нет - водителя перведут в дефлотный режим работы.
>>
>> Есть наработки В ДАЛЬНЕЙШЕМ сделать выбор режима работы следующим экраном после режима работы (выбрал профессию -> показали доступные режимы работы для профессии -> выбрал режим работы -> запустили смену профессии с указанием конкретного режима работы), но это не будет влиять на общую архитектуру.
>>
>> *Почему этот подход расширяем?* - Сейчас пришли с хотелкой затащить в про "Сборщика заказов" и точно известно, что у него будет отдельный режим работы и новый `orders_provider`. Это очень хорошо заходит в текущее описание системы.
>>
>> Сервис делет запрос-callback по завершению транзакции для проствления `commited` в базу.
>
> `driver-profiles` - хранение и смена `orders_provider`
>
> `contractor-transport` - хранение активного транспорта, истории транспорта, смена транспорта
>
> `blocklists`
>> Заморозка водителя в новом типе блоклистов-заморозок
>>
>> Процесс смены профессии может затягиваться.
>>
>> Не хочется допускать к заказам при частичном состоянии профиля (сменил orders_provider и теги, но не сменил тип транспорта)
>> 
>> Уже сейчас `driver-mode-subscription` сталкиваются с этой проблемой
>>
>> Делаем новый тип временных блокировок `freeze-list`, который не отражается в диагностике, как блокирующий (дизайн готовят).
>>
>> `freeze-list` используется в `candidates` для фильтра
>>
>> *Какие были альтернативы?* - Делать через status. Но у этого решения есть проблемы: его могут менять другие потребители и есть кастомная логика для курьеров, которая завязана на этом. Добавить новый статус является очень не простой задачей и, кажется не делает то, что мы логически хотим.
>>
>> *Почему выбрали это решение?* - Будет работать почти из коробки, потому что уже и так есть поддержка `blocklists` в кандидатах, надо будет лишь выделить корректную причину в диагностике. Решение с `freeze-list` расширяемо не только на наш проект, он закроет аналогичную проблему заморозки водителей при смене режима работы, при саморегистрации и тд.
>>
>
> `candidates` - фильтры типа "теперь в этой профессии ваш транспорт не доступен", "ваш парк запретил вам работать в этой профессии" и тд
>> Фильтр для с `freeze-list`
>>
>> Кастомные фильтры для профессий: мы поменяли конфиг транспорта для профессии "пеший курьер" и выделили "вело-курьер" и теперь велосипед не подходит для профессии "пеший курьер". В диагностике всем пешим курьерам с велосипедом будет предложено поменять тип транспорта в рамках профессии или сменить профессию.
>>
>> "Юридические" фильтры для профессий: если водитель внутри парка стал авто-курьером, а потом парк запретил ему выключать эконом (а логистика не дает своим курьерам катать таксишные тарифы), то диаагностика предложит водителю сменить профессию или сменить парк.
>>
>
> `driver-diagnostics` - новые причины диагностики, связанные со сменой профессии
>> Выполняет функцию информатора, если в профессиях что-то пошло не так или есть неконсистентности.
>>
>> В том числе показывает "профессия в процессе смены", если смена профессии затягивается
>

Про ретраи:
Повторная смена профессии на ту же самую не несет никаких спецэффектов. Если мы пытаемся поменять профессию на активную - отвечаем 400 "профессия актуальна".

При работе таски, создается `driver_mode::IdempotencyKey` для смены профессии и режима работы, который основывается на дате выставления статуса `pending`.  Даже если мы отрправили таску, но не поменяли статус в базе на `initiated`, при повторной попытке запуска не будет второго запроса и мы только поменяем значение в базе (если там уже не стоит complete).

Про частичные отказы:
При проставлении данных для профессии в рамках SAGA `driver-mode-subscription` мы будем иметь активную профессию в базе и менять на новую только в случае успешного запуска SAGA.
При проблемах процесс может затянуться или "откатиться". В случае отката и прилетания callback-отката от `driver-mode-subscription`, мы сменим профессию на старую, чтобы дать возможность работать исполнителю.
При желании сменить профессию он сам повторит смену профессии.

Будет заведен конфиг рубильник и rate-limiter, который в случае проблем при попытках сменить профессию будет сразу говорить "сервис смены профессий не доступен" и не пускать запрос дальше.

**Какие базы использует?**

Новая база PostreSQL `contractor-profession`

**Какие периодические процессы?**

Периодик процесс для запуска смены данных в SAGA `driver-mode-subscription`

**Прикрепите схему того, где этот сервис находится в текущей инфраструктуре**

1. Как технически проект влияет на цикл заказа.
Никак
2. Кто будет потребителями сервиса.
Исполнитель и Админка, внутренние сервисы, где нужна профессия.

бирюзовое - то, что будет затронуто в MVP1
![alt text](pictures/schema.png "Схема")
![alt text](pictures/ui.png "Схема взаимодействия с Pro")

**Какие данные и по какой схеме сервис будет хранить в базе?**

`profession_profiles` - все профессиональные профили
| KEY                    | KEY                   | VALUE         | VALUE         | VALUE       | VALUE  | VALUE       |
| ---------------------- | --------------------- | ------------- | ------------- | ----------- | -----  | ------------|
| profession_profile_id  | contractor_profile_id | profession_id | creation_time | update_time | active | status      |

В след этапах сделаем отгрузку и архивацию в YT истории смены профессий.
В MVP1 ограничимся понятной репликацией логов, из которых можно вытаскивать инфу о смене профессий.

`contractor_profile_id = <dbid>_<driver_profile_id>` 

`status = {pending/initiated/commited}`

`profession_id` = id профессии в конфиге профессий; если профессия не найдена в конфиге - конвертируем в ответе сервиса в `unknown`

При запуске части про "создание проифиля при смене профессии" необходимо будет в dbdrivers.drivers добавить маппинг на `profession_profile_id`

**Какой объем данных будет храниться и какой объем будет изменяться в единицу времени?**

MVP1:

Изменение: см. RPS на смену профессий
Хранение:
[Аналитика по автокурьерам](https://st.yandex-team.ru/TAXIANALYTICS-13292#60893656ae74701270532ce5)
600к автокурьеров, которые перейдут в профессию "авто-курьер" и, допустим, вернутся обратно в такси, тогда:
`profession_profiles` - 2*600к записей по (допустим) * 1KB ~ 1.2GB

Итого: 1.2GB

Ближайшее будущее:

Изменение: см. RPS на смену профессий
Хранение:
Примерное количество профессий: 10
Текущее количество активных профилей driver_profiles: 3млн (посчитано за последний год по количеству активных записей в biometry_etalons)
10*3млн*1KB=30Gb на `profession_profiles`

Итого: 30Gb + естественный рост

**Какие операции над данными заложены?**

1) Изменение/Создание активной профессии
2) Забирание активной профессии из базы

**Есть ли какой-то стейт в памяти, как он обновляется и валидируется?**

На первом этапе нет. В дальнейшем, возможно, будет кеш над базой `professions`

**Какая нагрузка ожидается?**

- Ручка смены профессии:
В MVP1 oжидается нагрузка < 10 RPS на ручку , это рассчитано следующим образом:
[Аналитика по автокурьерам](https://st.yandex-team.ru/TAXIANALYTICS-13292#60893656ae74701270532ce5)
у нас 600к авто-курьеров из них 1% то является автокурьером, то нет: 6к водителей ожидаемо будут менять профессию в течении дня.
В общем:
Попробовали оценить через [количество смен профиля за последний месяц](https://yql.yandex-team.ru/Operations/YJ1AXdK3DAet8rgcoRQuedTgKJGykoXpzBivFoxpND0=).
Получилось 9602912 смен -> в среднем 3RPS на смену
По факту получилось <= 10RPS*2 из-за callback
![alt text](pictures/rps_graph1.jpg "Схема смены профессий 1")
![alt text](pictures/rps_graph2.jpg "Схема смены профессий 2")

- Ручка получения доступных профессий:
Ограничена сверху ручкой отдающей информацию для профиля: <= 250 RPS, но понятно, что ни при каждом открытии профиля будет открываться раздел смены профессии.
- Ручка получения активной профессии:
Будет дергаться на логине, после смены профессии, внутренними сервисами для выбора настроек отражения каких-то показателей (например, рейтинга).
Посчитаем как: RPS логина + RPS смены профессий + RPS открытий профиля = 100RPS + 10RPS + 200RPS ~ 300RPS
В MVP1 активная профессия не используется клиентом, так как UI не поддается изменением связанными с профессией.


Итого:
MVP1 <= 300RPS (на самом деле, в разы меньше, но сложно доказать)
Будущее ~ 600RPS


Нагрузочное тестирование для MVP1 не делается, так как ожидается, что нагрузка не будет большой.
При дальнешем развитии проекта - будем проводить (на этапе подключения смены профессий для СМЗ)

**Какие фолбеки предусмотрены на сам этот сервис?**

Будет существовать тип профессии `unknown`, он будет использоваться при переходных состояниях (когда мы запустили транзакцию изменения професии и она еще не завершилась) и если сервис не отвечает. С точки зрения таксометра это будет урезанный интерфейс, который отражает какую-то общую инфрмацию (доступ к саппорту), но не дает инфу относящуюся к профессии и не дает брать заказы (нажимать "на линию"). Поведение сервисов-потребилетей, который используют значение профессии могут так же использовать `unknown` и строить дальнейшее поведение в зависимостей от своих нужд.

**Какие фолбеки предусмотрены внутри этого сервиса на взаимодействие с другими сервисами?**

Если откажет:
1) `selfreg` - не сможем менять профессию для тех, у кого требуется пересоздание профиля, фоллбэка нет
2) `driver-mode-subscription` - не сможем сменить профессию, фоллбэка нет
3) `driver-profiles` - будет долго висеть сообщение "смена профессии", пока не поднимется или будет откат на предыдущую профессию с сообщением "извините, не смогли сменить профессию"
4) `contractor-transport` - будет долго висеть сообщение "смена профессии", пока не поднимется или будет откат на предыдущую профессию с сообщением "извините, не смогли сменить профессию"
5) `blocklists` - будет долго висеть сообщение "смена профессии", пока не поднимется или будет откат на предыдущую профессию с сообщением "извините, не смогли сменить профессию"
7) `candidates` - тут все такси не будет работать :(
8) `driver-diagnostics` - тут водитель вообще не будет понимать, что происходит и почему не может выйти на линию :(

**Какие возможности масштабируемости закладываются?**

Концепт расширяем за счет:
1) новых провайдеров заказа
2) новых типов транспорта или вообще отсутствия транспорта
3) добавления новых срезов, если необходимо
4) изменением профессий за счет изменения входящих в профессию сочетааний срезов

Сервис масштабируется вертикально за счет расширения Postgres базы.
Горизонтально можно отмасштабироваться для запросов "дай профессию", которые будут на репликах.

**Какие точки отказа есть в сервисе?**

1) Postgres
2) см. пункт про фоллбэки

**Укажите ключевые продуктовые метрики сервиса, за которыми планируете следить**

[Тикет проработка продуктовых метрик](https://st.yandex-team.ru/TAXIANALYTICS-13280)

**Укажите технические метрики**

1) Базовые мерики RPS
2) Среднее значение смен профессии по одному водителю за неделю
3) Сколько пришло в профессию (по каждой профессии)
4) Сколько ушло из профессии (по каждой профессии)
5) Сколько записей в базе по каждой профессии
6) Время, сколько исполнитель находится во фризе
7) Количество водителей во фризе

**Какая функциональность ожидается в сервисе в будущем?**

Этапы разработки:

MVP1: (см. детали ниже)
1) Смена `таксист <=> авто-курьер`
2) Сервис `contractor-professions`
3) Смена `orders_provider` внутри `driver-mode-subscription`
4) Диагностика, что водитель больше не может работать в профессии
5) Различные режимы работы для профессий
Результат: Смена `таксист <=> авто-курьер` для всех СМЗ и тех, кому разрешил парк. Возможна реализация Логистических смен.

MVP2:
1) Смена профессий для СМЗ: Курьер на ногах, авто-курьер, грузовой, таксист (полная интеграция с Логистикой)
2) Смена `contractor-transport` внутри `driver-mode-subscription`
3) Большие доработки в contractor-transport (история изменения, активный транспорт, доступный транспорт)
4) Новые причины в диагностику ("тип транспорта больше не подходит под эту профессию")
5) Отражаем сущность профессии в интерфейсе
6) Различные режимы работы для профессий
Результат: Смена `таксист <=> авто-курьер <=> курьер <=> грузовой` для СМЗ.

MVP3:
1) Смена тех же профессий для парковых (через новый профиль)
2) Доработка саморегистрации для смены профессии
3) Синхронизация данных при смене
Результат: Все могут менять профессию `таксист <=> авто-курьер <=> курьер <=> грузовой`

MVP3:
1) смена на Еду
2) смена на Лавку
(через новый профиль или нет в зависимости от того, как будут обстоять дела к тому моменту)
Результат: Затащили лавку и еду в общую систему

Великое будущее:
1) Выделение отдельной коллекции `profile_info`, где будут содержатся ФИО, телефон и разная другая инфа. Фотоконтроль смотрит на нее. Тогда не будет дублирования данных между профилями, а будет единое место, где лежит необходимая инфа, а разные профили просто смтрят на эту коллекцию. Не нужна синхронизация, просто одно место для всей инфы о водителе. Плотно связано с проектом про `unique-drivers`.
2) Разобраться с парками и жесткой привязке СМЗ курьеров к паркам.

Про рейтинг (и примерно здесь же активность, лояльность, баланс и тд):
Сейчас рейтинг маппится к unique_driver_id и есть работа по перетаскиванию его на driver_profile_id.
В будущем есть идеи (будет отдельное арх ревью) по объединению рейтинга по профессиям: "я могу быть хорошим таксистом, но плохим курьером".
![alt text](pictures/rating.png "Примерная схема связи профилей") 

===

MVP1 подробно по деталям:

Преквизиты:
1) Задача нужна для СМЗ и парков, в которых включён любой логистический тариф
2) Есть 2 вида чуваков с тегом `auto_courier`: те, кто реально логистические курьеры и те, кто вообще в такси, но включили себе только доставку и курьер и имеют повышенный приоритет (но в парке доступны и другие тарифы).
3) Надо разрешать смену `авто-курьер->водитель`, только в парках, в которых доступны "таксишные" тарифы. Разрешать смену `водитель->авто-курьер` только в парках, где доступны "логистические" тарифы
4) Можно всех логистических водителей со старта определить в такси (они сами потом перейдут в логистику, если нужно). Что это значит: прописать им `order_provider = taxi`, послать рассылку "если хочешь логистические смены - поменять профессию на авто-курьер", если меняется профессия - менять `order_provider` на `cargo`

Задачи:
1) [Исследовать возможность удаления поля dbdriver.courier_type](https://st.yandex-team.ru/TAXIMETERBACK-12529)
2) [Добавить cargo в orders_provider и перевести автокурьеров на него](https://st.yandex-team.ru/TAXIMETERBACK-12530)
3)  Добавить стадию изменения `orders_provider` в `driver-mode-subscription`
4)  Поднять сервис `contractor-professions`
5)  Поднять в сервисе `contractor-professions` базу профессий
6)  Сделать конфиг 3.0 для провайдеров "в какие профессии может переходить водитель с этими параметрами" (пока будет только таксист и авто-курьер)
7)  Отключить тарифы, которые не соответствуют профессии (если авто-курьер - отключить все, кроме логистических тарифов)
8)  Сделать механизм заморозки водителя через сервис `blocklist`
9)  Сделать диагностику "тарифы не подходят вашей профессии"
10)  Сделать отдельные режимы работы для профессий таксист и авто-курьер

**Какое изменение нагрузки планируется?**

1) Сперва нагрузку дают только авто-курьеры 
2) Нагрузку дают все СМЗ
3) Нагрузка от всех исполнителей

+ нагрузка от Саморегов 

**Активно ли будет изменяться сервис?**

Сервис contractor-professions - да, пока не придем к великому будущему. Симстема тоже будет расширяться.
Конфиги и общая система - да, в соответсвии с планом.
