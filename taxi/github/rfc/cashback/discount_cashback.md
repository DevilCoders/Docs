## Проблема
В процессинге в пушах нужно отображать количество кэшбэка, которое пользователь получил за поездку, но так как из processing делать дополнительные походы в другие ручки нельзя, то нужно придумать что-то другое. 

## Решение
- Добавляем новое поле: `discount_cashback` (маркетинговый кэшбэк) в мапу `current_prices` в order_proc;
- При создании заказа, получении нового current cost и завершении заказа мы будем обновлять состояние этого поля. А processing будет просто брать значение этого поля для пуша. Возможно кто-то еще будет просто брать это поле, вместо его ручного вычисления.

Список мест, где нужно будет обновлять кэшбэк: https://wiki.yandex-team.ru/users/aliev-r/current-prices/#m-triggeryobnovlenija

Сейчас есть задача на создание stq, которая будет вызываться на эти тригеры: https://st.yandex-team.ru/TAXIBACKEND-31068

## Реализация решения с `current_prices`
### Структура
Мапа с параметрами. Добавляем в мапу новое поле `discount_cashback`
```js
{
  "current_prices": {
  	"user_total_price": 100.0, // общая стоимость заказа для юзера. Сейчас поездка + кешбек. Если будет что-то еще, должно входить тоже. Ей может пользоваться антифрод.
  	"user_total_display_price": 100.0, // общая цена для показа юзеру. Ее мы будем отдавать в totw и order-fields. Специально разделяем переменную для антифрода и для отображения: задачи разные и значения могут оказаться разные
  	"cashback_price": 10.0, // Стоимость отдельной услуги кешбека. Пока не нужна, но может пригодиться.
  	"kind": "prediction"|"fixed"|"taximeter"|"final_cost", // детали ниже
        "discount_cashback": 5.0 // количество маркетингового кэшбэка, который за счет компании
  }
}
```
Более подробное о current_prices можно прочитать здесь: https://github.yandex-team.ru/taxi/rfc/pull/475

### Задачи

#### Задачи необходимые для пуша с кэшбэком:
писать в мапу:
- Добавить эмиттинг меты `discount_cashback` в преобразовании про кешбек после всех скидок, купонов (при фиксе норм пользоваться заэмиченным кэшбэком, иначе нужно вычислять кэшбэк с помощью рейта) (new_pricing, 2-3d)
- В requestconfirm после расчета cost и cashback_cost записать последнюю версию (закрытие заказ, backend-cpp, 3-4d)
- При отмене тоже обновлять маркетинговый кэшбэк в мапе (обнулять маркетинговый кэшбэк даже при платной отмене) (backend-cpp, 2-3d)

Читать из мапы:
- В processing брать значение кэшбэка из order_proc.current_prices.cashback_price/discount_cashback (processing, 2d)

Когда будет готова stq обработки тригеров:
- Обработчик сброса на кеш (2d)
- Обработчик создания заказа (2d)
- Обработчик назначения водителя (2d)
- Обработчик триггера обновления цены (2d)

#### Доп задачи:
писать в мапу:
- Протягивать мапу через сервис мультикласса: в `ordercommit` писать варианты по каждому классу, в backend-py2 - забирать нужный (задача уже есть: https://st.yandex-team.ru/TAXIBACKEND-30674, но еще не сделана, 3-4d)
