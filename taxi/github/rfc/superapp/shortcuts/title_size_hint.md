# "size hint" для заголовка шорткатов

## Проблема

В шорткатах бекенд целиком отвечает за разметку, клиент лишь "отображает" пришедшую с бека сетку. Из-за этого мы попадаем в ситуацию, когда длинный адрес размещается в минимально возможном шорткате, и адрес тяжело прочитать. Для некоторых шорткатов это неприемлимо

## Задача

Определить размер шортката так, чтобы на пользовательском устройстве не было переноса или сокращения при отображении заголовка.

## Решение

Клиент присылает размеры символов mdash и ndash в условных единицах (положительное рациональное число), а также длинну "юнита" (т.е. одного квадрата в сетке) в тех же единицах. Бекенд использует эту информацию для расчета размера шортката (в зависимости от длины заголовка)

## Альтернативы

#### Ширина эталонной строки

Очень костыльно.

#### Посылать больше информации с клиента

Например, посылать font-family, font-size и title-textbox-size-in-pixels-for-1-unit (названия выбраны чтобы сразу было понятно о чем речь).

Бекенд по аргументам (font-family, font-size, title_length) считает сколько пикселей занимает заколовок, и делит на title-textbox-size-in-pixels-for-1-unit.

Такое решение имеет ряд проблем:
* Что если клиент присылает неизвестный шрифт?
* Нет гарантии что (font-famility, font-size) дают точную ширину символа в пикселях
* Всё ещё весьма неточно и примерно

#### Присылать несколько вариантов размеров шорткатов, клиент сам подбирает нужный

Переносит ответственность за сетку на клиента, мы от этого старательно уходим.

#### Рендеринг на бекенде

Рендеринг на беке может сильно отличаться от клиентского.