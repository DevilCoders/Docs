# Продуктовое описание

Нужно уметь озаглавливать коллекции в шторе и делать разделители между секциями. Сейчас это сделано костылём — через шорткат с белым фоном и title. Нужно сделать нативные заголовки и разделители между секциями

Макет предполагает возможность кликабельного заголовка — при проектировании заложить такую возможность, но в MVP не реализовывать.
Действие по нажатию — произвольное (диплинк или нативный action перехода куда-либо: на карту, в раздел меню, в штору еды/лавки)

Полезные ссылки:

* taxiproject: https://st.yandex-team.ru/TAXIPROJECTS-1773
* figma: https://www.figma.com/file/W8vQ6UeMPTUOz1YjXsw5Wf/%D0%AF%D0%BD%D0%B4%D0%B5%D0%BA%D1%81-Go?node-id=977%3A2317
* jing: https://jing.yandex-team.ru/files/privet/2020-09-03T08:46:04Z.7f8122a.png

## Что я вижу на макетах

Макеты требуют поддержки трех фичей:
1) Нужно уметь отображать заголовок секции не-шорткатом (multiline-текст — отдельная задача на клиентах, 2-3д)
2) Заголовок может состоять из нескольких элементов, среди них могут быть "кликабельные" [проработка отдельно]
3) Пространство между секциями может выглядеть по-разному: "белое", "серое", в комментариях yurabolotov@ просит предположить прозрачный. Причем между разными секциями пространство может выглядить по-разному


## Предлагаемое решение

### Явно задаем заголовок секции в API


### 1) Заголовок секции не-шорткатов

Для всех типов секций (`buttons_container`, `items_linear_grid`, `header_linear_grid`) добавляем свойство `header`, в нем задаем свойство `title` в формате attributed_text:

```json
{
    "...": "...",
    "sections": [
        { "...": "..." }
        {
            "type": "items_linear_grid",
            "shortcut_ids": ["..."],
            "header": {
                "title": { // attributed text
                    "items": [
                        {
                        "type": "text",
                        "text": "Ленивое утро субботы",
                        "font_size": 14,
                        "font_weight": "bold",
                        "font_style": "italic",
                        "color": "#000000"
                        }
                    ]
                }
            }
        },
    ]
}
```

#### Обратная совместимость и поддержка на клиенте

Старые клиенты не смотрят в поле `header`, можно присылать всем.

### 2) Заголовок может состоять из нескольких элементов, среди них могут быть "кликабельные" [будет проработано отдельно]

### 3) Кастомизация пространства между секциями

Разделителем считается пространство **после** секции.

> Пространство между секциями может выглядеть по-разному: "белое", "серое", в комментариях yurabolotov@ просит предположить прозрачный. Причем между разными секциями пространство может выглядить по-разному

Сейчас мы умеем изменять пространство только между *типами* секций через https://tariff-editor.taxi.yandex-team.ru/experiments3/show/inter_sections_spaces:
```json
{
  "separators": [
    {
      "top": "header_linear_grid",
      "space": 0,
      "bottom": "buttons_container"
    }
  ]
}
```

Предлагается:
1) Задепрекейтить эксперимент inter_section_spaces, оптимальные значения захардкодить на клиенте
2) Снабдить секции "тегами", варианты их представления хранить на клиенте.

На данный момент вводим один тег: `gray_separator`, которым продуктово планируется снабжать органику

```json
{
    "sections": [
        {
            "type": "items_linear_grid",
            "shortcut_ids": [ "..."],
            "tags": ["gray_separator"]
        }
    ]
}
```