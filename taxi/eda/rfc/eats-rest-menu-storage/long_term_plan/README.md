# Долгосрочный план развития меню

## Интеграция с корой (апрель - май 2022)

Эпик: https://st.yandex-team.ru/EDACAT-2712

### Цель

Отстование меню в rest-menu-storage от коры не превышает нескольких минут

### Шаги

1) Исследуем ложные апдейты
2) Увериличиваем количество воркеров в коре

## Запуск поиска (апрель - май 2022)

Эпик: https://st.yandex-team.ru/EDACAT-2383

### Цель

Поиск в меню и по каталогу не использует ElasticSearch

### Шаги 

1) Доделываем задачу с форсированной переиндексацией
2) Наполняем поисковый индекс
3) Запускаем поиск по меню ресторанов
4) Запускаем поиск с главной

### Дедлайн

19 мая

## Клиентское меню без динамических категорий (май - июнь 2022)

Эпик: https://st.yandex-team.ru/EDACAT-2706

### Цель

Клиентский продукт не ходит в кору за айтемами (разгружаем кору, ручку get-items).

NOTE: Поход в menu/retrive в коре тут сохранится

### Шаги

1) Завозим КБЖУ в rest-menu-storage
2) Переключаем источник данных по меню в eats-restaurant-menu (без дин категорий)
3) Переключаем источник данных по меню в eats-cart
4) Переключаем источник данных по меню в eats-upsell
5) Переключаем источник данных в коре на чекауте

### Дедлайн

В режиме сверки ответов плюсового меню и корового 22 мая
На все работы 2 июня

## Динамические категории в клиентском меню (май - июнь 2022) [ЗАБЛОКИРОВАНО до 11.05]

### Цель

Никто не ходит в ручку menu/retrive

1) Генерируем с продуктом ожидания по динамическим категориям
2) Делаем новые проекты или переносим категории как есть, будет ясно ближе к середине мая

## RestApp + RestMenuStorage (апрель - июнь 2022)

Эпик: https://st.yandex-team.ru/EDACAT-2707

### Цель

Партнерские данные попадают в клиентский продукт без участия коры

### Шаги

1) Исследуем возможность интеграции рестапа и стораджа меню
2) Реализуем двойную синхронизацию из рестапа в кору + menu-storage

### Дедлайн

9 июня

## Перевозим офлайн процессы (июль 2022)

### Цель

Оффлайн процессы - выгрузки, аналитика, не завязаны на кору

### Шаги

1) Делаем выгрузку в yt таблиц rest-menu-storage
2) Делаем выгрузку айтемов в s3
3) Ищем текущих потребителей. В YT их можно найти
[так](https://yql.yandex-team.ru/Operations/YmAIttJwbLI3E61KwZvhwkQfVtmuEAx_C97PkRMwJKY=)
4) Просим/помогаем коллегам переехать

NOTE:
Сейчас выгрузкой айтемов и категорий в ыте пользуются
- Аналитики
- Карты
- FTS
- Крипта
Так же по коду было замечено что туда ходит ML [так](https://cs.yandex-team.ru/#!bigfood%2Fplace_menu_item,,,arcadia,,200)

## Интеграция + RestMenuStorage (июль - сентябрь 2022)

### Цель

Партнерский данные попадают в клиентский продукт без участия коры

### Шаги

Коллеги из интерации на неделе с 25 апреля хотят запустить архревью новой интеграции для ресторано.
Архитектура будет аналогичной интеграции в ретейле.
Есть сервис который запускает парсинг, координация происходит через
Procaas, резульат сохраняется в s3.
Так что согласовать формат нужно будет довольно скоро.
Интегрироваться в Procaas по готовности.

### Полезные ссылки

[Диаграмы для ретейла](https://wiki.yandex-team.ru/users/ivan-kachmar/erp/)
[Документация для ретейла](https://wiki.yandex-team.ru/eda/integration/documentation/nomenclature-collector-integration/collector-to-integration-communicatios/#nomenklatura)

## Админка (июль - август 2022)

### Цель

Контент может редактировать меню без участия коры

### Шаги

1) Разработка фронта. В минимальном приближении - показать меюн и отредактировать айтемы можно уже
существующими в rest-menu-storage ручками.
2) Разарботка специфичной функциональности - копирований айтемов/меню.


# План

Это не настоящий Гант, диаграммы нужны только,
чтобы продемонстрировать последовательность (и параллельность работ).

## Q2

![q2](./img/q2.png)

<!--
@startgantt img/q2.png

language ru

Project starts 2022-04-11

[Интеграция с корой] starts 2022-04-11 and ends 2022-04-15
[Запуск поиска] starts 2022-04-11 and ends 2022-05-31
[Меню без дин категорий] starts 2022-04-25 and ends 2022-05-31
[Динамические категории] starts 2022-06-01 and ends 2022-06-30
[RestApp + RestMenuStorage] starts 2022-04-25 and ends 2022-06-30

@endgantt
-->

## Q3

![q3](./img/q3.png)

<!--
@startgantt img/q3.png

language ru

Project starts 2022-07-01

[Оффлайн процессы] starts 2022-07-01 and ends 2022-07-15
[Админка] starts 2022-07-15 and ends 2022-08-31
[Интеграция] starts 2022-07-01 and ends 2022-09-30

@endgantt
-->
