# Переезд адресов
## Проблемы:
Для реализации бизнес фитч связанных с адресами, нам нужно сделать много доработок в проекте. 
Но вся функциональность которая нам нужна уже есть в сервисах такси:
1. persaggest
2. routhistory2) Меняем АПИ что бы уйти от обязательности ID заказа

3. umlaas-geo
4. userplaces

Что бы делать меньше доработок и не писать свой велосипед, решили ввнедрить эти сервисы
wiki https://wiki.yandex-team.ru/eda/team/backend/platformteams/cc/addresses/

## Решение:
1) Разделяем сущность адреса на 2 сущности, "Адрес заказа", "Избранные адреса"
Все адреса которые у нас сейчас лежат в базе, по какой то логике будут разделены по следующей логике:
Адреса на которые было сделано 2 и более заазов за последний год переходят в избранные, остальные(за 3 месяца)  в адреса заказа.

2) Меняем АПИ что бы уйти от обязательности ID адреса в заказе
3) Меняем клиенты

### Адрес заказа
Определение: Адрес который хранится временно и в течении 3х месяцев будет показываться в саджестах пользователю. 
По истечению этого времени, если пользователь больше на этот адрес не делал заказы он уйдет из саджестов
Хранение: routhistory
Особенности: Отсутствие ID адреса

### Избранные адреса
Определение: Адреса которые самостоятельно добавил пользователь в свой список.
Хранение: Паспортный сервис избранных адресов(доступ к нему будет чере core и userplaces)
Особенности: Есть ID и текстовое пользовательское описание адреса



## Изменение в API: (подробнее будет описано для каждой ручки в отдельном rfc)
1. Изменяется api/v2/cart/go-checkout
2. Изменяется POST api/v1/orders (DTO адреса будет расширено uri, id будет опциональным, может немного изменено)





   
