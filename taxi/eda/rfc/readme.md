## Что это
Репозиторий для описаний новых фичей с точки зрения технической реализации команды Яндекс.Еда.

### Что такое RFC
RFC - request for comments - просьба посмотреть и откомментировать, проревьюить. 
В данном случае вы предлагаете техническое решение по новой фиче, которое затрагивает другие команды.  

RFC призвано решить проблему разработки больших фичей (например, встроить рекламу в выдачу). После инициации проекта, на этапе сбора требований, задача автора RFC, например техлида проекта, продумать решение и зафиксировать его в RFC. Техлид должен описать как он хочет решить продуктовую задачу, например, реализовать новый микросервис, интегрировать его с существующими, описать API, а мобайл или веб-разработчики их использование клиентом и логику интерфейса.

RFC обязательно нужно если в рамках новой фичи:
* Есть взаимодействие с сервисами других команд
* Если есть взаимодействие с мобайл или веб

### Чем RFC не является
RFC не является документацией, это лишь предложение к изменению. Использовать репозиторий как хранилище документации не стоит. Но можно использовать его для понимания того, почему первые версии архитектур были именно такими, как они менялись.

RFC не заменяет тикет на арх.ревью, это разные сущности. RFC может быть предпосылкой тикета на архревью и тикет может ссылаться на RFC, но если вы делаете сервис, который нужен только внутри команды, то RFC пишется по желанию команды и может отсутствовать, т.к. не влияет на работу других команд.

---

## Зачем
1. В Аркадии значительно удобнее ревьюить архитектуру, чем на wiki или в трекере.
2. Желающие смогут следить за появлением новых сервисов и важных изменений в Еде (кнопка Watch сверху), это поможет избежать дублирования усилий.
3. Ревью может проходить качественнее, если оно более публично.

---

## Как с этим работать
### Кто ответственный за RFC
При поступлении фичи, из команды выбирается разработчик, ответственный за техническую реализацию задачи и за создание RFC, далее техлид. Техлида выбирает тимлид из старших разработчиков.

### Кто инициирует создание RFC
1. Техлид фичи
2. Смежная команда, чтобы заранее согласовать влияющие на её сервисы изменения
3. QA, чтобы заранее понимать что и как тестировать
4. Мобильные и веб разработчики, чтобы знать какие эндпоинты создаются и описать как клиент будет с ними работать

### Я предлагаю изменение
1. Делаете пул-реквест с описанием фичи в отдельную папку вашего сервиса. Описание фичи создается в сервисе, ближайшем по домену.
2. В пул-реквесте в дире прикладываете все нужные файлы - markdown описание фичи, схемы в виде картинок, описание API в yaml и тп. Под фичу можно создать свою папку внутри сервиса, чтобы консолидировать файлики.
3. В пул-реквест призываете ревьюеров. Например, это коллеги из смежной команды, QA, мобильные или веб разработчики - любые заинтересованные в изменении коллеги, которые должны согласится с проектом фичи.
4. После апрува нужными ревьюерами мержите пул-реквест.

### Я ревьюю изменение
1. Смотреть markdown файлы в диффе удобно отрендеренными: над файлом диффа есть кнопка `Side by side`
2. Если вы ревьюите что-то из интереса, то там, где вас не добавляли в ревьюеры, пожалуйста, будьте аккуратны с комментариями: если все будут ревьюить всех, то есть риск сильного затягивания ревью.

### Описание фичи
В описание фичи должно входить:
1. Краткое описание фичи  
Пишет - Техлид  
Стоит указать продуктовые требования, какую задачу продукта мы решаем. Можно добавить ссылку на продуктовое описание.
2. Предлагаемая реализация  
Пишут - Техлид\Backend разработчик  
Описываете как предлагается реализовать фичу, какие сервисы задействуются, как изменяются
3. Use cases и логика работы с API  
Пишут - Техлид\Backend\Frontend разработчики  
Описывается логика на клиенте, логика работы с эндпоинтами, какие API и как используются для реализации фичи

### Структура RFC
>Корень\Список сервисов
>>Папка сервиса
>>>Описание фичи\папка фичи, если есть связанные картинки, yaml итд

### Картинки

	![Альтернативный текст](/путь/к/изображению.jpg)

### puml

Пока не поддерживается, но ведется разработка в [тикете](https://st.yandex-team.ru/DEVTOOLSSUPPORT-9929)  
Как обходное решение - делать в вики и вставлять картинкой, вложив картинку в репозиторий.

Еще можно подсмотреть как сделал Георгий [здесь](https://a.yandex-team.ru/arc/trunk/arcadia/junk/nk2ge5k/notes/recommender/review.md)

### Чатик, вопросы, предложения, поиск ответственных

[Чат в слеке](https://foodfox-team.slack.com/archives/C02E45DH9UM)