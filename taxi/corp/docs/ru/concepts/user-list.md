# Список пользователей клиента

Запрос позволяет получить список пользователей клиента.

## Синтаксис запроса

```
GET https://business.taxi.yandex.ru/api/1.0/client/{идентификатор клиента}/user?
department_id=<ID подразделения>  
&limit=<количество записей>
&skip=<количество пропускаемых записей>
&sorting_field=<поле для сортировки>
&sorting_direction=<направление сортировки>
&search=<фильтр списка>
```

{% include [order-create-headers-p](../_includes/concepts/order-create/id-order-create/headers-p.md) %}


#### Authorization
OAuth-токен. Процесс получения токена описан в разделе [Начало работы](quickstart.md).

Запрос может содержать следующие необязательные аргументы:

- `department_id` — ID подразделения, по которому можно отфильтровать сотрудников.  Если значение равно `null`, возвращаются сотрудники, находящиеся в корневом подразделении. При отсутствии данного параметра возвращаются все сотрудники независимо от подразделения.
    
- `limit` — количество выводимых записей. При отсутствии данного параметра возвращается информация о первых 100 записях.
    
- `skip` — количество пропускаемых записей. При отсутствии данного параметра возвращается информация начиная с первой записи.
    
- `sorting_field` — имя поля, по которому будет производиться сортировка.
    
- `sorting_direction` — направление сортировки. Допустимы следующие значения:
    - `1` — сортировка по возрастанию.
    - `-1` — сортировка по убыванию.
    
- `search` — дополнительный фильтр списка сотрудников (по полному совпадению в любом из полей: `nickname`, `fullname`, `phone` или `email`).
    

## Описание полей ответа

В ответе могут содержаться следующие поля:

Поле | Описание | Формат
----- | ----- | -----
`items` | Список пользователей клиента. | Массив
`phone` | Телефонный номер пользователя. | Строка
`role` | Блок информации о роли пользователя. | Объект
`role_id` | Идентификатор роли пользователя. | Строка
`cost_center` | Название [кост-центра клиента](cost-center-create-old.md). | Строка
`cost_centers_id` | id набора [настроек кост-центров затрат](cost-center-settings-list.md). Необязательное поле. | Строка
`nickname` | Краткое имя пользователя. | Строка
`fullname` | Полное имя пользователя. | Строка
`department_id` | Идентификационный номер подразделения. | Строка
`_id` | Идентификатор пользователя. | Строка
`is_active` | Признак активности пользователя. Неактивный пользователь не имеет возможности самостоятельного заказа и на его имя нельзя заказать поездку. | Логические
`email` | Адрес электронной почты пользователя. | Строка
`spent` | Сумма, потраченная на заказы в данном месяце. | Число
`sorting_field` | Поле, по которому проводилась сортировка. | Строка
`sorting_direction` | Направление сортировки. Возможные значения:<br/>- `1` — сортировка по возрастанию.<br/>- `-1` — сортировка по убыванию. | Число
`amount` | Количество найденных записей. | Число
`limit` | Количество возвращенных записей. | Число
`skip` | Количество пропущенных записей. | Число
`search` | Фильтр списка пользователей. | Строка


## Пример запроса

```
GET https://business.taxi.yandex.ru/api/1.0/client/a2...d09/user
...
Authorization: <OAuth-токен>
```

## Пример ответа

Пример ответа на данный запрос выглядит следующим образом:

```no-highlight
{
  "items": [
    {
      "phone": "+75551223455",
      "role": {
        "role_id": "1e0202a78f894ad38127aecf31140fbd"
      },
      "cost_center": "",
      "cost_centers_id": "123...fef",
      "nickname": "",
      "fullname": "",
      "department_id": "233e725b0511459da7b38cb24f2d8fd7",
      "_id": "5a60b55b31b6437fae7991af44c0e087",
      "is_active": true,
      "email": "",
      "spent": 0
    },
    ...
    {
      "phone": "+79222222222",
      "role": {
        "role_id": "1e02r43d3d43dddrtt540fbd"
      },
      "cost_center": "",
      "nickname": "",
      "fullname": "тестовый",
      "department_id": "233e725b0511459da7b38cb24f2d8fd7",  
      "_id": "686f8fc56c174dc08616f9563afc090a",
      "is_active": false,
      "email": "test@test.ru",
      "spent": 0
    }
  ],
  "sorting_direction": 1,
  "amount": 33,
  "limit": 100,
  "skip": 0,
  "sorting_field": "fullname",
  "search": "search_string"
}
```

## Возможные коды ответа

Ответ на данный запрос может содержать следующие стандартные HTTP-коды:

- `200` — запрос выполнен успешно.
- `400` — в запросе был передан неизвестный параметр или параметр с недопустимым значением.
- `401` — был передан неверный [OAuth-токен](quickstart.md).
- `403` — у клиента не хватает прав на выполнение данного запроса.

