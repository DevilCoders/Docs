# Создание новой роли

Запрос позволяет создать запись о новой роли пользователя.

## Синтаксис запроса

```
POST https://business.taxi.yandex.ru/api/1.0/client/{идентификатор клиента}/role/
```

{% include [order-create-headers-p](../_includes/concepts/order-create/id-order-create/headers-p.md) %}


#### Authorization
OAuth-токен. Процесс получения токена описан в разделе [Начало работы](quickstart.md).

Данные о новой роли передаются в теле запроса в формате JSON:

Поле | Описание | Формат
----- | ----- | -----
`name` | Название новой роли. Данный параметр должен быть уникальным относительно уже существующих ролей клиента. | Строка
`classes` | Список доступных тарифов. | Массив
`limit` | Ограничения на сумму, которую пользователь может потратить на поездки за календарный месяц. | Строка
`department_id` | Идентификационный номер подразделения. | Строка
`no_specific_limit` | Признак того, что у данной роли отсутствует ограничение на общую стоимость поездок. Возможные значения:<br/>- `true` — лимит отсутствует. Значение, переданное в параметре `limit` использоваться не будет.<br/>- `false` — лимит присутствует.<br/><br/>Необязательное поле. | Логическое
`restrictions` | Блок с информацией об ограничениях роли. | Массив объектов
`type` | Тип ограничения. Возможные значения:<br/>- `weekly_date` — ограничения по дням недели.<br/>- `range_date` — ограничения по дате. | Строка
`days` | Дни недели, в которые доступен заказ поездки. Возможные значения:<br/>- `mo` — понедельник.<br/>- `tu` — вторник.<br/>- `we` — среда.<br/>- `th` — четверг.<br/>- `fr` — пятница.<br/>- `sa` — суббота.<br/>- `su` — воскресенье.<br/><br/>Поле используется только для ограничения с типом `weekly_date`. | Массив строк
`start_time` | Время, начиная с которого будет доступен заказ. Формат значений: `ЧЧ:ММ:СС`.<br/><br/>Поле используется только для ограничения с типом `weekly_date`. | Строка
`end_time` | Время, до которого будет доступен заказ. Формат значений: `ЧЧ:ММ:СС`.<br/><br/>Поле используется только для ограничения с типом `weekly_date`. | Строка
`start_date` | Дата, начиная с которой будет доступен заказ.<br/><br/>Формат значений: `YYYY-MM-DDThh:mm:ss`<br/><br/>Поле используется только для ограничения с типом `range_date`. | Строка
`end_date` | Дата, до которой будет доступен заказ.<br/><br/>Формат значений: `YYYY-MM-DDThh:mm:ss`<br/><br/>Поле используется только для ограничения с типом `range_date`. | Строка
`geo_restrictions` | Блок с информацией о разрешенных районах поездок. | Массив объектов
`geo_restrictions.source` | Идентификатор района начала поездки.<br/><br/>Если поле не задано, то разрешен любой район.<br/><br/>Должно быть задано хотя бы одно из полей `source` и `destination`. | Строка
`geo_restrictions.destination` | Идентификатор района конца поездки.<br/><br/>Если поле не задано, то разрешен любой район.<br/><br/>Должно быть задано хотя бы одно из полей `source` и `destination`. | Строка


## Описание полей ответа

В ответе могут содержаться следующие поля:

Поле | Описание | Формат
----- | ----- | -----
`_id` | Идентификационный номер роли. | Строка


## Примеры запросов

Создание роли с ограничением по дням недели и районам поездок.

```
POST https://business.taxi.yandex.ru/api/1.0/client/a2...d09/role/
...
Authorization: <OAuth-токен>

    {
            "name": "Тестовая роль 1",
            "classes": [
                "econom"
            ],
            "limit": "100000",
            "department_id": "233e725b0511459da7b38cb24f2d8fd7",
            "restrictions": [
                {
                    "type":"weekly_date",
                    "end_time":"22:00:00",
                    "start_time":"23:59:00",
                    "days":["mo","tu","fr"]
                }
            ],
            "geo_restrictions": [
                {
                    "source": "geo_restriction_id1", 
                    "destination": "geo_restriction_id2"
                },
                {
                    "source": "geo_restriction_id3"
                }
            ]
    }
```

Создание роли с ограничением по датам

```
POST https://business.taxi.yandex.ru/api/1.0/client/a2...d09/role/
...
Authorization: <OAuth-токен>

    {
            "name": "Тестовая роль 2",
            "classes": [
                "econom"
            ],
            "limit": "100000",
            "department_id": "233e725b0511459da7b38cb24f2d8fd7", 
            "restrictions": [
                {
                  "type": "range_date",
                  "start_date": "2019-01-15T14:35:00",
                  "'end_date": "2019-06-15T14:35:00"
                }
            ]
    }
```

## Пример ответа

Пример ответа на данный запрос выглядит следующим образом:

```no-highlight
{
        "_id": "3caa3587675b49deb62e3286b753b05e"
}
```

## Возможные коды ответа

Ответ на данный запрос может содержать следующие стандартные HTTP-коды:

- `200` — запрос выполнен успешно.
- `400` — в запросе был передан неизвестный параметр или параметр с недопустимым значением.
- `401` — был передан неверный [OAuth-токен](quickstart.md).
- `403` — у клиента не хватает прав на выполнение данного запроса.
- `406` — запись с указанными данными уже существует.

