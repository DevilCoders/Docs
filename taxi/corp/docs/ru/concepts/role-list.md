# Список ролей сотрудников

Запрос позволяет получить информацию обо всех доступных ролях сотрудников.

## Синтаксис запроса

```
GET https://business.taxi.yandex.ru/api/1.0/client/{идентификатор клиента}/role?
department_id=<ID подразделения> 
&limit=<количество записей>
&skip=<количество пропускаемых записей>
&sorting_field=<поле для сортировки>
&sorting_direction=<направление сортировки>
```

{% include [order-create-headers-p](../_includes/concepts/order-create/id-order-create/headers-p.md) %}


#### Authorization
OAuth-токен. Процесс получения токена описан в разделе [Начало работы](quickstart.md).

Запрос может содержать следующие необязательные аргументы:

- `department_id` — ID подразделения, по которому можно отфильтровать роли.  Если значение равно `null`, возвращаются роли, находящиеся в корневом подразделении. При отсутствии данного параметра возвращаются все роли независимо от подразделения.
    
- `limit` — количество выводимых записей. При отсутствии данного параметра возвращается информация о первых 100 записях.
    
- `skip` — количество пропускаемых записей. При отсутствии данного параметра возвращается информация начиная с первой записи.
    
- `sorting_field` — имя поля, по которому будет производиться сортировка.
    
- `sorting_direction` — направление сортировки. Допустимы следующие значения:
    - `1` — сортировка по возрастанию.
    - `-1` — сортировка по убыванию.
    

## Описание полей ответа

В ответе могут содержаться следующие поля:

Поле | Описание | Формат
----- | ----- | -----
`items` | Список ролей. | Массив
`name` | Название роли сотрудника. | Строка
`putable` | Признак самостоятельного заказа через приложение. В случае значения `false` пользователи с данной ролью смогут заказывать такси только через менеджеров. | Логическое
`classes` | Доступные тарифы. | Массив
`limit` | Ограничения на сумму, которую пользователь может потратить на поездки за месяц. | Число
`deletable` | Возможность удаления роли. | Логическое
`_id` | Идентификатор роли. | Строка
`department_id` | Идентификационный номер подразделения. | Строка
`no_specific_limit` | Признак того, что у данной роли отсутствует ограничение на общую стоимость поездок. Возможные значения:<br/>- `true` — лимит отсутствует. Значение, переданное в параметре `limit` использоваться не будет.<br/>- `false` — лимит присутствует.<br/><br/>Необязательное поле. | Логическое
`restrictions` | Блок с информацией об ограничениях роли. | Массив объектов
`type` | Тип ограничения. Возможные значения:<br/>- `weekly_date` — ограничения по дням недели.<br/>- `range_date` — ограничения по дате. | Строка
`days` | Дни недели, в которые доступен заказ поездки. Возможные значения:<br/>- `mo` — понедельник.<br/>- `tu` — вторник.<br/>- `we` — среда.<br/>- `th` — четверг.<br/>- `fr` — пятница.<br/>- `sa` — суббота.<br/>- `su` — воскресенье.<br/><br/>Поле используется только для ограничения с типом `weekly_date`. | Массив строк
`start_time` | Время, начиная с которого будет доступен заказ. Формат значений: `ЧЧ:ММ:СС`.<br/><br/>Поле используется только для ограничения с типом `weekly_date`. | Строка
`end_time` | Время, до которого будет доступен заказ. Формат значений: `ЧЧ:ММ:СС`.<br/><br/>Поле используется только для ограничения с типом `weekly_date`. | Строка
`start_date` | Дата, начиная с которой будет доступен заказ.<br/><br/>Формат значений: `YYYY-MM-DDThh:mm:ss`<br/><br/>Поле используется только для ограничения с типом `range_date`. | Строка
`end_date` | Дата, до которой будет доступен заказ.<br/><br/>Формат значений: `YYYY-MM-DDThh:mm:ss`<br/><br/>Поле используется только для ограничения с типом `range_date`. | Строка
`geo_restrictions` | Блок с информацией о разрешенных районах поездок. | Массив объектов`geo_restrictions.source` | Идентификатор района начала поездки.<br/><br/>Если поле не задано, то разрешен любой район.<br/><br/>Должно быть задано хотя бы одно из полей `source` и `destination`. | Строка`geo_restrictions.destination` | Идентификатор района конца поездки.<br/><br/>Если поле не задано, то разрешен любой район.<br/><br/>Должно быть задано хотя бы одно из полей `source` и `destination`. | Строка
`sorting_direction` | Направление сортировки. Возможные значения:<br/>- `1` — сортировка по возрастанию.<br/>- `-1` — сортировка по убыванию. | Число
`amount` | Количество найденных записей. | Число
`sorting_field` | Поле, по которому проводилась сортировка. | Строка
`skip` | Количество пропущенных записей. | Число
`limit` | Количество возвращенных записей. | Число


## Пример запроса

```
GET https://business.taxi.yandex.ru/api/1.0/client/a2...d09/role
...
Authorization: <OAuth-токен>
```

## Пример ответа

Пример ответа на данный запрос выглядит следующим образом:

```no-highlight
{
  "items": [
    {
      "name": "Тестовая роль 1",
      "putable": false,
      "classes": [
        "vip",
        "minivan",
        "econom",
        "business",
        "comfortplus"
      ],
      "limit": 0,
      "deletable": false,
      "_id": "1e0202a78f894ad38127aecf31140fbd",
      "department_id": "233e725b0511459da7b38cb24f2d8fd7"
    },
    {
      "name": "Тестовая роль 2",
      "putable": true,
      "classes": [],
      "limit": 5000,
      "deletable": true,
      "_id": "437f48bb67e448d88750b886cdfaf960",
      "department_id": "233e725b0511459da7b38cb24f2d8fd7",
      "restrictions": [
             {
                 "type":"weekly_date",
                 "end_time":"22:00:00",
                 "start_time":"23:59:00",
                 "days":["mo","tu","fr"]
             }
         ],
      "geo_restrictions": [
             {
                 "source": "geo_restriction_id1", 
                 "destination": "geo_restriction_id2"
             },
             {
                 "source": "geo_restriction_id3"
             }
         ]
    },
    {
      "name": "Тестовая роль 3",
      "putable": true,
      "classes": [
        "econom"
      ],
      "limit": 3000,
      "deletable": true,
      "_id": "9acfdf0a7c9a4dbb85c0601e422f25d9"
      "department_id": "233e725b0511459da7b38cb24f2d8fd7",
      "no_specific_limit": true
    }
  ],
  "sorting_direction": 1,
  "amount": 6,
  "limit": 100,
  "skip": 0,
  "sorting_field": "name"
}
```

## Возможные коды ответа

Ответ на данный запрос может содержать следующие стандартные HTTP-коды:

- `200` — запрос выполнен успешно.
- `400` — в запросе был передан неизвестный параметр.
- `401` — был передан неверный [OAuth-токен](quickstart.md).
- `403` — у клиента не хватает прав на выполнение данного запроса.

