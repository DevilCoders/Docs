# Список заказов

Запрос позволяет получить информацию обо всех заказах клиента.

## Синтаксис запроса

```
GET https://business.taxi.yandex.ru/api/1.0/client/{идентификатор клиента}/order? 
limit=<количество записей>
&skip=<количество пропускаемых записей>
&sorting_field=<поле для сортировки>
&sorting_direction=<направление сортировки>
```

{% include [order-create-headers-p](../_includes/concepts/order-create/id-order-create/headers-p.md) %}


#### Authorization
OAuth-токен. Процесс получения токена описан в разделе [Начало работы](quickstart.md).

Запрос может содержать следующие необязательные аргументы:

- `limit` — количество выводимых записей. При отсутствии данного параметра возвращается информация о первых 100 записях.
    
- `skip` — количество пропускаемых записей. При отсутствии данного параметра возвращается информация начиная с первой записи.
    
- `sorting_field` — имя поля, по которому будет производиться сортировка.
    
- `sorting_direction` — направление сортировки. Допустимы следующие значения:
    - `1` — сортировка по возрастанию.
    - `-1` — сортировка по убыванию.
    

## Описание полей ответа

В ответе могут содержаться следующие поля:

Поле | Описание | Формат
----- | ----- | -----
`items` | Список заказов клиента. | Массив
`status` | Блок статуса заказа. Содержит следующие поля:<br/>- `simple`;<br/>- `full`;<br/>- `description`. | Объект
`simple` | Упрощенный статус заказа. Возможные значения:<br/>- `active` — заказ активен (идет поиск водителя, водитель приехал, заказ выполняется).<br/>- `delayed` — выполнение заказа отложено (заказ не на ближайшее время).<br/>- `finished` — финальный статус (заказ отменен, завершен или его статус уже не изменится). | Строка
`full` | Подробный статус заказа. Возможные значения:<br/>- `search` — заказ создан и осуществляется поиск водителя.<br/>- `driving` — водитель найден и едет к месту подачи автомобиля.<br/>- `waiting` — водитель прибыл и ожидает сотрудника.<br/>- `transporting` — сотрудник сел в машину и находится в пути.<br/>- `complete` — заказ завершен успешно.<br/>- `cancelled` — заказ отменен по инициативе клиента или его сотрудника.<br/>- `failed` — заказ отменен таксопарком, так как водитель не может его выполнить.<br/>- `expired` — статус заказа неизвестен. Данный статус может возвращается, если таксопарк вовремя не прислал данные о состоянии заказа.<br/>- `scheduling` — заказ создан, поиск водителя будет начат за некоторое время до подачи автомобиля.<br/>- `scheduled` — заказ создан, водитель назначен и выедет к сотруднику согласно времени подачи. Заказ в этом статусе может быть изменен. | Строка
`description` | Описание состояния заказа. Возможные значения:<br/>- <q>Такси в пути.</q><br/>- <q>Такси приедет через N минут.</q><br/>- <q>Выполняется заказ.</q><br/>- Пустая строка. Возвращается, если заказ завершен. | Строка
`due_date` | Время, к которому необходимо завершить поездку. Значение соответствует часовому поясу UTC±0.  Формат значений: `YYYY-MM-DDThh:mm:ss(±hhmm)`. | Строка
`corp_user` | Блок с информацией о пользователях, совершающих поездку. | Объект
`user_id` | Идентификатор пользователя клиента. | Строка
`cost_with_vat` | Стоимость поездки с НДС. | Число
`finished_date` | Время фактического завершения поездки. Значение соответствует часовому поясу UTC±0. Формат значений: `YYYY-MM-DDThh:mm:ss(±hhmm)`. | Строка
`source` | Блок адреса подачи автомобиля. | Объект
`fullname` | Полный адрес точки подачи. | Строка
`cost` | Стоимость поездки. | Число
`cost_center` | Название [центра затрат клиента](cost-center-create-old.md). | Строка
`cost_centers` | Новые поля [центров затрат](cost-center-settings-list.md). | Массив
`cost_centers[N].id` | id поля [центров затрат](cost-center-settings-list.md). | Строка
`cost_centers[N].title` | Название поля [центров затрат](cost-center-settings-list.md). | Строка
`cost_centers[N].value` | Значение поля [центров затрат](cost-center-settings-list.md), присланное при создании заказа либо изменённое после создания заказа. | Строка
`_id` | Идентификатор заказа. | Строка
`class` | Тариф поездки. | Строка
`sorting_direction` | Направление сортировки. Возможные значения:<br/>- `1` — сортировка по возрастанию.<br/>- `-1` — сортировка по убыванию. | Число
`amount` | Количество найденных записей. | Число
`limit` | Количество возвращенных записей. | Число
`skip` | Количество пропущенных записей. | Число
`sorting_field` | Поле, по которому проводилась сортировка. | Строка


## Пример запроса

```
GET https://business.taxi.yandex.ru/api/1.0/client/a2...d09/order/?limit=3
...
Authorization: <OAuth-токен>
```

## Пример ответа

Пример ответа на данный запрос выглядит следующим образом:

```no-highlight
{
  "items": [
    {
      "status": {
        "simple": "finished",
        "full": "complete",
        "description": ""
      },
      "due_date": "2016-12-16T14:36:00",
      "corp_user": {
        "user_id": "faf968ec87174da2970c034903256ef3"
      },
      "cost_with_vat": 309.16,
      "finished_date": "2016-12-16T14:45:50",
      "source": {
        "fullname": "Россия, Москва, улица Полины Осипенко, 18к2"
      },
      "cost": 262.0,
      "cost_center": "",
      "cost_centers": [
        {
            "id": "cost_center",
            "title": "Центр затрат",
            "value": "командировка"
        },
        {
            "id": "0123456789abcdef0123456789abcde1",
            "title": "Цель поездки",
            "value": "особая цель"
        }
      ],
      "_id": "4971bcb610224d729728253c8bcb6201",
      "class": "econom"
    },
    {
      "status": {
        "simple": "finished",
        "full": "cancelled",
        "description": ""
      },
      "due_date": "2016-04-28T12:16:00",
      "corp_user": {
        "user_id": "a975c091f1e74b8f9e1c23b5189bafee"
      },
      "source": {
        "fullname": "Россия, Москва, улица Тимура Фрунзе"
      },
      "cost_center": "some cost center",
      "cost_centers": [
        {
            "id": "cost_center",
            "title": "Центр затрат",
            "value": "командировка"
        },
        {
            "id": "0123456789abcdef0123456789abcde1",
            "title": "Цель поездки",
            "value": "отзыв"
        }
      ],
      "_id": "44d359d466944e38ab43353eb8552f48",
      "class": "econom"
    }
  ],
  "sorting_direction": -1,
  "amount": 127,
  "limit": 100,
  "skip": 0,
  "sorting_field": "due_date"
}
```

## Возможные коды ответа

{% include [cost-center-create-possible-answers-code](../_includes/concepts/cost-center-create/id-cost-center-create/possible-answers-code.md) %}


- `200` — запрос выполнен успешно.
- `400` — в запросе был передан неизвестный параметр или параметр с недопустимым значением.
- `401` — был передан неверный [OAuth-токен](quickstart.md).
- `403` — у клиента не хватает прав на выполнение данного запроса.

