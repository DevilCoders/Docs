# Получить информацию о предстоящей поездке

Запрос позволяет узнать предварительную стоимость поездки для разных тарифов и создать оффер на поездку.

## Синтаксис запроса

```
POST https://business.taxi.yandex.ru/api/1.0/estimate
```

{% include [order-create-headers-p](../_includes/concepts/order-create/id-order-create/headers-p.md) %}


#### Authorization
OAuth-токен. Процесс получения токена описан в разделе [Начало работы](quickstart.md).

Данные о заказе передаются в теле запроса в формате JSON:

#|
|| Поле | Описание | Формат ||
|| `route` | Блок информации о маршруте поездки. Координаты поездки указываются в следующием формате: ```route:[[<долгота точки отправления>,<широта точки отправления>],[<долгота точки назначения>,<широта точки назначения>]]``` <br/>Обязательное поле. | Массив ||
|| `requirements` | 

{% cut "Список требований к поездке." %}

Список требований к заказу может варьироваться в зависимости от города. Чтобы узнать поддерживаемые требования, отправьте пустой объект `{}` в теле POST-запроса `https://business.taxi.yandex.ru/client-api/3.0/cities`. В ответе будет содержаться список городов. Названия городов указаны в поле `city`, а поддерживаемые требования и их коды будут перечислены в массиве `"supported_requirements"`.

{% endcut %}

 | Объект ||
|| `phone` | Телефонный номер для связи с пассажиром. | Строка
|| `selected_class` | Тариф поездки. Обязательное поле. | Строка
|#

## Описание полей ответа

В ответе могут содержаться следующие поля:

Поле | Описание | Формат
----- | ----- | -----
`currency_rules` | Блок с информацией о валюте. | Объект
`code` | Код валюты. | Строка
`sign` | Символ валюты. | Строка
`template` | Шаблон для комментария с ценой. | Строка
`text` | Текстовое описание валюты. | Строка
`is_fixed_price` | Признак факсированной цены. Возможные значения:<br/>- `true` — фиксированная цена.<br/>- `false` — динамическая цена. | Логическое 
`service_levels` | Блок с данными о поездке для разных тарифах. Блок каждого тарифа содержит следующие поля:<br/>- [name](#name-param);<br/>- [price](#price-param);<br/>- [price_raw](#price-raw-param);<br/>- [details_tariff](#details-param). | Массив объектов
`name` | Название тарифа. | Строка
`price` | Текстовое описание цены поездки. | Строка
`price_raw` | Числовое описание цены поездки. | Число
`details_tariff` | Пояснение к тарифу. | Массив объектов
`type` | Тип пояснения. Возможные значения:<br/>- `price` — минимальная цена поездки.<br/>- `camment` — текстовый комментарий к тарифу. | Строка
`value` | Значение пояснения. | Строка
`fare_disclaimer` | Пояснение к сформированной цене. | Строка
`offer` | Оффер поездки. Используйте данное поле, чтобы [создать черновик заказа](order-create.md) с ценой поездки, указанной в поле [price](#price-param).<br/><br/>Оффер с текущей ценой действует ограниченное время. Если время жизни оффера истеко, ответ на запрос [Обработка заказа](processing.md) будет содержать код ошибки 406.<br/><br/>Если в запросе не указано поле [phone](#phone-param), сервис не создаст оффер, но рассчитает цену поездки. | Строка


## Пример запроса

```
POST https://business.taxi.yandex.ru/api/1.0/estimate
...
Authorization: <OAuth-токен>


{
  "route": [
    [
      37.622504,
      55.753215
    ],
    [
      37.635813,
      55.839525
    ]
  ],
  "requirements": {
    "nosmoking": true,
    "conditioner": true
  },
  "phone": "+71234567890",
  "selected_class": "econom"
}
```

## Пример ответа

Пример ответа на данный запрос выглядит следующим образом:

```no-highlight
{
    "currency_rules": {
        "code": "RUB",
        "sign": "₽",
        "template": "$VALUE$ $SIGN$$CURRENCY$",
        "text": "rub"
    },
    "is_fixed_price": true,
    "service_levels": [
        {
            "class": "econom",
            "price": "460 руб.",
            "price_raw": "460",
            "details_tariff": [
                {
                    "type": "price",
                    "value": "от 99 руб."
                },
                {
                    "type": "comment",
                    "value": "включено 4 мин., далее 9 руб./мин."
                },
                {
                    "type": "comment",
                    "value": "включено 2 км, далее 9 руб./км"
                }
            ],
            "fare_disclaimer": "increased demand"
        },
        ...
    ],
    "offer": "1bfc6ef0377607d98deb6b91ab90ef2f"
}
```

## Возможные коды ответа {#section_rrq_mfb_mhb}

Ответ на данный запрос может содержать следующие стандартные HTTP-коды:

- `200` — запрос выполнен успешно.
- `400` — в запросе был передан неизвестный параметр или параметр с недопустимым значением.
- `401` — был передан неверный [OAuth-токен](quickstart.md).

