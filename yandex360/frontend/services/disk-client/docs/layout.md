# Раскладка

Можно выделить несколько типов раскладки (`contentDualPane`, `contentSinglePane`, ...), все они похожи тем, что состоят из двух слоев:

* фиксированный
* нормальный

Последний в свою очередь, в зависимости от конкретной раскладки, может содержать:

* листинг
* страницу-заглушку
* ...

Далее подробнее о раскладке фиксированного слоя

## Раскладка фиксированного слоя

```
//
// --------------- I регион ---------------
// ---- III регион ---- ---- II регион ----
//
```

Здесь стоит отметить, что сайдбар растянут на всю высоту от нижней границы окна до нижней границы первого региона. Блоки третьего региона должны определить новый контекст форматирования (например, `overflow: hidden`), чтобы их ширина справа ограничивалась II регионом.

### Отступы нормального слоя, тени и сайдбара

Чтобы контент нормального слоя, например, листинг визуально начинался сразу после III региона требуется задать правильный оступ сверху, который определяется в зависимости от состава видов в I и III регионах. Также требуется сдвинуть фиксированную тень.

Если внутри первого региона появляется еще одна вьюшка, то сайдбар требуется сместить (`top`).

### Синхронизация отступов с появлением/скрытием вьюшек в регионах

Вьюшка, которая добавляется в один из регионов, должна знать свою высоту (она должа быть фиксированная) и сообщить на `htmlinit` о своем появлении, кинув глобальное событие `ufo-panels-update`. Обязательным аргументов является имя вьюшки (любой идентификатор, по которому можно определить ее в обработчике) и необязательно объект с параметрами, если она хочет сообщить дополнительную информацию

Родительская вьюшка всех слоев `layoutPanels` слушает это событие и в обработчике, понимая какая вьюшка кинула событие, расставляет себе модификатор `contains` (значит содержит что-то) в качестве значения — имя этой вьюшки.

Например, при появлении инвайтов в III регионе, вьюшка `stickies` сообщает о своем появлении, и `layoutPanels` ставит себе модификатор `b-layout-panels_contains_invites`.

Отступы и смещение тени задаются для `nb-layer_type_listing` каскадом от родительского класса `b-layout-panels_contains_*` или комбинации классов.
