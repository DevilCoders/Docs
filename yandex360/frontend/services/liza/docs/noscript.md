# Отличия нашей версии `noscript` от GitHub

FIXME кажется, мы перешли на github.com версию, правда, конкретный тэг, а не последний master.

## Почему не master?
Мы живем в отдельной ветке [unquiet-mail](https://github.com/yandex-ui/noscript/tree/unquiet-mail),
потому что наши PR должны пройти ревью перед тем, как попасть в мастер. Такая скорость обновления зачастую может не устраивать.

Поэтому мы делаем PR в master, и замержить его в нашу ветку. Т.о. мы сразу получаем нужный нам код.

## ns.Action

Если в параметрах ns.action есть свойство `mcounter`, то при его обработке автоматически будет вызвана метрика `Jane.c(params['mcounter'].split(':'));`

## ns.Model

`ns.ModelArmour` - модель, которая не может содержать ошибок.

`ns.ModelStatic` - модель, которая не может быть запрошена с сервера не зависимо от своего состояния.

`setIfChanged` - метод, аналогичный `set`, но записывает только измененное значение.

## ns.router

При генерации из параметров принудительно удаляются:
 - `search`
 - `threaded`
 - `_actions-dropdown-type`

## ns.View

События `ns-view-hide` и `ns-view-htmldestory` кидаются **ПЕРЕД** изменениями DOM.
 Т.о. их семантика не "вид был скрыт", а "вид будет скрыт".

[Подробнее](https://github.com/yandex-ui/noscript/pull/418/)

## yate

Если вы хотите добавить класс боксу - нужно создать файл шаблона в папке `mail/modules/mail/views-box`
и там определить шаблон с модой `ns-view-add-class`. Этот файл затем подключается в файле
`mail/modules/mail/tmpl.mail.yate` по соседству с аналогичными шаблонами.

Почему так?
Из-за приоритетов шаблонов, данный шаблон должен перекрыть аналогичные шаблоны.
