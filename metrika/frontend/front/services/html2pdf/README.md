html2pdf
========
Файл `index.js` - основной файл ноды.

Запуск сервиса при разработке осуществляется совместно с Метрикой из ./services/metrika

Основные параметры для сервиса:
- url - относительно которого рендерится страница для формирования правильных путей к css, js, картинкам (base path)
- cookies - JSON хэш печенек в виде {cookieName: cookieValue}
- token - аутентификационный токен (который лежит как печенька у пользователя)

Когда сервер принимает url, он использует puppeteer чтобы при помощи безголового хрома отрендерить страницу.

Сервис слушает jQuery событие htmlExportReady
```
window.jQuery(document).bind('htmlExportReady', function () {...});
```
И когда оно выполняется, сохраняет все в pdf. Если не выполняется, через 30 секунд он рендерит в pdf то что есть на текущий момент.

Поэтому нужно реализовать trigger события htmlExportReady когда страница готова к экспорту.

Puppeteer на клиенте можно определить через window.exportToPdf (он будет true)

Puppeteer при стилизации в css можно определить по наличию класса b-page_version_print у b-page.

Дебаг
-----

Для записи логов в расширенном формате, необходимо в запрос к сервису
в GET параметры, добавить параметр verbose=yes
