# `useHelpLink`

## Использование

Получает ссылку на помощь для текущего домена:

```js
const helpLink = useHelpLink();
```

Также можно явно передать домен или путь, для которого высчитывать ссылку:

```js
const helpLink = useHelpLink('/list');
```

__Важно:__ передавать можно как путь, так и абсолютный URL.

## Добавление пунктов меню

Добавляем в мапу `CHECKLIST`. В ней хранятся объекты для генерации ссылки помощь для определенных URL.
`useHelpLink` проходится по ней, и если какой-нибудь из объектов удовлетворяет условию, использует его для
генерации ссылки помощь. Условием является текущий урл страницы: каждый из объектов знает как сгенерировать
ссылку помощь для своего URL. Поле `match` определяет стоит ли использовать объект для текущего URL, а поля
`key` и `prefix` служат для высчитывания ключа для `i18n`. Из `i18n` берется ссылка помощь. Если текущий URL
не удовлетворяет условию в `match` или поле `key` возвращает `null`, то берется следующий объект.

### `match`

Параметр определяющий стоит ли использовать данный объект, чтобы сгенерировать ссылку помощь для текущего URL.
Содержит поля `shouldContain` и `shouldNotContain`.

Если удовлетворяется условие из `shouldContain` - то объект используется, если нет, то нет. Если вместе с `shouldContain`
есть еще и поле `shouldNotContain`, то при удовлетворении условия из `shouldNotContain` объект не будет использоваться
даже если в `shouldContain` все ОК.

Отсутствие `shouldContain` / `shouldNotContain` эквивалентно удовлетворению условия.

В `shouldContain` / `shouldNotContain` могут находится следующие свойства:

- `path` ( `RegExp | string | string[]` ) - проверяет путь URL. Если строчка, то проверяет начинается ли путь URL с ее.
  Если массив строк, то делает тоже самое что и для строчки, но кейс будет считаться валидным если хоть одна из строк
  удовлетворит условию. __Важно:__ при валидации `RegExp` важно учесть что в `RegExp` будет передан путь не начинающийся
  с "/".
- `params` ( `string | string[]` ) - проверяет наличие в URL параметра / параметров.

Пример:

```
match: {
    shouldContain: {
        path: ['stat', 'legacy'],
        params: ['type', 'year'],
    },
    shouldNotContain: {
        params: 'tab',
    },
},
```

код выше означает что объект будет использоваться для получения ключа если путь начинается с "stat" или "legacy",
(например: `https://metrika.ru/stat/common`, `https://metrika.ru/stat`, `https://metrika.ru/legacy/etc`, `https://metrika.ru/legacy`).
Помимо валидного пути, URL также должен содержать параметр "type" и параметр "year", но URL будет считаться не валидным, если
в нем есть параметр "tab". Не валидным также будет URL например без параметра "year" или "type". Если в урле будут присутствовать
параметры кроме "year" или "type", то URL все также будет считаться валидным.

### `key`

Объект для получения ключа для ссылки помощь при соблюдении условия из `shouldContain` / `shouldNotContain`.

Можно передавать функцию которая вернет ключ.

Также можно передавать объект который будет маппингом пути / параметров из URL к ключу для ссылки помощь.
Содержит следующие поля:

- `param` - название параметра URL значение которого стоит использовать как ключ для ссылки помощь.
- `path` - индекс пути в URL значение которого стоит использовать как ключ для ссылки помощь. Под индексом
  подразумевается следующее:
  ```
                 |    |      |
  https://metrika/list/common/counter
                 |    |      |
                 |0   |1     |2
  ```
  То есть индекс 0 - это "list", индекс 1 - это "common", индекс 2 - "counter" и т.д.
- `values` - после получения значения из `param` / `path`, поле `values` будет использован как набор валидных значений,
  которые `param` / `path` могут принимать. Если значения из `param` / `path` нету в `values` то берется `defaultValue`.
  __Важно:__ если нету `defaultValue` и значение из `param` / `path` нету в `values`, то для получения ссылки помощь
  будет браться следующий объект по списку.

### `prefix`

Префикс который будет подставлен к значению из поля `key` для получения ссылки на помощь из `i18n`.
