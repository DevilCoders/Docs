# Автоматический сквошинг коммитов

### Установка:

1. Добавить код скрипта в  `.zshrc`, `.bashrc` или `.bash_profile` (linux)
2. Выполнить в консоли  `exec $SHELL` или открыть новую сессию

### Использование:

`git-sqash` – Покажет список файлов, отличных от последнего коммита в `develop` , попросит согласиться и ввести commit message

Сквошить файлы по **последнему коммиту** из мастера не всегда нужно, поэтому скрипт предложит ввести другой commit hash, если это необходимо. По умолчанию будет использован последний коммит из `develop`.

### Под капотом происходит следующее:

1. Получает имя текущего бранча
2. Получает последний коммит из ветки `develop`
3. Получает commit message этого коммита
4. Спрашивает, нужно ли использовать коммит, отличный от последнего из `develop`
4. Делает `git reset [DEVELOP_COMMIT_HASH]`
5. Делает `git add . -A`
6. Делает `git commit -m [YOUR_COMMIT_MESSAGE]`
7. Делает `git push -f origin [CURRENT_BRANCH_NAME]`

### Скрипт

```bash
npm install git-squasher -g
```

