## История изменений

### 2021.06.14
#### features
* ConfigApi: добавлены ответы для несуществующих/непривязанных программ и окружений.

#### related tickets
* MTRSADMIN-6352

### 2021.03.31
#### features
* UI: добавлен экспериментальный side by side diff для запроса на активацию.

### 2021.03.18
#### features
* UI: изменения в формах, где используются выпадающие списки с переменными. Теперь в них показывается часть (не более 25 символов) значения переменной и подсвечивается часть, которая совпала с поисковым запросом из формы.
![suggest highlight](images/changelog/link_search_suggest.png)

#### related tickets
* MTRSADMIN-5778


### 2020.12.03
#### features
* Добавлен новый тип внешних данных (external data): Yandex Cloud Clusters. Содержит свойства кластеров из https://yc.yandex-team.ru и списки хостов этих кластеров. Поробнее см. раздел [External Data](main/external_data/yandex_cloud_clusters.md)
* UI: табы в редакторе теперь по-умолчанию заменяются на 4 пробела. Изменить это поведение можно через настройку в профиле пользователя: `Editor: replace tab with 4 spaces`.

#### bugfixes
* UI: в формах новой переменной и в окне просмотра переменной подсветка синтаксиса включается тольо, если переменная имеет тип json


### 2020.11.30
#### features
* UI: на странице запроса на активацию (activation request) в XML diff, в которых есть возможность извлеч старое/новое значение секрета из yav появилась пометка о том, было ли или нет изменено значение секрета.
![not changed](images/changelog/secret_value_not_changed.png)
![changed](images/changelog/secret_value_changed.png)

### 2020.11.24

#### features
* UI: на страницу со списком запросов на активацию (activation requests) добавлена фильтрация по полю created (since/until). В фильтра испольхуются операторы `<=` и `>=`
* UI: страница запроса на активацию (activation request):

Появилось поле шаблона (template). Возможны 3 состояния этого поля:
1) Шаблоны у исходного и целевого конфигов совпадают: ссылка на шаблон "Template (not changed)"
1) Исходный конфиг отсутствует: ссылка на шаблон целевого конфига "Template"
1) Шаблоны у исходного и целевого конфигов совпадают: 2 ссылки "Source/Target Config Template"

В полях "Source/Target config ссылками на конфиг теперь являются не имена шаблонов, а версии конфигов. Так же в эти поля добавлена инфомрация о размере конфига в строках/байтах

Поля "Source/Target Config version" удалены.
* UI: на странице программы изменилась ссылка на активный конфиг. Вместо версии конфига теперь используется ключ `active` и эта ссылка ведет на текущую активную версию конфига.

#### related tickets
* MTRSADMIN-6995
* MTRSADMIN-7001
* MTRSADMIN-7002

### 2020.11.20

#### features
* UI: добавлена возможность получения ссылки на конкретные строки для страниц шаблона (template), конфига (config) и запроса на активацию (activation request). Такая же возможность появилась и для страницы записи аудит лога.
* UI: в редактор подключен аддон trailingspace для подстветки "неправильных" пробелов и табуляций.
* UI: тёмная тема вышла из беты

#### related tickets

* MTRSADMIN-6977

### 2020.11.19

#### bugfixes
* UI: мелкие исправления в стилях оформления страниц
* core: исправлены записи в аудит логе, отосящиеся к переменным-ссылкам: теперь там есть информация о том, в какую переменную была нацелена переменная ссылка.

#### features
* UI: страница окружения - у переменных-ссылок появилась возможность изменить целевую переменную.
* UI: страница шаблона - при большом количестве included или included to их список заворачивается "под кат" в виде троеточия.
* UI: добавлена страница с детальной записью о конкректной записи в аудит логе. На этой странице можно увидеть как дифф текста шаблона, так и его полное содержимое старого и нового текста.
* UI: страница с записями аудита перенесена из раздела system в главный раздел.
* UI: на вкладке аудита объекта количество записей аудит лога ограничено до 50 элементов.
* UI: на вкладке аудита объекта ссылка на сырые изменения была заменена на ссылку на страницу записил в аудит логе.

#### related tickets
* MTRSADMIN-6507

### 2020.11.12

#### bugfixes
* UI: исправлены 5xx ошибки при использовании некорректных регулярных выражений в фильтрах. Теперь вместо ошибки выводиться сообщение об ошибке в филтрах
![filter error](images/changelog/filter_regex_error.png)
* UI: на странице списка запросов на активацию (activation requests) убраны два неиспользуемых в данный момент статуса: PENDING APPROVE и APPROVED

#### features
* UI: добавлена возможность фильтровать список конфигов (configs) по полю `text` (regex).
* UI: добавлена возможность фильтровать список запросов на активацию (activation requests) по полю `ID` (comman-separated integers)

### 2020.11.09

#### features
* UI: страница окружения - при большом количестве детей их список заворачивается "под кат" в виде троеточия.
![environment child cut](images/changelog/env_child_cut.png)
* UI: страница окружения - если значение переменной похоже на UUID секрета, оно отображается в ввиде ссылки на соответствующий секрет в секретнице.
![var yav sec link](images/changelog/var_sec_yav_link.png)
* UI: страница окружения - тип переменной теперь показывается в первом столбце таблицы
* UI: страница окружения - группы переменных local/inherited были объеденины в одну.
Соответствующие метки теперь обозначают тип переменной:
`LOCAL` - создана в этом окружении
`INHERITED` - отнаследованная от родителя
Переменные-ссылки помечены пиктограммой внутри метки и origin у них указано имя переменной, на которую они ссылаются, а так же её окружение.
![env var labels](images/changelog/env_var_labels.png)

#### related tickets
* MTRSADMIN-6614
