# Ошибки редиректа

## Терминальные(ошибка редиректа отдается при переходе по ссылке редиректа, страница редиректа еще не отображена, редиректим на покупку с ошибкой или страницу ошибки):

-   отсутствующий партнер в ссылке редиректа
-   отсутствующий qid в ссылке редиректа
-   не прошедший валидацию fromId из qid (битый qid)
-   не получен ответ из бекенда ручка partner
-   не получен ответ из бекенда ручка geo/point

## Остальные:

-   ошибка при инстант редиректе (какое-то падение при походе в v3/redirect и проверке варианта, после лога сработает обычный механизм редиректа)
-   ошибка при получении варианта на странице редиректа (на этой странице запускается поллинг тд и проверяется вариант, на который редиректимся)
-   не получилось заинитить поиск (редирект продолжится с qid из ссылки редиректа)

# Логи ошибок

## можно достать отсюда(здесь логгируется созданная/возникшая в коде ошибка):

```
use hahn;

SELECT *
    FROM range(`//home/logfeller/logs/qloud-runtime-log/1d`, '2020-02-21', '2020-02-27')
    WHERE qloud_project = "travel"
    AND qloud_application = "front-next"
    AND qloud_environment = "production"
    AND qloud_component = "ui"
    AND message = 'AVIA_REDIRECT_ERROR'
```

## Или отсюда(здесь ошибки из кода не будет, но если было сообщение ошибки, то попадет оно или 'unknown' в поле message):

```
PRAGMA yt.InferSchema = '1';

use hahn;

select *
from range(`home/rasp/logs/avia-redirect-error-log`, `2020-02-21`, `2020-02-27`)
where service Like 'mavia-travel' or service Like  'avia-travel'
```
