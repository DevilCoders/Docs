# Мониторинг релизов

Мониторинг, который следит за производительностью [страниц](../../../ci/registry/lighthouse/src/measureRelease/constants/index.ts) релиза и сообщает в релизный тикет, если оценка каких-то страниц ухудшилась.

## Последовательность работы

-   Релиз выкатывается в тестинг
-   после выкатки следующий кубик запускает замеры lighthouse (будет сделано в [TRAVELFRONT-7977](https://st.yandex-team.ru/TRAVELFRONT-7977))
-   Выполняются [замеры](../../../ci/registry/lighthouse/src/measureRelease/measureRelease.ts) и результаты сохраняются в [clickhouse](https://yc.yandex-team.ru/folders/foo33m9g9m98lqipih8r/managed-clickhouse/cluster/mdb1meos322mc6qs7jft/view), на основе которых строится [график](https://datalens.yandex-team.ru/preview/g3vknm1le8n69-releasemetricschart?environment=production)
-   Происходит сравнение с замерами предыдущего релиза и результат записывается в релизный тикет

## Что делать, если просели метрики в релизе?

-   Для страниц, у которых упала оценка, посмотреть на [графике](https://datalens.yandex-team.ru/preview/g3vknm1le8n69-releasemetricschart?environment=production), какая именно метрика просела
-   Посмотреть в [описании метрик](performance.md#Метрики), за что отвечает эта метрика
-   Попробовать разобраться, какая задача релиза привела к падению оценки и, если будет обнаружена проблема в реализации, попробовать исправить ее
-   Если есть предположение, что замер флапнул по каким-то причинам, можно [перезапустить](measurePages.md) замеры для конкретных страниц и, если по результатам будет понятно, что со страницами все в порядке, то стоит написать об этом в релизном тикете с прикрепленными замерами.
