# Картинки

## Аватарница

Основной источник картинок - [аватарница](https://wiki.yandex-team.ru/mds/avatars/).

Путь к картинке в боевой аватарнице выглядит следующим образом
https://avatars.mds.yandex.net/get-`название неймспейса`/$group-id/$imagename/`размер`

### Неймспейсы

В аватарнице есть деление на неймспейсы.
На клиенте было замечено использования неймспейсов:

-   travel-hotels - картинки городов на главной отелей и SEO-страниц регионов. Маленький (1 GB)
-   travel-rooms - картинки номеров отелей (1.5 TB)
-   altay - справочник. Очень большой (160 TB). Используется многими проектами (карты, колдунщики). У нас из него картинки отелей.
-   yapic - аватарки пользователей (27 TB). Но у нас используются маленькие картинки.

[Пользователи аватарницы](https://wiki.yandex-team.ru/mds/avatars/avatars-clients/?from=%2Fmds%2Favatars%2Fclients%2F#)
Можно смотреть статистику по неймспейсам, например [altay](https://yasm.yandex-team.ru/template/panel/avatars_mds/ns=altay)

### Размеры

Если в конце в размере указать `orig`, то получим оригинал картинки. Но не рекомендуется на клиенте отображать эти картинки, так как они могут быть очень большими.

Для получения картинки, не превыщающей нужный размер, можно использовать алиасы размеров.
Список всех алиасов для неймспейса можно увидеть в конфиге аватарницы: [сырой файл](https://a.yandex-team.ru/api/tree/blob/trunk/arcadia/mds/avatars/avatars-mds-conf/src/etc/avatars-mds/avatars-mds.xml?repo=arc&rev=8074176) и [в интерфейсе arc](https://a.yandex-team.ru/arc/trunk/arcadia/mds/avatars/avatars-mds-conf/src/etc/avatars-mds/avatars-mds.xml)

Аватарница поддерживает разные механизмы [ресайза](https://wiki.yandex-team.ru/mds/avatars/#resize/scale) и [обрезки](https://wiki.yandex-team.ru/mds/avatars/#crop) картники, самый простой - она уменьшает картнику так, чтобы она не превышала указанный размер по любой из сторон с сохранением пропорций.

Например, для `altay` мы используем следующие размеры (см. тип `EHotelImageAltayStandardSize` в исходниках)
|Алиас|Размер (px)|
|-|-|
|XXXS|50|
|XXS|75|
|XS|100|
|S|150|
|M|300|
|L|500|
|XL|800|
|XXL|1024|
|XXXL|1280|
|mail420x300|420x300|

Размер `mail420x300` ещё имеет особенную настройку обрезки, которая может вырезать главную часть из картинки.

## Хранилище S3

От [бэка поиска отелей](https://abc.yandex-team.ru/services/TOURS/) с s3 приходят маленькие картинки логотипов партнёров.
