О блэклисте.

Блэклист строится (ежедневно) следующим образом. Если за последние 30 дней хотя бы в один из дней в логах сёрчера было не менее 8 поисков и все дали пустой список офферов и, если за последние 3 дня (из этих 30) либо не было поисков, либо на все поиски партнёр ответил пустым списком офферов, то партнёрский отель попадает в блэклист.

О блэквормере.

Блэквормер берёт блэклист, который строится каждый день по описанному выше алогоритму, и делает выжимки (списки) из него пар Permalink, OriginalId для каждого партнёра (PartnerId). Блэквормер бежит по спискам индивидуально для каждого партнёра и делает запросы на завтра на одну ночь для каждого партнёрского отеля в списке, который не был прогрет за последние MaxAgeSec=2дня. Блэквормер имеет сенсоры, которые дают информацию о том, прогрев какого процета партнёрских отелей даёт непустые списки офферов.

Блэквормер и периодический процесс построения блэклиста взаимодействуют следующим образом: если прогрев партнёрского отеля завершился удачно, то это отражается в логах сёрчера и, как следствие, отель выпадает из блэклиста как минимум на ближайшие три дня.
