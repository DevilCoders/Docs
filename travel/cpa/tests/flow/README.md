# Тесты FlowApp

Проверяется работа `dataprocessing/flow`

1. init_tests проходит по всем тестам в режиме подготовки. Здесь собираются сообщения (снэпшоты и лэйблы) и складываются
в контекст. Не выполняется никакой проверки
2. Поднимается локальный LB. В различные топики отправляются соответствующие сообщения + “ручной тормоз”
3. Поднимается локальный YT. Создаются и наполняются (при необходимоти) таблицы, которые используются в работе сервиса
4. Запускается FlowApp. Он читает и обрабатывает все сообщения. Когда сервис встречает “ручной тормоз“, он прекращает
свою работу. Процесс завершается после остановки всех сервисов
5. Тестовый процесс ждёт завершения FlowApp. После чего читает содержимое всех таблиц и складывает в контекст
6. После этого запускаются все тесты в режиме проверки. Каждый тест берёт свои данные для проверки из контекста
7. Все проверки лэйблов описаны в одной тестовой функции `test_labels_common`. Тестовое покрытие обеспечивается
параметрами при создании лэйблов. На каждый вызов `add_label` создаются отдельные лэйблы для каждой категории. Таким
образом, для каждой категории реализуется одинаковый сценарий проверки
