# heartbeat

Система формирования и доставки отчетов. Является модульной и может быть использована
 сторонними сервисами.

Поддерживаются независимые установки heartbeat. Это позволяет использовать собственные плагины
 для отправки данных на свои серверы мониторинга. Настройка осуществляется в сервисе [{{ deploy-and-configService }}](https://genisys.yandex-team.ru) .

Состоит из следующих компонентов:

- [Клиентская часть (heartbeat-client)](#heartbeat-client)
- [Серверная часть (heartbeat-server)](#heartbeat-server)
- [Веб-интерфейс (heartbeat)](#hearbeat-web)

## Клиентская часть (heartbeat-client) {#heartbeat-client}

По умолчанию запущена на каждом сервере, использующем {{ serviceName }}.

Генерирует отчеты о состоянии связанных с сервером инфраструктурных сущностей (например,
 шардов) с заданной периодичностью. Правила формирования отчетов определяются в подключаемых
 модулях.

Сформированные отчеты регулярно передаются в [серверную часть](#heartbeat-server) для обработки и долгосрочного хранения.

## Серверная часть (heartbeat-server) {#heartbeat-server}

Запущена на серверах отказоустойчивого кластера.

Обрабатывает отчеты, полученные от каждого клиентского экземпляра (`heartbeat-client`), и сохраняет данные в базе (например, MongoDB или ClickHouse).

В зависимости от установленных правил обработки каждый отчет может сохраняться в базу в
 неизменном виде, перерабатываться или удаляться (без сохранения в базу).

Правила обработки определяются в подключаемых модулях.

## Веб-интерфейс (heartbeat) {#hearbeat-web}

Сервис отображения агрегированных данных.

Правила отображения отчетов задаются в подключаемых модулях.

Веб-интерфейс сервиса: [http://heartbeat.yandex-team.ru/](http://heartbeat.yandex-team.ru/).

