# Организация работы в ЦК

## Роли, сценарии, доступ

Для работ разного вида у нас есть понятие *роли*.  Каждая роль это совокупность:

1. слага для связи с IDM
2. текстового названия
3. rackcode для ограничения состава устройств, с которыми могут работать добавленные в эту роль
4. набора сценариев, которые на эту выборку устройств могут катить назначенные на роль; можно выбрать вариант "все сценарии" (годится для совсем продвинутых и авторитетных инженеров, могущих за 5 сек расфакапить любой свич или роутер)
5. состава людей, исполняющих эту роль (задаются в IDM).

Из этих данных редактировать можно №№ 2-4; № 1 (слаг) генерируется автоматом и нужен для связи с IDM, а состав людей внутри ЦК не редактируется, а добавляется через тот же IDM.

На лабораторные свичи можно в общем случае кастовать всё.  В частности, созданные через %%noc-ck-cli create-declarative%% сценарии изначально можно запускать только на лабораторных свичах, и на остальные устройства их можно будет запускать только после "легализации" путём добавления названий этих сценариев в ту или иную роль.

Как добавить новую роль?

1. нажать "Создать роль", задать в ней параметры – осторожнее с rackcode, он сейчас (2021-05-21) не валидируется,
2. если вы ilysogor@ или kachanovskiy@, то пойти сюда https://idm.yandex-team.ru/system/netauto/sync и нажать на кнопку "Синхронизировать" – а иначе призвать m-arefiev@ или vladstar@ или azryve@ , чтобы они пошли (будет исправлено в NOCDEV-4757),
3. через минуту можно будет добавлять сотрудников в список обладателей роли.

Как добавить инженера в некую роль?

1. надо пойти в https://idm.yandex-team.ru/ и там нажать "Запросить роль"
2. выбрать систему "Автоматизация сети", а в следующей выпадашке выбрать название роли
3. добавить туда отдельного инженера, либо стаффовую группу, а лучше вообще ABC-категорию (например, скоуп "Администрирование" в сервисе "NOC (сеть)")

Рекомендованный способ выдачи доступов это только ABC.
