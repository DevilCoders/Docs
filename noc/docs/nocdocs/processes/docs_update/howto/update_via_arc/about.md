# Обновление документации через Arc

Шаг 1. Пройдите процедуру установки Аркадии и монтирования репозитория в локальную файловую систему рабочего компьютера. [Инструкция](https://docs.yandex-team.ru/devtools/intro/quick-start-guide)

Шаг 2. Откройте проект в вашем любимом IDE по ссылке `~/arcadia/noc/docs/nocdocs/`

Шаг 3. Заведите задачу в ST в очереди NOCDOC.

Шаг 4. Определитесь с тем, что вы будете добавлять. Выберите подходящий раздел из списка разделов NOCDOC, приведенного выше

Шаг 5. Создайте свою ветку для своих изменений. В Аркадии нельзя коммитить в основную ветку (trunk).

```
(trunk) $ arc checkout -b my-noc-docs
```

Шаг 6. Создайте папку для создаваемого документа с человекочитаемым названием. Не стоит использовать 'noc' в имени папок.

**Note**

Не называйте файл русскими буквами. Это касается как имен файлов, так и имен папок.

Шаг 7. Перейдите в папку, создайте файл для описания документа: `about.md`

Шаг 8. Если появляются изображения в документе, то сделайте еще папку `_images/`

_Пример_
```
/nocdoc/
        processes/
                  my_awesome_process/
                                      _images/
                                      about.md
```



Шаг 9. Внесите изменения в файл `about.md`

Шаг 10. Внесите изменение в файл `toc.yml`: добавьте расположение вашего файла и название вашего документа

Шаг 11. Закомитьте внесенные изменения в Аркадии

```
arc status
arc diff
arc add <новые добавленные файлы>
arc commit -m "My commit text"

```
Шаг 12.

Загрузите свежие изменения из единого репозитория и добавьте их в свою ветку перед тем как делать PR.

```
(my-noc-docs) $ arc pull trunk
(my-noc-docs) $ arc rebase trunk

```

Шаг 13. Сделайте Pull Request (PR) в arc

```
bestnoc-x:nocdocs vdvolovik$ arc pr create --push -m "Update DOCS <TICKET>"
info: pushed 1 commit(s)
info: branch 'users/bestnoc/NOCDOC-34' updated on server
Creating Arcanum PR
Local branch: NOCDOC-34
Remote branch: users/bestnoc/NOCDOC-34
Arcanum PR is successfully created

https://a.yandex-team.ru/review/2106190
```

Обратите внимание на ССЫЛКУ **https://a.yandex-team.ru/review/2106190** - это ссылка на PR в UI Аркадии

Шаг 14. Перейдите по ссылке

Шаг 15. Подождите. Нажмите на Automerge (по-умолчанию должно быть включено). Когда появится кнопка Publish - нажмите на неё

![Шаг 15](images/img_13v1.png)

Шаг 16. Нажмите "Ship"

![Шаг 16](images/img_14v1.png)

Шаг 17. Если все хорошо, то через 5 минут все тесты будут пройдены и вы сможете опубликовать ваши изменения

Шаг 18. У нас настроен авто-релиз, но если он почему-то не работает, перейдите
в [репозиторий документации](https://a.yandex-team.ru/arc/trunk/arcadia/noc/docs/nocdocs), справа серая кнопка
**Manage Docs**, нажмите ее, увидите там кандидат-версию документации. Нажмите на кнопочку справа от нее.
Нажмите "Release to production".

Успех!
