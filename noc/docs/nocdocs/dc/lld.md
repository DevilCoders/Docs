# Low-level Design

## 1. Общее

### 1.1. Правила ведения документации

1.1.1. Дизайн должен содержать четко описанные правила и рекомендации

1.1.2. Каждое правило или рекомендация должна иметь свой номер

1.1.3. Формат правила или рекомендации должен содержать: первое предложение - четко сформулированное требование,
пустую строку, дополнение или пояснение к требованию.

```
+---------------------------------+
| Обязательное поле               |
|       Правило/Рекомендация      |
|                                 |
+---------------------------------+

+---------------------------------+
| Дополнительное поле             |
|       Пояснения/Дополнения      |
|                                 |
+---------------------------------+
```

1.1.4. Необходимо поддерживать сквозную нумерацию правил и рекомендаций

1.1.5. Не допускается дублирование номеров правил

1.1.6. В конце номера правила обязательно ставится точка `.`

1.1.7. Разделителем правила является символ точки `.`

## 2. Физическое подключение оборудования

## 3. Маршрутизация

### 3.1. Протокол IGP

3.1.1. В качестве протокола IGP используется протокол [ISIS](https://datatracker.ietf.org/doc/html/rfc1195)

3.1.2. Значение параметра `ISIS ID` должно быть равно:
- Nokia - 0
- Cisco - 1
- Juniper - N/A
- Huawei - 1

3.1.3. Используется технология Segment Routing
  - 3.1.3.1. Начальная метка SRGB равна 160000
  - 3.1.3.2. Конечная метка SRGB равна 225000
  - 3.1.3.3. Prefix sid рассчитывается, кроме устройств lab, по правилу:
             `{ DC_CODE } + { Hostname digits }`

             Пример: `vla-32z1 => "5" + "321" => "5321"`
  - 3.1.3.4. Значения переменной `{ DC_CODE }`:
    - IVA = 1
    - MYT = 2
    - SAS = 3
    - MAN = 4
    - VLA = 5
    - STD = 8
    - M9 = 9

3.1.4. Все устройства находятся только в `level-2`, `level-1` не допускается к применению

3.1.5. Необходимо явно указать значения таймеров LSP Generation.
  - 3.1.5.1. Для оборудования Nokia:
    - INIT = 10
    - MAX = 1000
    - INCR = 10
    - LIFETIME = 65535
  - 3.1.5.2. Для оборудования Huawei:
    - INIT = 10
    - MAX = 1 (секунда)
    - INCR = 10
    - LIFETIME = 65535
  - 3.1.5.3. Для оборудования Cisco:
    - INIT = 10
    - MAX = 1000 (мс)
    - INCR = 10
    - LIFETIME = 65535
    - REFRESH = 65235
  - 3.1.5.3. Для оборудования Juniper:
    - INIT = ?
    - MAX = ?
    - INCR = ?
    - LIFETIME = ?
    - REFRESH = ?

3.1.6. Должен быть включен параметр `traffic engineering`

3.1.7. Должен быть включен параметр `ldp-syncronization`

3.1.8. Должен быть выключен параметр `hello-padding`

3.1.9. Должен быть включен параметр `wide metric only`

3.1.10. Значения параметров на интерфейсе должны быть:
- Тип интерфейса - `point-to-point`
- Тип level - `level-2`
- Вес интерфейса (cost/metric):
  - 1000G - 1
  - 400G - 2
  - 200G - 5
  - 100G - 10
  - 40G - 25
  - 25G - 40
  - 10G - 100
  - 1G - 1000


## Список литературы

1. ISIS [RFC1195](https://datatracker.ietf.org/doc/html/rfc1195)
