## Язык расширения команд

### Основы
Для управления потоком исполнения команд используется такой подход: к команде дописываются
специального вида конструкции, все они примерно так определяются:
``!!OPERATION!!ARGS!!``, например в наливке распространено использование `suppress_errors`
(`dis ver !!suppress_errors!!` - команда получения версии для huawei, но если мы на циске, то
получим ошибку и проигнорируем ее).
Второе по популярности использование - ответы на вопросы. Типа `Confim [Y/n]?`.
Например `local-user name privilege 3 !!question!!Confim [Y/n]!!answer!!Y!!`.

### Историческое отступление
Судя по всему, активное использование такого подхода началось в mpdaemon,
поскольку в наливке очень часто нужно и на вопросы отвечать и прочие ошибки
подавлять.
В попытке использовать jinja-шалоны для наливки отмечено массовое использование
`!!call!!...!!`, больше, кажется, оно никуда не проросло.

### Поддерживаемые методы YTerm в RT
- `!!timeout=(\d+)!!`
    Для этой команды переопределяется timeout, остальные команды исполняются с тем же таймаутом
- `!!question!!(.+?)!!answer!!(.*?)!!`
    Простой поиск строки и отправка ответа, если найдена.
- `!!question!(\/.+?\/)!answer!!(.*?)`
    Поиск строки по регекспу
- `!!base64!!([^!]+)!!`
    Вместо этой конструкции будет подставлено раскодированное из base64 значение.
