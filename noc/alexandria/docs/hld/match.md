## Matchers (Матчеры)
Александрия оперирует понятием Matcher(Матчер).  

**Matcher** - это сущность, определяющая группу устройств согласно критериям(далее фильтрам). В Alexandria используется упорядоченный список матчеров для разделения устройств на однотипные подмножества.

Список ведётся в формате .*yaml, который при сборке проекта генерирует лист go-структур.  
[matchers.yaml](https://a.yandex-team.ru/arc/trunk/arcadia/noc/alexandria/stash/generator/source/matcher/matchers.yaml)
Проход по списку осуществляется по принципу **First Match**. 

### Фильтры в Matchers
Близкой аналогией Matcher'у является IP-ACL. Только группа узлов определяется(фильтруется) не комбинацией _IPsubnet+L4port_, а с помощью:
* Регулярного выражения модели устройства, **ModelRe**:
  * По-умолчанию сравнивается аттрибут объекта RT [HW model](https://racktables.yandex-team.ru/index.php?page=chapter&chapter_no=10017).
  * В некоторых видах запросов, клиент может передать модель, полученную с устройства(например при парсинге в процессе наливки) 
* Выражение из тегов Racktables (**RackCode**). 

Список будет дополняться, при возникновении требований.

## Match
Отличие Matcher и Match:
**Matcher** определяет группу устройств согласно фильтрам  
**Match**   определяет соответствие этой группы конкретному релизу ПО (Soft). 
Такой формат ответа позволяет получить контекст при котором был сделан выбор ПО.
```json
"Match": {
    "Matcher": {...},
    "Soft": {...}
}
```

По сути, Match - результат работы сервиса Александрия в виде сопоставление Marcher и Soft. "Matcher" можно перевести с английского как "сопоставитель", но результатом его работы можно считать Сопоставление в виде Match.




