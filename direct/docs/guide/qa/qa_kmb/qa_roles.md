# Роли, существующие в Директе

## Общая схема

{% cut "Общая схема ролей в Директе" %}

![alt text](https://jing.yandex-team.ru/files/sudar/22-10-21__11-20-55.png "Схема ролей Директа")

[Файл Dia для изменения схемы](https://disk.yandex.ru/d/ciqRrDGKY6Ad9g)

{% endcut %}

[Видео лекция](https://disk.yandex.ru/i/OwsvlHz7Tog2qg)

{% cut "КМБ по IDM" %}

[Слайды](https://jing.yandex-team.ru/files/shipovskikh/Доступы%20через%20IDM%202021.c887c2c.pptx)

[Видео](https://yadi.sk/d/tanJT6TVRcn7qg)

{% endcut %}

## Описание ролей

### Самоходный клиент
Обычный клиент, который самостоятельно ведет свои рекламные кампании в Яндекс.Директе. Как правило, представитель малого
и среднего бизнесов. Бюджеты на рекламные кампании небольшие, зато таких клиентов много. Имеет доступ только к своим
рекламным кампаниям и материалам

### Фрилансер
Как правило, специалист с большим опытом ведения рекламных кампаний в Директе. Появляется обычно из бывших сотрудников
рекламных агентств, Яндекса или хорошо "прокачавшегося" самоходного клиента. <br>
Сдает тест от Яндекса, после чего получает статус фрилансера. Самоходные клиенты могут найти его на странице списка
фрилансеров и заключить договор о сотрудничестве. После этого у фрилансера появляется доступ к рекламным кампаниям клиента.
При этом фрилансер параллельно может вести несколько клиентов и свои кампании (на своем собственном логине).

### Сервисируемый клиент
Самоходный клиент может попросить помощи специалистов Яндекса в ведении своих рекламных кампаний. Заключается договор и
вместе с клиентом его рекламными кампаниями может управлять менеджер - сотрудник Яндекса.

### Агентство
Существуют специальные рекламные агентства, предоставляющие услуги по ведению рекламных кампаний в Директе. Просто так 
получить агентскую роль нельзя. Необходимо заключить договор с Яндексом. После чего заводится специальный логин с 
агентским доступом, к нему прикрепляется ответственный менеджер - сотрудник Яндекса. <br>
Менеджер может изменять настройки агентства (доступный агентству функционал). При этом само агентство может самостоятельно
 заводить себе клиентов, регулярировать права доступа для клиентов, настраивать внутреннюю иерархию между своими сотрудниками

### Агентский клиент
Клиент, обратившийся в агентство для ведения своих рекламных кампаний. Важно, что если у клиента уже был логин, под которым
он крутил самостоятельно рекламные кампании, то привязать его к агентству он уже не может. Агентство регулирует доступы 
клиента для работы с его рекламными кампаниями: возможность выставления счета, создание/редактирование кампаний. В самом
упрощенном случае клиент существует в режиме "read only". В наиболее расширенном может самостоятельно управлять кампаниями. <br>
Доступ к его кампаниям может иметь как сам клиент, так и представители его агентства, так и менеджер, курирующий агентство.

### Менеджер
Сотрудник Яндекса, отвечающий за работу с сервисируемыми клиентами Директа. Помогает с настройками рекламных кампаний, консультирует. <br>
Также взаимодействует с агентствами: заключает с ними договор, обслуживает, заводит им аккаунты, управляет настройками.

### Саппорт
Сотрудник службы поддержки. Взаимодействует с пользователями, помогает с диагностикой проблем. При оформлении заявки в поддержку клиент получает PIN-код, который предоставляет саппорту. Саппорт получает временный доступ к рекламным кампаниям пользователя для диагностики и помощи.

### Лимитированный саппорт
Сотрудник службы поддержки, который "закреплен" за конкретными пользователями.

### Суперридер
Сотрудник отдела разработки Директа (разработчик, менеджер, тестировщик) или сотрудник Яндекса, которому по той или иной причине нужны доступы к просмотру клиентов (аналитик, например). Может всё просматривать на любом клиенте, но при этом не может ничего менять и редактировать.

### Разработчик
Сотрудник отдела разработки Директа. Имеет все права суперридера, плюс дополнительные возможности: просмотр очередей транспорта, включение и выключение фич и др.

### Суперпользователь
Может в Директе всё: просматривать любого клиента, редактировать любые рекламные материалы, заводить и редактировать клиентов.

### Медиапланер
Сотрудник Яндекса, который помогает с оптимизацией рекламных материалов. Менеджер оставляет заявку на написание медиаплана для рекламной текстово-графической кампании. Медиапланер получает доступ к рекламной кампании. Формирует медиаплан и предлагает его менеджеру и клиенту. Те могут либо принять медиаплан, и тогда происходят изменения в рекламных материалах. либо отклонить его, тогда всё остается по-прежнему.

### Менеджер внутренней рекламы
Внутренняя реклама - часть Директа для сотрудников Яндекса, позволяющая завести рекламные материалы, которые будут показываться на внутренних ресурсах Яндекса, куда не допускаются внешние рекламодатели. Внутренний термин - Банана (баннерная аналитика). Менеджер - сотрудник Яндекса, который через Банану может заводить такие рекламные материалы.

### Админ внутренней рекламы
То же самое, что суперпользователь в обычном Директе, только для Бананы. Может делать в Банане всё.

### Суперсмотритель внутренней рекламы
То же самое, что суперридер в обычном Директе, только для Бананы. Может просматривать в Банане всё, но редактировать не может.



## Заведение собственных ролей {#create-roles}

Логины для различных ролей должны иметь схожий формат: <br>
`yndx-DOMAIN_LOGIN-ROLE`, где DOMAIN_LOGIN это ваш доменный логин на [staff](https://staff.yandex-team.ru)<br>

**Примеры:**<br>
yndx-sudar-super <br>
yndx-sonick-superreader <br>
yndx-edip-asanov-manager

Логины заводятся в [паспорте](https://passport.yandex.ru/)

### Суперридер {#superreader}
* запросить через IDM по [ссылке](https://nda.ya.ru/t/85GBfyCr46xgQp). <br>
* роль запрашивается на себя
* При заведении выбрать логин из предложенных.
* роль прорастает до продакшена в течение часа (обычно быстрее)

**Завести на тестовых средах:** <br>
До переналивки тестовой базы данными из продакшена суперридер будет активен только на продакшен-базе. <br>
Как "завести" его на тестовых базах:
* логинимся "суперпользователем" (как его завести в пунктах ниже)
* открываем страницу добавления нового суперсмотрителя [ссылка для ТС](https://nda.ya.ru/t/GPpZn7-c46yNA9), [ссылка для 8080](https://nda.ya.ru/t/xsg4UhlN46yNJB)
* указываем свой логин суперридера, заполняем остальные поля
* сохраняем

### Разработчик {#developer}
* запросить через IDM по [ссылке](https://nda.ya.ru/t/-B8-nzw54KoYsw)
* роль запрашивается на себя
* логин выбрать из предложенных
* роль прорастает до продакшена в течение часа (обычно быстрее)

**Завести на тестовых средах:** <br>
Чтобы завести разработчика на тестовой среде, нужно завести разработчика в проде и телепортировать его. Подробнее о телепорте [здесь](https://docs.yandex-team.ru/direct-dev/guide/basics/howto_teleport)

### Суперпользователь
* Завести новый "чистый" (ни разу не использовавшийся в сервисах Яндекса) логин.
* __Не заходить__ под этим логином в Директ и __не выбирать страну и валюту__
* Под *суперридером* в продакшене перейти на [страницу тестовых суперпользователей](https://nda.ya.ru/t/f2s6H2wH46ySxB)
* Указать логин из первого пункта и свой доменный логин
* выбрать роль `super`
* нажать "Показать!"
* логин в директе будет заблокирован, роль до тестовых сред прорастает в течение часа

### Менеджер
* Завести новый "чистый" (ни разу не использовавшийся в сервисах Яндекса) логин.
* Под суперридером в продакшене перейти на [страницу тестовых суперпользователей](https://nda.ya.ru/t/f2s6H2wH46ySxB)
* Указать логин из первого пункта и свой доменный логин
* выбрать роль `manager`
* нажать "Показать!"
* логин в директе будет заблокирован, роль до тестовых сред прорастает в течение часа

### Саппорт
* Завести новый "чистый" (ни разу не использовавшийся в сервисах Яндекса) логин.
* Под суперридером в продакшене перейти на [страницу тестовых суперпользователей](https://nda.ya.ru/t/f2s6H2wH46ySxB)
* Указать логин из первого пункта и свой доменный логин
* выбрать роль `support`
* нажать "Показать!"
* логин в директе будет заблокирован, роль до тестовых сред прорастает в течение часа

### Ограниченный саппорт
* Завести новый "чистый" (ни разу не использовавшийся в сервисах Яндекса) логин.
* Под суперридером в продакшене перейти на [страницу тестовых суперпользователей](https://nda.ya.ru/t/f2s6H2wH46ySxB)
* Указать логин из первого пункта и свой доменный логин
* выбрать роль `limited_support`
* нажать "Показать!"
* логин в директе будет заблокирован, роль до тестовых сред прорастает в течение часа

### Медиапланер
* Завести новый "чистый" (ни разу не использовавшийся в сервисах Яндекса) логин.
* Под суперридером в продакшене перейти на [страницу тестовых суперпользователей](https://nda.ya.ru/t/f2s6H2wH46ySxB)
* Указать логин из первого пункта и свой доменный логин
* выбрать роль `media`
* нажать "Показать!"
* логин в директе будет заблокирован, роль до тестовых сред прорастает в течение часа

### Вешальщик
* Завести новый "чистый" (ни разу не использовавшийся в сервисах Яндекса) логин.
* Под суперридером в продакшене перейти на [страницу тестовых суперпользователей](https://nda.ya.ru/t/f2s6H2wH46ySxB)
* Указать логин из первого пункта и свой доменный логин
* выбрать роль `placer`
* нажать "Показать!"
* логин в директе будет заблокирован, роль до тестовых сред прорастает в течение часа

### Админ внутренней рекламы
* Завести новый "чистый" (ни разу не использовавшийся в сервисах Яндекса) логин.
* Под суперридером в продакшене перейти на [страницу тестовых суперпользователей](https://nda.ya.ru/t/f2s6H2wH46ySxB)
* Указать логин из первого пункта и свой доменный логин
* выбрать роль `internal_ad_admin`
* нажать "Показать!"
* логин в директе будет заблокирован, роль до тестовых сред прорастает в течение часа

### Менеджер внутренней рекламы
* Завести новый "чистый" (ни разу не использовавшийся в сервисах Яндекса) логин.
* Под суперридером в продакшене перейти на [страницу тестовых суперпользователей](https://nda.ya.ru/t/f2s6H2wH46ySxB)
* Указать логин из первого пункта и свой доменный логин
* выбрать роль `internal_ad_manager`
* нажать "Показать!"
* логин в директе будет заблокирован, роль до тестовых сред прорастает в течение часа

### Суперсмотритель внутренней рекламы
* Завести новый "чистый" (ни разу не использовавшийся в сервисах Яндекса) логин.
* Под суперридером в продакшене перейти на [страницу тестовых суперпользователей](https://nda.ya.ru/t/f2s6H2wH46ySxB)
* Указать логин из первого пункта и свой доменный логин
* выбрать роль `internal_ad_superreader`
* нажать "Показать!"
* логин в директе будет заблокирован, роль до тестовых сред прорастает в течение часа

## Роли в соседние сервисы 
### Суперридер в Метрике
Автоматически прорастает для ролей "суперридер" и "разработчик" в Директе

### Суперридер Модерации
Автоматически прорастает для роли "суперридер" в Директе

### Суперридер в Балансе
* открываем [IDM](https://idm.yandex-team.ru)
* Запросить роль
* Сервис: Баланс - Доступ для чтения
* Фирма - ООО "Яндекс"
* Паспортный логин - указываем логин суперридера
* Бессрочная
* Текст комментария взять [отсюда](https://nda.ya.ru/t/zkce-YC-49RXpd)

--
<br>
В случае неактуальности информации на данной странице можно обращаться к [Олегу Судареву](https://staff.yandex-team.ru/sudar)
