## FreelancerCardSendingJob

### Продукт/подсистема

Фрилансеры в Директе.

Фрилансер - частный предприниматель, прошедший сертификацию в Яндексе на знание инструментов Директа и возмездно помогающий другим клиентам настраивать рекламные кампании в Директе.

Карточка фрилансера - информация о фрилансере, содержащая его самоописание, фотографию и контактные данные. Карточка фрилансера не может изменяться после прохождения модерации, может быть создана только новая версия.


### Роль в работе продукта/подсистемы

Отправляет на модерацию новые версии карточек фрилансеров, если в них изменилось самоописание фрилансера или его фотография.


### Датафлоу

- Берёт карточки фрилансеров со статусом модерации `draft` из таблицы [ppc.freelancers_card](https://direct-dev.yandex-team.ru/db/ppc/tables/freelancers_card.html) и проставляет им статус `in_progress`.
- Отправляет запрос на модерацию в топик `modadvert-sm-direct-add-objects-log` (владелец: Группа разработки модерации рекламы).


### Способы наблюдения за текущим состоянием

- [Juggler-проверка](https://juggler.yandex-team.ru/check_details/?host=checks_auto.direct.yandex.ru&service=jobs.FreelancerCardSendingJob.working.production&query=&last=1DAY)
- [Логи](https://direct.yandex.ru/logviewer#~(logType~'messages~form~(fields~(~'log_time~'service~'method~'span_id~'message)~conditions~(service~'direct.jobs~method~'sending.FreelancerCardSendingJob)~limit~100~offset~0~reverseOrder~true~showTraceIdRelated~false))$)


### Какая функциональность пострадает от отказа джобы

Перестанут отправляться на модерацию, а значит и публиковаться новые версии карточек фрилансеров.


### Как пользователи (или команда) заметят проблему и через какое время

Фрилансеры будут редактировать информацию о себе, но она так и не будет появляться в описании фрилансера для других пользователей.


### Контакты разработчиков и менеджеров

Разработчики: [](https://staff.yandex-team.ru/) <br/>
Менеджеры: [](https://staff.yandex-team.ru/)


### Желательное время исправления в случае поломки

Разработчики: [Антон Тухватулин](https://staff.yandex-team.ru/ajkon), [Максим Логунов](https://staff.yandex-team.ru/maxlog)


### Способы регулирования работы джобы

Часы, возможно день. Фрилансеров мало (десятки), но в случае поломки джобы у них пропадёт возможность поменять своё описание или фотографию на сайте Директа.


### Известные причины поломок




### Дополнительно: тонкости и подводные камни
