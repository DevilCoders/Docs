## CampaignCopyJob

### Продукт/подсистема

Асинхронное копирование кампаний


### Роль в работе продукта/подсистемы

Копирование кампаний как внутри клиента или между ними.


### Датафлоу

Берёт задание из `dbqueue_jobs` типа `campaigns_copy` и выполняет его. Внутри:

1. Сбор элементов для копирования по графу
2. Изменение полей, которые отличаются от исходных
3. Запуск операций создания по графу от родителей к детям с подставлением появившихся id


### Способы наблюдения за текущим состоянием

- [Juggler-проверка](https://juggler.yandex-team.ru/check_details/?host=checks_auto.direct.yandex.ru&service=jobs.CampaignCopyJob.working.production)
- [Логи](https://nda.ya.ru/t/TcQG7foG3rRcz6)


### Какая функциональность пострадает от отказа джобы

- (критично) Не будем копировать кампании


### Как пользователи (или команда) заметят проблему и через какое время

- Пользователи заметят, что кампании долго не копируются

### Контакты разработчиков и менеджеров

Разработчики: [Максим Логунов](https://staff.yandex-team.ru/maxlog), [Александр Дубов](https://staff.yandex-team.ru/a-dubov), [Игорь Гердлер](https://staff.yandex-team.ru/gerdler)


### Желательное время исправления в случае поломки

Часы


### Способы регулирования работы джобы

- 


### Известные причины поломок

- Недоступность смежных сервисов


### Дополнительно: тонкости и подводные камни

- Задания для java-копирования ставятся отдельно. Для управления есть набор фич. Подробнее про способ переключения есть в тикете <https://st.yandex-team.ru/DIRECT-130281>