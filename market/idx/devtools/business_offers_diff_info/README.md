# Описание
Инструмент для поиска различающихся полей при схлопывании офферов из генлог таблиц.

Схлопывание офферов происходит по общему составному ключу:

- По умолчанию это business_id и offer_id
- Есть флаги для добавления дополнительных полей, см. proto/options.proto

## Пример запуска:
```bash
./business-offers-diff-info \
--yt-proxy arnold \
--genlog-yt-dir //home/market/testing/indexer/users/20210627_1311 \
--yt-output-path //home/market/testing/indexer/users/bdiff \
--filter NONE
--add-category-to-reduce
```

## Описание выходной таблицы
- Выходная таблица содержит все бизнес-оффера после схлопывания
- Каждый бизнес-оффер содержит некоторые главные поля первого сервисного
- Рядом с каждом бизнес-оффером указан список полей, которые отличаются между сервисными офферами

## Описание выходного лога
- Количество офферов на входе у инструмента
- Количество офферов после применения выбранного фильтра
- Суммарное количество сервисных офферов, в бизнес-оффере которых непустой список различий
- Суммарное количество сервисных офферов, в бизнес-оффере которых список различий содержит неразумную разницу (например, mbo_params)
- Профит от схлопывания (не путать с количеством бизнес или сервис офферов). Считается так: ```#{service offers} - #{business offer}```
- Количество бизнес офферов, которые несут профит (больше 1 сервисного оффера).

## Отладка:

Пишется core table в tmp таблицу. Есть возможность задать таблицу для stderr
