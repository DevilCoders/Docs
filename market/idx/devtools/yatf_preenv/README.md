## Предподготовка окружения для yatf тестов
Если вы по несколько раз перезапускаете тесты с локальным yt и logbroker, то ради экономии времени можно заранее поднять локальное окружение для тестов, чтобы каждый перезапуск не запускал рецепты заново.

0. Собираем бинарь со всеми зависимостями `ya make --yt-store --force-build-depends --checkout`
1. Запускаем в отдельном терминале `./yatf_preenv`
2. Убеждаемся, что в `ya.make` теста рецепты logbroker и yt заимпортированы следующим образом 
    ```
    INCLUDE(${ARCADIA_ROOT}/market/idx/yatf/yt_recipe.inc)
    INCLUDE(${ARCADIA_ROOT}/market/idx/yatf/lbk_recipe.inc)
    ```
4. Если это не так, то вносим правки в ya.make, без этого чуда не будет и рецепт будет запускаться при каждом перезапуске
5. Запускаем тесты командой `ya make -DYATF_YT_PROXY={yt_proxy} -DYATF_LBK_PROXY={lbk_proxy} -ttF <ваш тест>`. `-D` пробрасывает переменную окружение в систему сборки
6. Дебажимся
7. Останавливаем `yatf_preenv`, по умолчанию бинарь завершается через 8 часов после запуска

### Работа с arc
В команде запуска надо переопределить рабочую директорию, например `./yatf_preenv --workdir ~/yatf_workdir`

### Замеры скорости
С преднастроенным окружением один тест строллера отрабатывает за 40 секунд вместо 4 минут.
