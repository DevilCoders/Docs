# Giffany - секретарша Репорта

Она оповещает людей и чаты о предстоящих дежурствах. 

Если ты с ней не знаком - не медли!
[Вот ссылка без регистрации и смс](https://telegram.me/GiffanyBot)



#### Что делать если Giffany не отвечает/отвечает другой бот?
У телеграмма достаточно странные правила обработки сообщений ботами. 
Поэтому если в чате несколько ботов, то рекомендуется отправлять комманды с указанием имени бота: 
```
/notify@GiffanyBot show-settings
/notify@GiffanyBot show C++
/notify@GiffanyBot hide Javascript
```
и т.д.

Так же можно попробовать удалить и добавить её в чат заново

## Оповещения в чатах

### Квик старт

- Собственно, чтобы она оповещала о дежурствах нужно добавить её в чат
- Написать в чате `/help` (если в чате несколько ботов то `/help@GiffanyBot`)
- Попробовать прислать нотификацию в чат: `/notify@GiffanyBot try-send`

Увидеть что-то подобное в чате: 
```
Приветики!
На этой неделе дежурными будут:
- Дежурный (Аналитика Поиска) - Имя Фамилия aka @tg_user
- Дежурный (Инфраструктура) - Имя Фамилия aka @tg_user
- Факап-релиз мастер (Инфраструктура) - Имя Фамилия aka @tg_user
- Дежурный (Поиск) - Имя Фамилия aka @tg_user
- Очередь (blue) (Покупка) - Имя Фамилия aka @tg_user
- Дежурный (blue) (Покупка) - Имя Фамилия aka @tg_user
- Факап-очередь мастер (Покупка) - Имя Фамилия aka @tg_user
```

Здесь Имя и Фамилия человека - кликабельная ссылка на [Стафф](https://staff.yandex-team.ru)

### Конфигурация уведомлений в чатах
```
Dmitry Korotin:
/notify@GiffanyBot help

giffany_test:
Команда /notify@GiffanyBot позволяет настраивать уведомления
Как использовать: 
- Показать Дежурных в уведомлении: /notify@GiffanyBot show Дежурный
- Скрыть Факап-Очередь мастеров из уведомления: /notify@GiffanyBot hide Факап-Очередь мастер
- Показать настройки уведомлений: /notify@GiffanyBot list-settings
- Показать возможные типы дежурств: /notify@GiffanyBot list-types
- Сбросить настройки уведомлений: /notify@GiffanyBot reset
- Отправить уведомление в чат: /notify@GiffanyBot try-send
```

#### Blacklist vs Whitelist
`/notify@GiffanyBot show` - добавление в whitelist

`/notify@GiffanyBot hide` - добавление в blacklist

Правила обработки:
- Если есть хотя бы одна запись в whitelist то будет применяться он
- Если таковых записей нет, то будет применяться blacklist
