# ACW
В данном репозитории содержится сервис асинхронных проверов ЧВ (ACW)

Сборка и выкладка происходит в CD-pipeline https://tsum.yandex-team.ru/pipe/projects/ir/delivery-dashboard/acw

# Как работать с проектом в аркадии
1) Для начала нужно настроить все для аркадии по гайду https://docs.yandex-team.ru/devtools/intro/quick-start-guide
2) Создать папку за границами аркадии для хранения временных файлов проекта, например ~/projects/acw
3) Сгенерировать проект: ya ide idea --stat --yt-store --group-modules tree --with-content-root-modules --with-common-jvm-args-in-junit-template --local -r ~/projects/acw
4) После генерации проекта в консоле будет инструкция как настроить аркадийный стиль
5) Открыть (не импортировать) проект в IDEA в папке ~/projects/acw
6) Для локального запуска тестов использовать ya make -tt

# Обновление JOOQ-маппингов
* Выполнить скрипт: ./update-jooq.sh

При добавлении новых моделей не забыть добавить новые файлы.

# Postman-скрипты
* коллекция со скриптами Postman для проверки текстов и картинок находится в каталоге **scripts**
* настройка параметров запроса выполняется через переменные Postman в "Prerequest scripts":
  * **ACW_HOST** - хост для вызова ACW. Заполняется для всей коллекции
  * **CHECK_MODE** - режим проверки. Заполняется для каждого запроса
  * **TEXTS_TO_CHECK**/**IMAGES_TO_CHECK** - массивы тексто/картинок для проверки. Заполняются для каждого запроса
