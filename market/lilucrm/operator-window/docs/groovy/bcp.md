# Модификация бизнес-объектов

Система предоставляет простое АПИ для модификации бизнес-объектов:

## Создание бизнес-объекта

Создание любых бизнес-объектов осуществляется при помощи метода `api.bcp.create(fqn, map)`,
где fqn - идентификатор метакласса создаваемого объекта, а map - ассоциативный список значений
атрибутов создаваемого бизнес-объекта.

Пример:
```groovy
api.bcp.create('employee', [
  'lastName': 'Пупкин',
  'firstName': 'Вася'
])
```
В этом примере создается объект метакласса employee, у которого заполнены атрибуты lastName и firstName.

Список доступных метаклассов системы, а также информацию об атрибутах метакласса можно посмотреть на
[странице](https://ow.market.yandex-team.ru/metadata).

В процессе создания бизнес-объекта будет выполнена вся бизнес-логика описанная для объектов создаваемого
метакласса, такая как:
- проверка прав на создание объекта
- заполнение явно неуказанных атрибутов значениями по умолчанию, настроенных для атрибутов
- выполнение триггеров на создание объекта

## Модификация бизнес-объекта

Модификация любых бизнес-объектов осуществляется при помощи метода `api.bcp.edit(obj, map)`,
где obj - модифицируемый бизнес-объект, а map - ассоциативный список модифицируемых атибутов
бизнес-объекта.

Пример:
```groovy
def employee = ...
api.bcp.edit(employee, [
    'lastName': 'Петров'
])
```

В этом примере у бизнес-объекта employee изменяется атрибут lastName.

## Удаление бизнес-объекта

Удаления любых бизнес-объектов системы осуществляется при помощи метода `api.bcp.delete(obj)`.
Пример:
```groovy
def employee = ...
api.bcp.delete(employee)
```
