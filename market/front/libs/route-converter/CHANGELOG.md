# Changelog
Все существенные изменения в компоненте будут задокументированы в этом файле.

Формат файла основан на соглашении [Keep a Changelog](http://keepachangelog.com/en/1.0.0/), а сам проект использует [Семвер](http://semver.org/spec/v2.0.0.html).

## 26.1.0 - 2021-03-12
### Добавлено
- Страница `blue-market:outlet` для десктопа и тача.
- Страница `market:outlet` для десктопа и тача.

## 25.3.0 - 2020-09-21
### Добавлено
- Добавлены конвертеры pokupkiDesktop, pokupkiTouch и базовые URL для pokupki.market.yandex.ru
Для данных конвертеров используются роуты Cинего (после ребрендинга должны переехать на покупки полностью)


## 25.2.1 - 2020-08-12
### Изменено
- Откорректированы имена конвертеров whitePurchaseDesktop -> marketProxyDesktop, whitePurchaseTouch -> marketProxyTouch

## 25.2.0 - 2020-08-12
### Добавлено
- Добавлены конвертеры whitePurchaseDesktop, whitePurchaseTouch и базовые URL для покупки на Белом.
Для данных конвертеров используются роуты Cинего: whitePurchaseDesktop -> blueDesktop, whitePurchaseTouch -> blueTouch

## 25.1.0 - 2020-05-07
### Изменено
- Страница `market:shop-reviews-add` теперь соответвтует `touch:shop-reviews-new`

## 25.0.0 - 2020-04-24
### Изменено
- Имя параметра в роуте страницы `market:brands`: `brand` to `brandId`
- Имя параметра в роуте страницы `market:bvl-licensor`: `bvlId` to `brandId`
- Имя параметра в роуте страницы `market:bvl-franchise`: `bvlId` to `brandId`

## 24.2.0 - 2020-04-07
### Удалено
- Пара страниц `market:trust-landing` для лэндинга доверия Маркету

## 24.1.1 - 2020-03-25
Правка ошибок для новых ключей ЛК

## 24.1.0 - 2020-03-24
### Добавлено
- Страница заданий для ЛК автора `market:my-tasks` / `touch:my-tasks`
- Страница вопросов для ЛК автора `market:my-questions` / `touch:my-questions`
- Страница ответов для ЛК автора `market:my-answers` / `touch:my-answers`
- Страница статей для ЛК автора `market:my-articles` / `touch:my-articles`

## 24.0.0 - 2020-02-18
### Изменено
- Аргумент `login` заменён на `publicId` для страниц `market:user-reviews, market:user-achievements, touch:user-reviews, touch:user-achievements`

## 23.1.0 - 2020-02-10
### Добавлено
- Страница `blue-market:welcome-bonuses-promo` для десктопа и тача.

## 23.0.0 - 2020-01-23
### Добавлено
- Page ID `bm:settings` в Синем Таче теперь `blue-market:my-settings`.

## 22.10.0 - 2020-01-10
### Добавлено
- Страница для ЛК кэшбэка Белого десктопа и тача `market:cashback-wallet` / `touch:cashback-wallet`

## 22.9.0 - 2019-12-30
### Добавлено
- Страница для списка магазинов Белого десктопа и тача `market:shops` / `touch:shops`

## 22.8.0 - 2019-12-26
### Добавлено
- Страницы `blue-market:product-spec`, `blue-market:unsubscribe` для синего десктопа и тача

## 22.7.0 - 2019-12-26
### Добавлено
- Пары страниц для лендинга Топ500 синего `blue-market:selected`

## 22.6.0 - 2019-12-24
### Добавлено
- Страница для лендингов приложения Белого десктопа и тача `market:market-app` / `touch:market-app`

## 22.5.1 - 2019-12-12
### Добавлено
- Добавлен редирект без slug для специальной настраиваемой страницы в КМ Белого десктопа и тача : `market:product-special` / `touch:product-special`

## 22.5.0 - 2019-10-29
### Добавлено
- Специальная настраиваемая страница в КМ Белого десктопа и тача: `market:product-special` / `touch:product-special`

## 22.4.0 - 2019-10-10
### Добавлено
- Страница для автосравнений товаров Белого десктопа и тача `market:versus` / `touch:versus`

## 22.3.0 - 2019-09-04
### Добавлено
- Страница для промо-лендингов вендоров Белого десктопа и тача `market:promo-special` / `touch:promo-special`

## 22.2.0 - 2019-08-20
### Добавлено
- Страницы категорийных Q&A для Белого десктопа и тача: `market:category-questions` / `touch:category-questions` и `market:category-question` / `touch:category-question`

## 22.1.0 - 2019-08-14
### Добавлено
- Страницы `blue-market:bonus-promo` для Синего

## 22.0.0 — 2019-08-08
### Добавлено
- Страницы `market:promo-samsung-tv` и `touch:promo-samsung-tv` для промо лэндинга Samsung TV

## 21.1.0 — 2019-07-23
### Добавлено
- Страницы `market:blog` и `touch:blog` для блога в Белом
- Страницы `market:blog-post` и `touch:blog-post` для страницы поста блога в Белом

## 21.0.0 — 2019-07-11
### Добавлено
- Пары страниц `blue-market:blog` и `blue-market:blog-post` для блога в Беру

## 20.0.0 — 2019-06-27
### Добавлено
- Пара страниц `market:trust-landing` для лэндинга доверия Маркету

## 19.0.0 — 2019-05-27
### Удалено
- Страницы персонажа Белого Десктопа `market:bvl-character`.

## 18.0.0 — 2019-05-24
### Удалено
- Страницы персонажа Белого Тача `touch:bvl-character`.

## 17.0.0 — 2019-05-21
### Изменено
- При конвертации роутов карточки модели между платформами Белого теперь пробрасываются все параметры.

## 16.0.0 — 2019-05-08
### Удалено
- Пара страниц подборщика подарков Белого Тача `touch:gifts` и `touch:gifts-feedId`.

## 15.1.0 — 2019-03-29
### Добавлено
- Конфиг роутов `market:subscribe` и `market:unsubscribe` Белого Маркета.

## 15.0.0 — 2018-03-15
### Удалено
- Пара страниц `market:birthday-landing` для дня рождения Белого Маркета.

## 14.0.0 — 2019-03-06
### Удалено
- Страница `touch:promo-fifa` из Белого Тача,
- Страница `market:promo-fifa` из Белого Десктопа.

## 13.1.0 — 2019-02-19
### Добавлено
- Страница `market:product-geo` соответствует теперь сразу двум страницам в Белом Таче: `touch:product-geo` и `touch:point`,
- страница `market:compare` соответствует теперь сразу двум страницам в Белом Таче: `touch:compare` и `touch:compare-lists`.

## 13.0.0 — 2019-02-12
### Изменено
- Page ID `bm:cart` в Синем Таче теперь начинается с префикса `blue-market`.

### Удалено
- Конфиг роута Белого Маркета `market:product-forum`.

## 12.0.0 — 2019-02-07
### Изменено
- BVL-страницы (страницы о франшизах, персонажах и лицензиарах) в Белом Таче теперь имеют `pageId`, начинающийся с префикса `touch`.

## 11.0.0 — 2018-12-20
### Изменено
- Страница `market:subscription-landing` параметризована `landingId`.

## 10.1.0 — 2018-12-18
### Добавлено
- Пары страниц `blue-market:bonus` и `blue-market:bonus-bind` для бонусов на Синем Маркете.

## 10.0.0 — 2018-12-17
### Изменено
- Page ID `bm:cart` в Синем Таче теперь начинается с префикса `blue-market`.

## 9.3.0 — 2018-12-10
### Добавлено
- Пара страниц `blue-market:certificate-rules` для страницы с описание сертификатов на Синем Маркете.

## 9.2.1 — 2018-11-27
### Изменено
- Белый список CGI-параметров, которые надо прокидывать в URL при любых обстоятельствах, расширился параметрами `utm_content` и `gclid`.

## 9.2.0 — 2018-11-27
### Добавлено
- Пара страниц `market:subscription-landing` для розыгрыша призов за подписку на Белом маркете.

## 9.1.0 — 2018-11-19
### Добавлено
- Пара страниц `blue-market:special` для «Чёрной Пятницы» на Синем Маркете.

## 9.0.0 — 2018-11-16
### Удалено
- Параметр `no-pda-redir` более не добавляется в ссылки на Белый Десктоп.

## 8.0.1 — 2018-11-09
### Изменено
- Опция `addParams` снова позволяет удалять нежелательные query-параметры.

## 8.0.0 — 2018-10-30
### Изменено
- Включён strict-режим построения адресов (возвращает `null`, если нет хотя бы одного обязательного path-параметра);
- роуты с параметром `canonical` считаются устаревшими в Синем Таче и Синем Десктопе и помечены префиксом `legacy-`;
- актуальные роуты используют параметр `slug` в Синем Таче и Синем Десктопе; параметр обязателен;
- исправлена подстановка `hid` вместо `nid` для Белого Десктопа;
- файлы с дефинициями Flow-типов теперь имеют правильное имя в NPM-пакете, за счёт чего на этот раз распознаются Flow;
- `@yandex-market/codestyle` обновлён до версии `2.10.3`.

### Удалено
- Неиспользуемые маршруты в конфигах (`blue-market:product-reviews-add`, `bm:product-reviews-new`).

## 7.1.0 — 2018-11-19
### Добавлено
- Пара страниц `blue-market:special` для «Чёрной Пятницы» на Синем Маркете.

## 7.0.0 — 2018-10-19
### Изменено
- Параметр `canonical` в Белом Таче теперь называется `slug`, как и в Белом Десктопе (см. версию `1.22.0`).

## 6.0.0 — 2018-10-19
### Добавлено
- Дефиниции Flow-типов в файлах `.js.flow`.

### Изменено
- Переименованы page ID Синего Тача: `bm:my-orders -> blue-market:orders`, `bm:my-order -> blue-market:order` и `bm:order-receipt-file -> blue-market:order-receipt`.
- Багфикс: попытка конвертировать неизвестный библиотеке роут с опцией `addParams` больше не влияет на последующее конвертирование роутов. По сути был восстановлен багфикс из версии `0.2.18` и написаны юнит-тесты на этот кейс.

## 5.0.0 — 2018-10-12
### Изменено
- Page ID `bm:catalog` и `bm:list` в Синем Таче теперь начинается с префикса `blue-market`.

## 4.2.0 — 2018-10-10
### Добавлено
- Пары страниц `market:product-questions` и `market:product-question` — «вопросы и ответы» в Белом Маркете.

## 4.1.0 — 2018-10-02
### Добавлено
- Пара страниц `market:birthday-landing` для дня рождения Белого Маркета.

## 4.0.0 — 2018-09-28
### Изменено
- Page ID `bm:search` в Синем Таче теперь начинается с префикса `blue-market`.

## 3.1.0 — 2018-09-05
### Добавлено
- Конфиги роутов для страницы «лучшие отзывы» (`market:reviews`) в Белом Маркете.

## 3.0.0 — 2018-09-05
### Изменено
- Page ID для карточки SKU в Синем Таче `bm:product` заменён на `blue-market:product`.

## 2.0.0 — 2018-08-28
### Добавлено
- CI-проверки: eslint, flow,
- применён veendor для менеджмента зависимостей.

### Изменено
- Page ID `bm:index`, `bm:order-conditions` и `bm:deals` в Синем Таче теперь начинаются с префикса `blue-market` — как и в Синем Десктопе.

## 1.23.0 — 2018-08-27
### Добавлено
- Конфиги роутов для списков отзывов к модели Синего Десктопа и Тача.

## 1.22.0 — 2018-08-24
### Изменено
- Параметр `canonical` в Белом Десктопе теперь называется `slug`.

## 1.21.2 — 2018-10-02
### Добавлено
- Пара страниц `market:birthday-landing` для дня рождения Маркета.

## 1.21.1 — 2018-09-18
### Добавлено
- Конфиги роутов для страницы «лучшие отзывы» (`market:reviews`) в Белом Маркете.

## 1.21.0 — 2018-08-15
### Изменено
- Со страницы видеообзоров Белого Тача теперь не прокидываются query-параметры, не поддержанные в Белом Десктопе (и наоборот).

## 1.20.0 — 2018-08-10
### Добавлено
- Конфиги роутов для страниц мультивыдачи для Белого Десктопа и Тача.

## 1.19.0 — 2018-08-02
### Добавлено
- Поддержка каноникал-ссылки на странице видеообзоров Белого Тача:

  ```
  market:product-articles <-> touch:product-videos
  ```

## 1.18.0 — 2018-07-06
### Добавлено
- Поддержка каноникал-ссылок на страницы Белой карточки магазина:

  ```
  market:shop <-> touch:shop
  market:shop-reviews(-add) <-> touch:shop-reviews
  ```

## 1.17.0 — 2018-07-06
### Добавлено
- Конфиги роутов для страницы отказа от опроса.

## 1.16.0 — 2018-07-03
### Изменено
- Между страницами карточки модели (например, `market:product` и `touch:product`) включен проброс canonical (slug) path-параметра.

## 1.15.0 — 2018-06-29
### Удалено
- Конфиги роутов страницы информации о бета-версии `beru.ru`.

## 1.14.0 — 2018-06-28
### Добавлено
- Конфиги роутов для страницы cкидок на `beru.ru`.

## 1.13.0 — 2018-06-20
### Добавлено
- Конфиги роутов для промо страницы Winx.

## 1.12.0 — 2018-05-28
### Добавлено
- Конфиги роутов для промо страницы FIFA.

## 1.11.0 — 2018-05-27
### Изменено
- Конфиги роутов для нового типа CMS-страниц: `market:promo`,
- конфиг роутов для алиаса подборок (collections) - `market:promo-collections`.

## 1.10.0 — 2018-05-17
### Изменено
- Домен `pokupki.yandex.ru` заменён на `beru.ru`.

## 1.9.0 — 2018-05-04
### Добавлено
- Конфиги роутов для страниц персонажа и франшизы,
- конфиги роутов для страницы скрытых отзывов на магазин.

## 1.8.0 — 2018-04-23
### Добавлено
- Конфиги роутов для страниц контентных хабов.

## 1.7.0 — 2018-04-17
### Добавлено
- Конфиги роутов для новых страниц ачивок.

## 1.6.0 — 2018-04-06
### Добавлено
- Конфиги роутов для новых страниц статей.

## 1.5.0 — 2018-03-16
### Добавлено
- Конфиги роутов для страниц синего Десктопа и Тача: "Настройки", "Мои заказы", страницы просмотра одного заказа, оплаты заказа, просмотра чека заказа, условий оплаты и доставки, "Бета"-страницы.

### Изменено
- Исправлен конфиг роутов страницы корзины в Синем Таче,

## 1.4.0 — 2018-03-14
### Добавлено
- Конвертация роутов Синего Маркета,
- конфиги роутов для базовых страниц Синего Маркета.

## 1.3.0 — 2017-12-14
### Добавлено
- Конфиги роутов для страницы "Корзина".

## 1.2.0 — 2017-12-14
### Добавлено
- Конфиги роутов для страницы франшизы.

## 1.1.0 — 2017-12-12
### Добавлено
- Конфиги роутов для страницы отзывов пользователя.

## 1.0.1 — 2017-12-07
### Добавлено
- Конфиги роутов для страницы подборщика подарков.

## 1.0.0 — 2017-12-02
### Добавлено
- Подключен транспайлинг в prepublish, чтобы написанный на ES6 модуль работал на клиенте как раньше,
- подключена проверка синтаксиса согласно `@yandex-market/codestyle`.

### Изменено
- Весь код переписан на ES6,
- ченджлог вынесен в отдельный файл,
- десктопной странице `market:all-filters` больше не соответствует `touch:choose-search` в Таче, теперь в качестве соответствия `touch:search-filters`.

### Удалено
- Модуль больше не принимает path и querystring и не парсит их, так что в случае расхождения названий path-параметров в конфигах роутов route-converter и конфигах проекта, ссылки будут конвертироваться неправильно;
- убрана замена параметра `how=ddiscount` на `how=discount_p` при переходе со страницы `market-touch:category` на `market:list`, поскольку в настоящий момент и в Таче, и в Десктопе используется `discount_p`;
- убрана поддержка неиспользуемого page ID `market-touch:category`.

## 0.2.27 — 2017-12-01
### Добавлено
- Конфиги роутов для хаба магазина в Таче.

## 0.2.26 — 2017-11-21
### Добавлено
- Конфиги роутов для лендинга чёрной пятницы (лента).

## 0.2.25 — 2017-11-14
### Добавлено
- Конфиги роутов для игровой механики чёрной пятницы (розыгрыш).

## 0.2.24 — 2017-10-12
### Добавлено
- Конфиги роутов для страницы сравнения товаров.

## 0.2.23 — 2017-10-09
### Добавлено
- Конфиги роутов для страницы "Мои отзывы".

## 0.2.22 — 2017-09-28
### Изменено
- URL'ы вишлиста и карты на карточке модели приведены в соответствие с десктопными.

## 0.2.21 — 2017-08-23
### Добавлено
- Конфиги роутов для новой страницы одного заказа на Десктопе.

## 0.2.20 — 2017-07-21
### Изменено
- Произведён переезд на `lodash`.

## 0.2.19 — 2017-07-14
### Добавлено
- Возможность `require('route-converter')` на клиенте,
- проверка на конвертацию параметра `ddiscount` в `discount_p` в тесте.

## 0.2.18 — 2017-07-06
### Изменено
- Багфикс: теперь `DEFAULT_PARAMS` не мутируется при вызове функций модуля.

## 0.2.17 — 2017-06-27
### Добавлено
- Поддержка canonical (человекопонятных URL'ов) для выдачи.

### Изменено
- `touch:choose` заменён на `touch:choose-search`, поскольку в Таче появился такой редирект.

## 0.2.16 — 2017-06-07
### Добавлено
- Разнообразные `touch:product-reviews`-related страницы.

### Изменено
- Карточка модели Тача теперь не такое суровое SPA (долой `tabId` из URL'ов),
- десктопная страница "Карта" карточки модели теперь соответствует странице `touch:product-mapp`.

## 0.2.15 — 2017-05-25
### Изменено
- Десктопная страница модификаций карточки модели теперь соответствует морде карточки модели Тача.

## 0.2.14 — 2017-03-24
### Изменено
- Версия `0.2.11` вмёржена в основную ветку.

## 0.2.13 — 2017-03-22
### Добавлено
- Белый список query-параметров `WHITELIST_PARAMS`, которые никогда не исчезают из ссылки после конвертации.

## 0.2.12 — 2017-03-07
### Добавлено
- canonical (человекопонятные URL'ы) для страницы бренда.

## 0.2.11 — 2017-03-06
Эта версия некоторое время использовалась только в Таче.

### Изменено
- Все старые page ID тача `market-touch:` заменены на новые page ID `touch:`,
- исправлена логика `touch:catalog` в связи с будущей выкладкой выдачи, переписанной на nodejs. Осторожнее с апдейтом на Десктопе: это нельзя делать, пока в Таче не заработают пути `touch:list`.

## 0.2.10 — 2017-01-27
### Добавлено
- Замена параметра `how=ddiscount` на `how=discount_p` при переходе со страницы `market-touch:category` на `market:list`.

## 0.2.9 — 2016-10-28
### Добавлено
- Конфиги роутов на страницы подборок.

## 0.2.8 — 2016-10-24
### Добавлено
- Юнит-тесты.

### Изменено
- Перенесены ассерты `analogousPages.analogousPagesList` в тесты,

### Удалено
- Зависимость от `Terror`.

## 0.2.7 — 2016-10-20
### Изменено
- Актуализированы конфиги роутов на страницы брендов.

## 0.2.6 — 2016-10-04
### Добавлено
- Конфиги роутов для страниц каталога в `x5.market`.

## 0.2.5 — 2016-09-22
### Изменено
- Выпилен костыль для старой версии `Susanin`, поскольку его проапдейтили в `x5.touch`. Внимательнее с апдейтом `route-converter` в `x5.market`.
