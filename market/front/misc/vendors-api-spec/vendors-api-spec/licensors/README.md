# Ресурс /licensors

## POST /licensors

Создание новой карточки лицензиара

### Примечания
  - Карточка должна иметь уникальный заголовок
  - В карточке могут быть переданы франшизы лицензиара, на данный момент в неформализованном строковом виде 
  - Создавать карточку может менеджер (он автоматически назначается менеджером карточки лицензиара) или суппорт

### Параметры
  - **uid** `<UID>` - обязательный параметр для аутентификации

### Данные
  - **title** `<String>` - имя карточки лиценциара
    - *выводится в верхней шапке в выпадающем списке*
    - *является уникальным как среди вендоров, так и лицензиаров и может служить для идентификации и поиска карточки*
  - **company** `<String>` - имя компании лицензиара
  - **address** `<String>` - юридический адрес компании лицензиара
  - **name** `<String>` - контактное лицо
  - **phone** `<Phone>` - контактный телефон
  - **email** `<Email>` - контактный e-mail
  - documents [`<Array[Document]>`](/_entities/documents/Document.md) - список документов, подтверждающих права принятия оферты, обязателен для лицензиара, принявшего оферту
  - сontract `<String>` - идентификатор контракта лицензиара
  - site `<String>` - ссылка на официальный сайт лицензиара 
  - franchisings [`<Array[Franchising]>`] - франшизы лицензиара, переданные списком 
  - сomment `<String>` - комментарий
### Ответ
 - [см GET /licensors/[licensorId]](https://github.yandex-team.ru/market/vendors-api-spec/tree/master/licensors/%5BlicensorId%5D#Ответ)

### Ошибки

#### [Стандартные](https://github.yandex-team.ru/market/vendors-api-spec#Стандартные-ошибки)
#### [Неверные параметры вызова](https://github.yandex-team.ru/market/vendors-api-spec#Неверные-параметры-вызова)
 - Лицензиар или вендор с указанным заголовком уже существует - `ALREADY_EXISTS`
 - Сочетание имени компании лицензиара и имени франшизы уже существует 
#### [Ошибки работы с документами](/_rules/documents/DocumentErrors.md)

##### Примечания
  - [Правила работы с документами](/_rules/documents/DocumentRules.md#postинг)
  - [Правила работы с документами в "оферте"](/_rules/documents/OfferDocumentRules.md)

## GET /licensors

Получение списка карточек лицензиаров

### Примечания
  - Получение списка карточек доступно для всех. Для менеджера, "читающего" менеджера и суппорта выводятся все карточки лицензиаров. Для ролей лицензиара выводятся его карточки
  - Пагинация не поддерживается из-за невысокого кол-ва карточек лицензиара

### Параметры
  - **uid** `<UID>` - обязательный параметр для аутентификации
  - text `<String>` - полнотекстовый поиск по карточке: по заголовку, имени компании и франшизам
  - manager `<String>` - UID или логин менеджера, чьих лицензиров нужно отобразить

### Ответ
  - **meta** `<Object>`
  - result `<Object>`
    - **item** `<Array[Object]>` - каждый из объектов массива соответствует ответу по запросу единичной карточки лицензиара,
      [см GET /licensors/[licensorId]](https://github.yandex-team.ru/market/vendors-api-spec/tree/master/licensors/%5BlicensorId%5D#Ответ)
  - errors `<Error[]>`

### Ошибки

#### [Стандартные](https://github.yandex-team.ru/market/vendors-api-spec#Стандартные-ошибки)

## GET /licensors/suggest/[entity]/name

Получение списка подходящих имен для лицензиара, франшизы или персонажа (саджест)

### Примечания
  - Саджест доступен для всех

### Параметры
  - **uid** `<UID>` - обязательный параметр для аутентификации
  - **entity** `<String>` - ключ для поиска имен для конкретной сущности, возможные значения: `"licensor"`, `"franchising"`, `"character"`
  - text `<String>` - подстрока для поиска

### Ответ
  - **meta** `<Object>`
  - result `<Object>`
    - **item** `<Array[String]>` - список подходящих имен и алиасов для сущности `"entity"` и подстроки `"text"`
  - errors `<Error[]>`

### Ошибки

#### [Стандартные](https://github.yandex-team.ru/market/vendors-api-spec#Стандартные-ошибки)
#### Попытка передать в entity неподдерживаемое значение
  - statusCode: `400`
  - code: `CONVERSION_NOT_SUPPORTED`
  - message: Failed to convert value 

