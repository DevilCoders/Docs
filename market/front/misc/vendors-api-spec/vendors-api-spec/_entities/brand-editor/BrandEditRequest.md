# Сущность "BrandEditRequest"

Заявка вендора на редактирование данных бренда.

### Поля (вариант для списков):
  - **id** `<Integer>` - номер заявки
  - **vendorId** `<Integer>` - идентификатор вендора, создавшего заявку
  - **vendorTitle** `<String>` - название карточки вендора
  - **vendorCategories** [`<Array[Category]>`](/_entities/Category.md) - список категорий вендора
  - **brandId** `<Integer>` - идентификатор редактируемого бренда
  - **status** `<String>` - статус заявки
  - **createdAt** [`<DateTime>`](/_entities/DateTime.md) - дата создания заявки
  - closedAt [`<DateTime>`](/_entities/DateTime.md) - дата успешной отправки данных в MBO
  - lastUpdatedAt [`<DateTime>`](/_entities/DateTime.md) - дата последнего изменения заявки модератором
  - sourceRequestId `<Integer>` - номер исходной заявки (только в случае, если эта заявка
   была [создана модератором, как коррекция предыдущего решения](/brandEditRequests/[ID]/revert))
  - comment `<String>` - комментарий модератора
  - errorMessage `<String>` - сообщение об ошибке (может присутствовать, если заявка находится в статусе "COMMIT_ERROR", в случае неуспешной отправки данных в MBO)
  
### + Поля (полный вариант):
  - **oldBrandData** [`<Brand>`](/_entities/Brand.md) - "старые" данные бренда (текущие, или бывшие до редактирования)
  - **newBrandData** [`<Brand>`](/_entities/Brand.md) - новые данные бренда, предложенные вендором
  - fieldsStatusData [`<Map[String, BrandFieldStatus]>`](BrandFieldStatus.md) - статусы модерации заявки по отдельным полям

  Жирным отмечены поля, обязательные при **получении заявки с бекенда**.
  Любые комментарии к ручке приоритетнее, чем описание сущности!

### Примечания
  - Возможные статусы заявки:
    - "OPEN" (доступна для редактирования)
    - "APPROVED"
    - "CLOSED"
  - Объект `oldBrandData` гарантированно содержит только те же поля, что и `newBrandData`, **или меньше**, т.к. некоторые поля могут присутствовать только в новых данных. Но "старый бренд" гарантированно не будет содержать те данные, которых нет в "новом бренде"
  - В поле `newBrandData` логотип **всегда** представлен в виде BASE64
  - В поле `oldBrandData`, пока заявка в статусе `OPEN`, логотип представлен УРЛом,
  после смены статуса логотип представлен в виде BASE64

### `fieldsStatusData`
Поле `fieldsStatusData` **может** (но не гарантированно) содержать элемент под таким же именем, как и допустимое для редактирования поле в объекте [`<Brand>`](/_entities/Brand.md) (см. примеры). Если такое поле есть, то его значение гарантированно является объектом [`<BrandFieldStatus>`](BrandFieldStatus.md)

### Примеры:
```
{
  "id": 42,
  "vendorId": 32,
  "vendorTitle": "Нокиа Вепонс Энд Мобайл",
  "vendorCategories": [
    {
      "id": 5476,
      "path": ["Все товары", "Безопасность и оборона", "Портативная электроника", "Рации и GPS-сигнализаторы"],
      "name": "Все товары/Безопасность и оборона/Портативная техника/Рации и GPS-сигнализаторы"
    },
    {
      "id": 2376,
      "path": ["Все товары", "Портативная электроника", "Мобильные телефоны"],
      "name": "Все товары/Портативная электроника/Мобильные телефоны"
    }
  ],
  "brandId": "35643",
  "oldBrandData": {
    "name": "Nokia Mobile",
    "description": "Компания Nokia является одним из лидирующих и зарекомендовавших себя
    производителем мобильных телефоном и других портативных гаджетов.
    На рынке связи с 60-х годов."
    "picture": {
      "url": "http://i.imgur.com/T1oPtXE.jpg"
    }
  },
  "newBrandData": {
    "name": "Nokia Weapons & Mobile",
    "description": "Компания Nokia является лидирующим и зарекомендовавшим себя
    производителей самых надёжных и недорогих раций, сигнализаторов, детекторов и маячков пожирателей,
    и другой портативной техники для обороны и выживания. А так же мобильных телефонов.
    На рынке обороны с 50-х годов."
    "picture": {
      "url": "http://i.imgur.com/td55kNs.jpg"
    }
  },
  "fieldsStatusData": {
    "name": {
      "status": true
    },
    "description": {
      "comment": "Опечатки в описании"
    },
    "picture": {
      "status": true,
    }
  },
  "status": "OPEN",
  "comment": "В целом норм, но надо уточнить про описание",
  "createdAt": "2022-09-15 13:44:21"
}
```
```
{
  "id": 63,
  "vendorId": 22,
  "vendorTitle": "Стрит-Айскрим",
  "vendorCategories": [
    {
      "id": 5476,
      "path": ["Все товары", "Вкусняшки", "Мороженка"],
      "name": "Все товары/Вкусняшки/Мороженка"
    },
  ],
  "brandId": "873452",
  "oldBrandData": {
    "name": "Golden Gaytime",
    "picture": {
      "url": "http://i.imgur.com/OX1wWis.jpg"
    }
  },
  "newBrandData": {
    "name": "Quicky Licky",
    "picture": {
      "body": "iVBORw0KGgoAAAANSUhEUgAAAGAAAA==",
      "type": "png"
    }
  },
  "fieldsStatusData": {
    "name": {
      "comment": "Чота не сильно лучше стало =\"
    }
  },
  "status": "OPEN",
  "createdAt": "2018-03-22 20:01:14"
}
```
