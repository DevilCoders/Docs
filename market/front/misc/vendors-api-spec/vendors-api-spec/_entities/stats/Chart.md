# Сущность "Chart"

График статистики

### Описание
График представляет из себя **таблицу** с минимум двумя столбцами.
Способ передачи данных независим от конкретного отображения (конкретного типа графика на фронте).

Данные для графика передаются в виде набора "строк".
Каждая строка состоит из двух полей:
1. `x` - столбец-ключ, обязательно содержит одно и только одно значение. Чаще всего отражает вектор "Х" на реальном
графике (есть есть), но не обязательно.
2. `y` - набор значений остальных столбцов таблицы.

Графики могут быть "двумерными" или "многомерными".
В двумерном графике точка в пространстве идентифицируется двумя координатами.
В случае двумерного графика, поле `y` гарантированно содержит только одно значение,
потому что нужна только одна координата, кроме `x`, чтобы идентифицировать точку.

Пример строки двумерного графика: `{"x": 42, "y": 100}`

В многомерном графике требуется более двух координат для идентификации точки.
В случае многомерного графика, поле `y` гарантированно содержит **список** значений.

Пример строки многомерного графика: `{"x": 42, "y": [100, 200, 300]}`

Если график многомерный, то необходим способ идентифицировать дополнительные столбцы.
Для этого объект графика содержит дополнительное поле со списком "заголовком столбцов".
Размер списка с заголовками гарантированно равен кол-ву значений в поле `y`.
Столбец `x` не имеет заголовка, потому что является ключевым.

Двумерный график гарантированно содержит **один заголовок столбца**.

### Поля:
  - **columnHeaders** `<Array[String]|Array[Object]>` - заголовки (идентификаторы) "столбцов".
  Кол-во заголовков столбцов **обязательно** будет таким же, как и кол-во значений `y`.
  При наличии только одного `y` в качестве имени столбца может быть использован
  обобщённый идентификатор (пример: `"MONEY"` или `"CLICKS"`).
  - **entries** `<Array[Object]>` - первое значение по оси `X`
    - **x** [`<DateTime|Object>`] - значение `X` в точке графика (для разной статистики может приходить в разном виде)
    - **y** `<Number|Array[Number]>` - значения `Y` в точке графика.
    Если присутствует только одно значение, то оно приходит числом,
    а не массивом чисел.

### Пример
Пример чарта с датами (в миллисекундах UTC) в качестве значений `X`.
Именно так будет выглядеть график присылаемый в статистике:
```
{
  "columnHeaders": ["CLICKS"],
  "entries": [
    {
      "y": 100,
      "x": "2016-12-31T21:00:00Z"
    },
    {
      "y": 110,
      "x": "2017-01-01T21:00:00Z"
    },
    {
      "y": 200,
      "x": "2017-01-02T21:00:00Z"
    }
  ]
}
```
Пример чарта с несколькими значениями `y`. Примерно так будет выглядить график,
присылаемый в вендорских отчётах вроде "Динамика категории - доля кликов".
В качестве заголовков использованы название и идентификатор бренда:
```
{
  "columnHeaders": [
    {"brandId": 12345, "brandName": "BORK"},
    {"brandId": 76543, "brandName": "Philips"}
  ],
  "entries": [
    {
      "y": [100, 200],
      "x": "2016-12-31T21:00:00Z"
    },
    {
      "y": [110, 220],
      "x": "2017-01-01T21:00:00Z"
    },
    {
      "y": [200, 350],
      "x": "2017-01-02T21:00:00Z"
    }
  ]
}
```

[`<DateTime|Object>`]: /_entities/DateTime.md