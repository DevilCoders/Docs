# скрипт для создания групповых веток

## состояние

рабочее, но все это черновик

## usage

видео - https://jing.yandex-team.ru/files/asvasilenko/Kapture%202022-04-12%20at%2019.25.14.mp4

```
./bin/create-group-branch <путь к конфигу>

# пример конфига тут в example.js

# если возникает конфликт при черри-пике, то нужно удалить исправленный коммит из config.statusFile 
# и снова запустить скрипт
```

## как это работает

- получаем свежий trunk
- получаем свежую версию каждой ветки (checkout, reset --hard, pull)
- каждую ветку ребейзим на транк
- от транка делаем групповую ветку
- для каждой ветки берем список коммитов от транка 
- и делаем покомитный cherry-pick
- пушим групповую ветку

## roadmap

1. если на этапе черри-пика возник конфликт, то чтобы продолжить после решения конфликта нужно в статус файле удалить этот коммит из массива вручную. 
  Нужно каким-то образом узнавать что коммит вмержен, или удалять его из статус файла даже в случае ошибки

...