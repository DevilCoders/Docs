## Логика прохождения квеста

Пользователь при первом своем входе в бот автоматически начинает прохождение квеста.
Квест - набор сообщений (вопросов и реакций), который изначально хранится и редактируется в wiki.

Каждый день пользователю отправляется очередной вопрос из квеста с различными вариантами ответа, которые выводятся в виде кнопок.
Пользователь может кликнуть на ответ, он уйдет боту и в ответ бот ответит некоторой реакцией (сообщением).
Если в течение заданного промежутка времени пользователь ничего не ответил, ему отправляется дефолтная реакция.
Таким образом, каждый этап квеста выглядит следующим образом:
```
  question => answer => reaction
  question => ... (timeout) ... => defaultReaction
```

В течение одного дня пользователю может приходить больше одного сообщения.
Они должны приходить с некоторым промежутком времени между ними.
Промежуток времени между вопросами должен быть больше, чем таймаут на отправку дефолтной реакции.


## Недостатки текущей реализации
Текущая техническая реализация имеет, как минимум, один существенный недостаток. Заключается он в том, что при добавлении или удалении
этапов квеста, у пользователей, которые уже начали прохождение квеста, могут задублироваться вопросы, или же они могут недополучить
какие-то из вопросов.
Варианты решения:
1) Версионирование. Если изменилось количество вопросов в квесте - создавать новую версию квеста. Все новые пользователи будут получать новую версию
квеста, а все старые - продолжать проходить предыдущую. При корректировке вопросов, исправлении ошибок новые версии создаваться не будут.
2) Создание редактора квестов. Таких готовых редакторов, на самом деле, существует уже немалое количество, можно взять какой-то готовый и развернуть его.
У этого подхода есть интересное преимущество: создание разветвленных сложных квестов.


## Техническое детали
В первой версии хрума, которая была на питоне, данные квеста парсились каждое утро sandbox-таском из вики и клались в MDS в виде json-файлов.
В новой версии хрума было решено сделать это иначе: пользователь может поправить данные квеста, отправить боту команду и бот сразу же обновит квест.
Таким образом, отпадает необходимость в ожидании утра или же необходимости взаимодействия с программистом.