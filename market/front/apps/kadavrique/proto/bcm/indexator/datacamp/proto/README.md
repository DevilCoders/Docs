# Единая теория Датакемпа

<https://wiki.yandex-team.ru/Market/Development/Indexer/Arxitektura-Marketnogo-Indeksatora/Offer-Repository>

## Поддиректории

### offer

- Описание офера, необходимое для хранения и доставки инструкций по изменению
- Используется в HTTP протоколах, сообщениях логброкера, хранении офера в YT таблицах
- Имеет копии в гитовом репозитории

### api

- Интерфейсы синхронного контроллера между MBI и индексатором
- Используются только для пуш-партнеров
- Имеет копии в гитовом репозитории

### tables

- Схемы и форматы таблиц хранилища
- Используется только в индексаторе
- Не собирается в Java артефакт

## Особенности

Стандартный генератор Java кода в гитовом репозитории не умеет работать с протосообщениями, которые совпадают с именем модуля.
Во всех файлах с потенциальными конфликтами следует использовать опцию вида

```java
option java_outer_classname = "DataCampOfferBids";
```
