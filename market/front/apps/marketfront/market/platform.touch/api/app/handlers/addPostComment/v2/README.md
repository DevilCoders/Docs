# Резолвер addPostComment

## Описание

Резолвер, который создает комментарий на пост. Необходима авторизация.
Можно отвечать на другие комментарии, таким образом создавать "дерево" комментариев. Комментарий, на который ответ, определяется параметром parentId.
Возвращает созданный комментарий.

| Parameter | Type | Description | Default | Value |
| ----------- | -------- | ----------------------- | ----- | ----- |
| `postId` | PostId | Ид поста | - | - |
| `text` | string | текст комментария | - | - |
| `levelRootId` | string | ид сущности, которая является корнем уровня, нужно для "схлопывания" комментариев в уровни. Если значение не передано, то рутом является исходная статья, и создаваемый комментарий будет первого уровня. Необязательный параметр | - | - |
| `parentId` | number | Ид родителя, необязательный параметр | - | - |
| `isReply` | boolean | Необязательное поле. Нужно ли сохранять ид автора комментария, на который сохраняемый комментарий является ответом | - | - |
| `source` | string | Необязательное поле. место создания комментария, например `feed`, нужно для разбивки на персовых графика; | - | - |

_Сущность user была переименована в publicUser. Для обеспечения обратной совместимости отправляются 2 коллекции - в старом и новом формате. В новом коде предпочтительно использовать новое имя сущности и коллекции, т.е publicUser. По возможности в старом коде также желательно выполнить миграцию._

Ссылочки:

- [Входные параметры](https://github.yandex-team.ru/market/marketfront/blob/master/market/platform.touch/api/app/handlers/addPostComment/v2/index.js#L24)
- [Микроформат сущности](https://github.yandex-team.ru/market/microformats/blob/master/commentary/commentary.json)
- [Описание сущности `комментарий` в проекте](https://github.yandex-team.ru/market/master/blob/platform.touch/entities/commentary/index.js)
