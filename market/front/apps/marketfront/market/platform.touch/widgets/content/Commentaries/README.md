# Виджет комментариев

## Описание

* Комментарии с entity='commentary'
* Получаем из persQA
* В текущий момент используется для статей журнала и сравнения
* Имеют три уровня для отображения
* Первый уровень показывает три комментария со свернутыми ответами по умолчанию
* Авторизованный пользователь (АП) может ответить на любой комментарий (в том числе свой)
* АП может редактировать свой комментрий
* АП может лайкнуть/дислайкнуть любой комментарий
* Любой пользователь может пожаловаться на комментарий (за исключением своего)
* При удалении комментария:
  * Если есть потомки, то комментарий заменяется на заглушку
  * Если комментарий не имеет ответов, то просто пропадает
  * Если удалить потомка удаленного комментария, то удалится и родитель-заглушка
  * Если это комментарий первого уровня и показано меньше 3 комментариев, то с сервера запросится еще один коммент (при общем числе больше 3 комментов)
* Ответы на комментарии 3+ уровня отображаются плоским списком на 3ем уровне
* Форма добавления ответов на 2+ уровне общая для ветке, с родителем второго уровня
