#Виджет отслеживания электронной коммерции

Для аналитических нужд и запуска рекламных кампаний целей метрики не достаточно.  
Поэтому собираем дополнительные данные: просмотр главной, страницы категории/выдачи, карточка продукта 
и процесс покупки.

##Потребители
* Метрика
* Внешние системы, подключенные через [Google Tag Manager](https://wiki.yandex-team.ru/Market/beru/gtm/)

##Если коротко
Собирается объект данных о продукте + действие пользователя и пушится в глобальный массив
`dataLayer`, дальше метрика и гтм автоматически из него забирают данные.

###Чуть подробнее
`epics` — тут подписки на глобальные экшены и сбор данных из стора. 
`ecommerceWidget` отправляет данные при загрузке страницы, сами данные готорят ресолверы.

```resolvers``` — в осном файле сбор общих данных, которые нужно слать всегда. В именованных — сбор страничноспецифичных. 


##Полезные ссылки
* [Метрика/ Электронная коммерция](https://yandex.ru/support/metrika/data/e-commerce.html)
* [Руководство по расширенной электронной торговле для разработчиков (Universal Analytics)](https://developers.google.com/tag-manager/enhanced-ecommerce)
* [Use Enhanced Ecommerce Data Layer With Facebook Pixel](https://www.simoahava.com/analytics/enhanced-ecommerce-facebook-pixel/)

