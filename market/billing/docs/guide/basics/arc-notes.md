# Наблюдение про Arc
**Документация Arc:** <https://docs.yandex-team.ru/arc/>

**Про решение конфликтов:** <https://doc.yandex-team.ru/arc/manual/arc/start.html#konflikt>

**Про работу с remote ветками:** <https://doc.yandex-team.ru/arc/manual/arc/start.html#rabota-s-dannymi-iz-remote-vetok>

{% note info %}

В целом логика работы с кодом напоминает [git](https://git-scm.com/book/ru/v2), в особенности при работе с ветками

{% endnote %}

## Arc PR

### Создание PR { #pr-create }

Сначала необходимо [сохранить изменения](arc-begin.md#save) в коде. Далее надо запушить изменения на сервер,
создав при этом на сервере новую ветку `arc push -u users/username/branch-name`. Затем создать PR из серверной ветки
`arc pr create`.

Так же можно сделать одной командой: `arc pr create --push -m "PR-message"`


### Добавление изменений в PR

Все последующие добавления коммитов в черновик, производятся командой `arc push`.

Каждый следующий коммит будет отображаться в Аркануме как отдельная версия. При том каждая версия - это изменения
на момент последнего коммита в ветку.

### Публикация PR

Изменения загружаются в PR, но остаются не опубликованы, это так называемый "черновик" (Draft) изменений. Это делается для того, чтобы автор мог внести изменения в PR до того, как приглашать других сотрудников к проведению Code Review.

Чтобы опубликовать изменения можно выполнить команду `ya pr publish -i=<ID_PR>` (<ID_PR> можно посмотреть выполнив команду `ya pr list`) или нажать кнопку "Publish" в интерфейсе Arcanum (открыв соответсвующий PR).

## Workflow по работе с Arc
1. Спулить изменения trunk
1. Создать новую ветку
1. Работать в ветке
1. Сделать PR

Если необходимо в ходе работы можно спулить trunk и сделать [rebase](https://docs.yandex-team.ru/arc/ref/commands#rebase).
```
    arc pull trunk
    arc rebase trunk
```
