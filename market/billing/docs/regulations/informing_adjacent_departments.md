# Информированние о проблемах биллинга

## Вводная

### Для чего это все? Зачем нужен этот регламент?

Этот регламент создается для отладки процессов взаимодействия связанных отделов.  
В частности, хочется наладить процессы получения нужной всем отделам информации о текущих проблемах биллинга.  
На данный момент потоки информации разрозненные и в один момент каждая взятая группа может не иметь всей нужной информации для какого-нибудь реагирования и/или принятия решений.

### Какие задачи решаем?

* Консолидация потоков информации о проблемах в одном/нескольких очень определенных местах
* Определение ответственных групп
* Правила передачи самой информации
* Правила ведения тикетов на решение возникшей ситуации

## Канал про информирование (Ссылка на подключение - [https://t.me/joinchat/zuU53NzpNO02MTRi](https://t.me/joinchat/zuU53NzpNO02MTRi) )

### Кто будет писать

* Кто первый написал. Дублирование информации не должно происходить.
* Разработка - если мы знаем о проблеме и есть тикет на исправление. Причем проблема должна подходить критериям 
* Саппорт - если проблема стала известна из обращений пользователей. При этом должен существовать мета-тикет с примерами партнеров, описанием ситуации и тем, как ее можно повторить (если это применимо к ситуации)
* Продакты - аналогично саппортам

### Кто будет читать

* Разработка ([@teslenko](https://staff.yandex-team.ru/teslenko))
* Продакты ([@tatkovalenko](https://staff.yandex-team.ru/tatkovalenko))
* Саппорты ([@nbeynar](https://staff.yandex-team.ru/nbeynar), [@alex27j](https://staff.yandex-team.ru/alex27j), [@smiryagin](https://staff.yandex-team.ru/smiryagin), [@funkodelic](https://staff.yandex-team.ru/funkodelic))
* Менеджеры КД ([@alshits](https://staff.yandex-team.ru/alshits))
* Редакторы ([@sasharavrav](https://staff.yandex-team.ru/sasharavrav) и [@ivaxenia](https://staff.yandex-team.ru/ivaxenia))
* Группа по работе с платежами и документами ([@kutuzova-a](https://staff.yandex-team.ru/kutuzova-a))
* Группа обучения ([@karaimoa](https://staff.yandex-team.ru/karaimoa))

### Когда/в каких случаях надо писать

* Проблема затрагивает больше количество партнеров от 100 клиентов и/или 1 000 000 рублей.
* Проблема может отразится/уже отразилась на закрытии месяца (должно дублироваться в тикет про закрытие месяца или наоборот)

### Как оформить сообщение

* Сформулировать в чем ошибка (пример: ошибка в АВ отчетах)
* Как это влияет на партнеров (пример: у партнеров не сходятся закрывашки с отчетами)
* Что мы делаем с этой ошибкой (пример: делаем корректировки, которые прорастут в закрывашки след. месяца)
* Где чиним - тикет

## Тикеты на исправление

### Как заполнить тикет

* Человекочитаемое описание проблемы
* Список пострадавших
* Действия для решения ситуации
* Сроки решения, если они есть
* Согласованный пример/шаблон ответа партнерам (нужны ответственные на согласование таких ответов, нужны заранее составленные такие шаблоны)
* **Просто ссылки куда-либо в комментариях недостаточно**. Не все коллеги имеют одинаковые доступы. Нужно хотя бы кратко написать смысл того, что можно увидеть по этой ссылке.

### Кто может писать в тикет (!)

* Разработка о этапах решения
* Саппорт и продакты об известных проблемах
* Саппорт с примерами пока они нужны (в какой-то момент это нужно останавливать)
* Менеджеры КД в тикет при это предполагается что не пишут. В данном случае наиболее корректная коммуникация это "Менеджеры КД -> Саппорт -> Разработка".

## Закрывающий тикет месяца

### Где найти тикет

* Свежий тикет всегда должен быть доступен по фильтру в ST [https://st.yandex-team.ru/issues/?_q=Queue%3A+MARKETBILLING+Components%3A+end-of-month+Status%3A+%21Closed](https://st.yandex-team.ru/issues/?_q=Queue%3A+MARKETBILLING+Components%3A+end-of-month+Status%3A+%21Closed)
* Если его нет после закрытия месяца (2-3 число), то стоит обратиться к [дежурному биллинга](https://abc.yandex-team.ru/services/market_billing/duty/)

### Как его читать

* В шапке (описании) тикета всегда указаны в кратком виде проблемы, связанные с ними тикеты на решение и может быть указан их текущий статус.
* Более подробная информация должна быть доступна в рамках уже самих связанных тикетов

### Кто пишет в тикет

* Только разработка биллинга
* Если есть вопросы касательно какой-то конкретной задачи, то можно прийти либо в связанный тикет на исправление и призвать дежурного/исполнителя. Либо в крайнем случае написать в личку дежурному/исполнителю
* Если хочется написать в тикет, то желаетльно следовать правилам из "Тикеты на исправление"
* Если просто хочется что-то уточнить, то дефолтно можно приходить к @teslenko (разработка)

## Действия саппорта

### Если проблема известная

* Найти в канале сообщение о текущей проблеме
* Ответить партнеру шаблоном из связанного тикета (если он существует)
* Привязать тикет с проблемой отдельного партнера (если он существует)
* Добавить пример партнера в тикет (если примеры еще требуются)

### Если проблема __не__ известная

* Проверить правда ли проблема не известная. Информация о ней может быть либо в канале, либо нужно попробовать найти ее в трекере. Также можно задать вопрос @teslenko либо текущему дежурному если есть сомнения.
* Создать общий информационный тикет в очереди MBI
* Нужно обязательно ставить тег "MBI-billing-support"
* Описание ситуации
* С примерами партнеров пока это требуется. Ответственный за тикет может написать что примеров достаточно. Тогда не нужно писать дополнительные комментарии в тикет 0 достаточно крепить связанные обращения к нему.
* Как можно повторить ситуацию (если это применимо)
* Обращатсья либо к @teslenko для коррдинации, либо к [дежурному](https://abc.yandex-team.ru/services/market_billing/duty/)
* Написать в чат о проблеме согласно пункту "Канал про информирование"

## Кого дополнительно надо оповестить при факапе в Биллинге (?)

* Сервисы, которые может или уже задевает текущая проблема

## Глоссарий биллинга (?)

* [Глоссарий](https://docs.yandex-team.ru/market-billing/glossary/glossary) - тут мы собираем все новые/страшные/непонятные слова
