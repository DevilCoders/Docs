# MAPI

Бекэнд приложений маркета.
Агрегирует запросы к другим бекэндам, возвращает минимум данных для рендера контента.

Со всеми вопросами - в https://t.me/+O7KT5PnZZo05M2Ri

Состоит из нескольких модулей для упрощения разработки.
- core - общие классы
- mapi - основной модуль (там более подробный ридми)
- clients - асинхронные кленты
- client-fapi-model - dto и утилиты для обмена данными с фапи
- screen-api - апи для построения экранов/виджетов

Кто от кого зависит:
- от core зависят все
- mapi зависит от всех
- остальные модули независимы, скрепляются контрактом, описанным в core

Правила ревью:
- core, clients, mapi - ревьюится только командой `g:mapi`.
- screen-api и др - пока что тоже под обязательным ревью `g:mapi`, но со временем это изменится.

Cтркутура проекта в будущем может дробиться и дальше, если это будет полезно с точки зрения владения кодом.

### Как разрабатывать
Установить плагин аркадии для Idea: https://a.yandex-team.ru/arc/trunk/arcadia/devtools/intellij

Для пользователей маков с M1 - добавить в `~/.ya/ya.conf` правильную целевую платформу. 
Как это делать - описано тут: https://clubs.at.yandex-team.ru/arcadia/27131


Сгенерировать проект для Idea:
```
./generate_idea.sh ~/idea/mapi
```

Каталог создастся сам (должен быть вне аркадии, путь может быть любой, но предлагается использовать ~/idea/mapi)

После генерации нужно открыть этот каталог из Idea, и на этом всё. 

Хоть код и на котлине, к Idea желательно подключить jdk 16 (версия указана в ya.make)


### Как разрабатывать
Рекомендации по разработке описаны тут: https://wiki.yandex-team.ru/market/b2c/v-team-speed/mapi-guide/

Также больше инструкций есть в ридми основного модуля mapi https://a.yandex-team.ru/arc/trunk/arcadia/market/mapi/mapi
