# Как привезти изменения спеки


1. сгенерить MJ проект:
```(shell)
cd ${ARCADIA_ROOT}junk/nzhilik/mj && ./generate_project.sh -i ~/IdeaProjects
```
_**NOTE**: ключ `-i` переопределяет директорию, в которую скрипт положит сгенерированный проект; если вообще ничего не указывать, то проект будет лежать в `~/idea_project`_

2. внести изменения в `src/main/resources/openapi/api/api.yaml` (либо полностью подменить на свою спеку) и выполнить скрипт `generate_project.sh` еще раз

_**NOTE**: (если проект открыт в IDEA, то можно запустить `Regenerate project (generated)` в конфигах)_

3. Сгенерированный код будет лежать в generated модуле (я оттуда копирую только пакеты api и model)
4. В каждый файлик нужно добавить `//CHECKSTYLE:OFF` и `//CHECKSTYLE:ON` в начало и конец (чтобы не ругался линтер, т.к. сгенерированный код выглядит не очень)



> _НЕ НУЖНО ЗАНИМАТЬСЯ ФОРМАТИРОВАНИЕМ СГЕНЕРИРОВАННОГО КОДА_ 

_**NOTE**: По-хорошему, сгенерированный код должен жить в отдельном модуле с прописанным `NO_LINT` в `ya.make`, но у меня не дошли руки, чтобы навести красоты_ 