## Выкатка флагов через ITS

Несколько фактов о подобной выкатке
* Используется в ситуациях, когда факап можно купировать, выкатив нужный флаг.
* SPI можно не требовать, тикет создаться вместе с тикетом на выкатку флагов.
* Выкатанные таким образом флаги появятся в [emergency_flags](https://nanny.yandex-team.ru/ui/#/its/locations/emergency_flags).
* Со следующим плановым релизом эти флаги раскатятся так, как должны и из ITS пропадут.
* Такие флаги надо максимально быстро переносить в код программы и убирать из flags.json, команда AB следит за этим:
  * Если есть такой флаг, который выкачен с помощью хотфикса, и висит слишком долго, автоматика создаёт тикет с призывом девопса, который инициировал эту выкатку.

Характерный кейс:
Суббота, 18:00, в "СуперМарти" чат приходит девопс и говорит, что горит продакшн, нужно срочно выкатить один флаг.

### Действия марти
1. Убедиться, что это факап (или потенциальный факап) - теряем деньги, страдают пользователи. Если это очень срочно, но не критично, катаем флаги через тикет, не через ITS.
2. Заходим [в AB-шницу в BULK_TESTING](https://ab.yandex-team.ru/deploying/items#BULK_TESTING).
3. Там ожидаем увидеть тикет вида `5SEAREL-. XXXХХ-Тестид для экстренной выкатки`.
4. Если девопс не знает, что это - показываем ему [этот гайд](https://wiki.yandex-team.ru/jandekspoisk/sepe/dezhurnajasmena/procedures/jekstrennaja-vykatka-cherez-flags.json/) с оговоркой о том, что дежурным сообщать не надо, надо лишь заполнить форму.
5. Получаем от девопса тикет, он должен быть со словом hotfix в названии ([пример](https://st.yandex-team.ru/SEAREL-15645)).
6. Заходим в полученный тикет.
7. нажимаем на ссылку "Залипнуть" [[скрин](https://jing.yandex-team.ru/files/lensws/2022-07-18_22-28-15.png)], проверяем, что открывается Яндекс.
8. Ожидаем сообщение от "Робот Экспериментус" в комментариях `Доступно на 0%`.
9. После этого просим девопса написать в тикете комментарий о том, что он протестировал TESTID. (Иначе автоматика не сработает.)
10. Переводим тикет в `В работу`, далее в `Протестировано`.
11. По крону тикет переходит во вкладку [Bulk tested](https://ab.yandex-team.ru/deploying/items#BULK_TESTED). 
12. Ставим галочку на нужном тикете.
13. Нажимаем ITS_DEPLOYING - автоматически произойдет переход на [emergency_deployment в AB-шнице](https://ab.yandex-team.ru/deploying/emergency_deployment).
14. Выкатываем флаги полокационно: SAS, MAN, VLA. После каждой локации пару минут наблюдаем за продакшном и получаем ОК на дальнейшую раскатку от девопса.
15. После того, как раскатили во все локации, нажимаем `Подтвердить выкатку`.
