# Планирование работ
При необходимости проведения регламентных работ сервис заполняет [форму](https://st.yandex-team.ru/createTicket?queue=MARTY&_form=19225), которая создает тикет в очереди [MARTYPLAN](https://st.yandex-team.ru/MARTYPLAN/order:updated:true/filter?resolution=empty()).

{% note tip "Как заполнить форму" %}

{% list tabs %}

- Что

  * **Кратко, что делаем**
      * в поле ожидается краткое, в одну строку, описание работ, которое будет видно в названии события в инфре, календаре и сообщениях бота
  * **Тикет, с деталями**
      *  в этот тикет придет уведомление о начале и завершении работ
  * **Регламент проведения работ**
      *  здесь пишем план работ. Кто, что и в какой последовательности делает.

- Когда

  * **Желаемая дата проведения работ**
      * Время начала
      * Продолжительность работ (в минутах)
      * Описание слота для работ, который хотелось бы забронировать.

- Инструменты

  * **Работы проводит**
      * пишем логин ответственного за проведение работ

  * **Список приборов на которые будем смотреть**
      * здесь стоит приложить ссылки на алерты/графики/панели, по которым можно проследить, что работы проходят без проблем

  * **Возможные проблемы, риски**
      * пишем план восстановления работоспособности в случае неполадок

  *  **Ссылка на координационный чат**
      * укажите здесь инвайт-линк в чат, где будет происходить координация работ

  * **Блокируем релизы?**
      * необходимо ли на время работ приостановить релизы

  * **В каких ДЦ работы?**

  * **Вертикали затронутые работами**
      * автоматика заблокирует релизы на эту вертикаль, если выше выбрано "блокировать релизы"

  * **Надо закрывать локацию?**
      * укажите, необходимо ли закрыть локацию на время проведения работ

  * **Ссылки на балансеры или описать кто и как закрывает локацию**
      * в этом поле укажите конкретные балансеры, которыми планируется перераспределять трафик. Также укажите ответственного за закрытие локации и план, по которому он будет действовать.

{% endlist %}

{% endnote %}


{% note info %}

Регламентные работы на сети и в датацентрах планируются и согласуются ответственными самостоятельно.

{% endnote %}


## Согласование работ
В течение 4 часов дежурная смена обрабатывает созданный тикет и при необходимости уточняет детали работ у заказчика, после чего создает событие в [infra](https://infra.yandex-team.ru) с дублированием в календаре плановых работ или плановых релизов. После этого работы считаются согласованными.

## Ограничения

{% note alert "" %}

1. **Работы на смежных сервисах не должны проводиться в одно время, либо должна быть исключена возможность влияния работ друг на друга**

1. **Работы с закрытием датацентра или перераспределением трафика на сервис заводятся в календарь плановых работ и проводятся под наблюдением дежурной смены**

1. **При проведении работ должен быть минимизирован риск влияния на пользователей. Нежелательно проводить рискованные работы в часы повышенного пользовательского трафика**

1. **Необходимо иметь план по восстановлению работоспособности сервиса**

{% endnote %}


