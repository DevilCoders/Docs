# Что делать, когда горит алерт фейлов вертикали

Про термины. Есть графы, в графах есть вершины, каждая из вершин "ходит" в какой-то бекэнд. У каждой из этих трех сущностей есть свои ответственный. В случае проблем с вершиной, в первую очередь нужно попытаться найти ответственных за вершину. Если они никак не пингуются, то уже ответственных за бекэнд и граф.

## Как найти, какая вершина фейлит

Открываем проект апхоста в [error booster](https://error.yandex-team.ru/projects/apphost/projectDashboard), как правило, удобно выбрать часовой промежуток в верхнем левом углу.

Затем, кликая по имени нужной вертикали, отфильтровываем ошибки только от нее. Также можно выбрать нужный дц (если фейлит в конкретном) и ситайп (как правило, это просто прод, но в сасово есть еще престейбл, это уже придется дописать руками в строки сверху через OR). В итоге, если фейлы в сас веба, то все будет выглядеть вот [так](https://error.yandex-team.ru/projects/apphost/projectDashboard?filter=service%20%3D%3D%20WEB%20AND%20dc%20%3D%3D%20sas%20AND%20%28additional.ctype%20%3D%3D%20prod%20OR%20additional.ctype%20%3D%3D%20prestable%29&period=hour).

Теперь посмотрим на график, в верхней части, справа от настройки временного окна, есть выпадашка, которая позволяет разложить этот график по "Метод источника". Это имя вершины, сразу будет видно кто фейлит больше всех.

После этого можно кликнуть на имя этой вершины в табличке внизу (оно будет в топе) и отфильтруются только ошибки этого источника. [Пример для BEGEMOT_WORKER_HASHER](https://error.yandex-team.ru/projects/apphost/projectDashboard?componentSettings=%7B%22row_1_col_0_con_0_charts%22%3A%7B%22field%22%3A%22message%22%7D%7D&filter=service%20%3D%3D%20WEB%20AND%20dc%20%3D%3D%20sas%20AND%20%28additional.ctype%20%3D%3D%20prod%20OR%20additional.ctype%20%3D%3D%20prestable%29%20AND%20sourceMethod%20%3D%3D%20BEGEMOT_WORKER_HASHER&period=hour)

Тут можно найти, какие были ошибки (текст), рекиды, как ошибки распределены по железным хостам апхоста или бекэнда.

## Поиск ответственных.

Внутри табличек Вертикаль, Граф, Вершина и Имя бекэнда есть кликабельные слова Horizon, которые появляются при наведении на строчку. Они ведут на страницу в горизонте, где сразу видны ответственные за эту компоненту. Например, около вершины [BEGEMOT_WORKER_HASHER такая ссылка](https://horizon.z.yandex-team.ru/nodes/info/WEB/begemot-workers/BEGEMOT_WORKER_HASHER/0/trunk). Правда, иногда там прочерк, известный баг, который пофиксят, н опока можно открыть слева json, в котором будет поле responsibles.

Эти ссылки не появляются, если бустер не может однозначно определить, какому графу принадлежит вершина с таким именем. В этом случае в табличке графов их будет несколько и нужно отфильтровать ошибки по графу. (Логично фильтровать по графу, в котором больше весго ошибок)
