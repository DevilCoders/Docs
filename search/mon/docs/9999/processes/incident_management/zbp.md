# ZBP

**Zero Bug Policy (ZBP)** — это процесс заведения, приоритизации и разбора багов. Таким образом, процесс состоит из следующих шагов:

 - Настройка процесса формирования багов, например, тикетов в специализированной очереди
 - Своевременная приоритизации багов (выставление веса, перевод приоритета в critical, normal или minor)
 - Регулярный разбор багов, следование установленным SLA на время разбора ошибок, следование KPI по объему багов в сервисе на текущий момент

## Как подключиться к ZBP
1. Узнать у коллег или поиском в Warden подключен ли ваш сервис к 9999. Если не подключен, то его нужно завести. С заведением может помочь [Роман Магомедов](https://staff.yandex-team.ru/rmmagomedov)
2. В ZBP есть три метрики, для которых надо принести фильтры [Марии Новиковой](https://staff.yandex-team.ru/mashko) или [Алексею Остроумову](https://staff.yandex-team.ru/ostroumov) (сформировать фильтры в трекере и дам нам их целиком или их айдишник):

    - Забагованность сервиса - фильтра на баги, которые надо учитывать
    - SLA на просроченные баги - фильтр на баги, для которых считаем sla
    - Вес неразобранных тикетов саппорта (если применимо) - фильтр для неразобранных обращений от саппорта

3. После этого мы внесем данные в варден в Warden [подробности на странице](https://wiki.yandex-team.ru/zbp/new-metric/) и примерно через 2 часа будут построены графики. После этого надо убедиться что они адекватно описывают количество багов на сервисе и определиться с таргетами для каждой из метрик.
4. Когда все договоренности будут достигнуты, то мы формим цель в GOAL с прописанными таргетами и линкуем ее к головной [цели](https://goals.yandex-team.ru/compilations/own?login=ostroumov&goal=113430)

{% note tip %}

Все вопросы про ZBP можно задать [Маше Новиковой](https://staff.yandex-team.ru/mashko) и [Алексею Остроумову](https://staff.yandex-team.ru/ostroumov)

{% endnote %}

## Текущий статус по ZBP

Актуальный отчет находится на [борде](https://datalens.yandex-team.ru/cuyxxiw0wfeq5-otchet-po-zbp-q4q1-2022). Нужно смотреть отчет Команды. Если вам, как руководителю нескольких команд, хочется смотреть только свои команды, можно поставить тикет в [очередь ZBP](https://st.yandex-team.ru/ZBP/order:updated:true/filter?resolution=empty()) и перечислить нужный срез, мы его заведем.

## Как читать отчет

У всех команд в ZBP есть две или три метрики. Когда мы вводили новые метрики и ставили цели, то договорились о необходимости выполнять критерии каждой метрики в 4х (и более) месяцах в семестре. Для упрощения визуализации отчета мы ввели понятие "потраченная жизнь". На каждую метрику выдается 2 жизни, которые можно потратить и выполнить цель.

Второй столбик отчета показывает, сколько жизней потрачено за предыдущие полные месяцы.
 - Зеленый цвет - потрачено 0 жизней. Все метрики всегда ниже таргетов.
 - Желтый цвет - в одной (или более) метрике потрачена 1 жизнь. Цель выполняется, надо посмотреть что идет не так.
 - Оранжевый цвет - в одной (или более) метрике потрачены 2 жизни. Цель выполняется, но есть риски не выполнить в следующем месяце.
 - Красный цвет - в одной (или более) метрике потрачено 3 (или более) жизни. Цель не выполнена.

Третий столбик отчета показывает состояние метрик в текущем месяце с прогнозом риска.
 - Для метрик Забагованности и Разбора саппорта может отображаться два состояния. Таргет по метрике достигнут, все хорошо. Либо на красном фоне отображается восклицательный знак (от 1 до 4). Один восклицательный знак означает, что идет первая неделя месяца, а таргет еще не достигнут. Два восклицательных знака - 2 неделя, 3 - неделя, 4 - четвертая. Количество восклицательных знаков символизирует увеличение риска не достичь поставленного таргета по этой метрике.
 - Для метрики просроченных SLA может быть три состояния: Все хорошо, Все очень плохо failed (уже накоплено SLA больше месячного таргета). И третье состояние, когда есть риски, но все еще можно исправить. Количество восклицательных знаков на красном фоне показывает уровень риска (4 - очень большой риск). Риск рассчитывается по формуле.

**Риск** = (Таргет на месяц - уже потраченное в этом месяце)/(Осталось дней * текущий уровень SLA)

{% note warning %}

Обращаем внимание на то, что невыполнение цели по ZBP влияет на среднее команды на ревью.

{% endnote %}


