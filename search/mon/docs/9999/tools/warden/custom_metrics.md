# Кастомные метрики

В Warden реализован механизм подсчета произвольной метрики по алертам/инцидентам.

## Как начать пользоваться

На данный момент существует несколько подготовленных metricType, посмотреть список можно [тут](https://warden.z.yandex-team.ru/metric_types)

**metricType** - это верхнеуровневая сущность, котороя определяет некоторые свойства связанных с ней метрик:

- **Приватность** - нужно ли скрывать значения этой метрики от посторонних
- **Аддитивность** - можно ли складывать значения метрики для разных инцидентов
- **Ответственные лица** - они могут редактировать и создавать связанный метрики

{% note info %}

Как правило, новые **metricType** не добавляются, если вам не подходит готовый **metricType** - стоит обратиться в поддержку

{% endnote %}

## Как создать метрику

Поняв, какой metricType мы хотим использовать, переходим на [страницу](https://warden.z.yandex-team.ru/metrics) и нажимаем кнопку create, откроется модальное окно для создания метрики:

**todo** metrics_create_modal.png

Выбираем metric type, указываем уникальный ключ и название метрики, добавляем лиц, которые могут смотреть и редактировать метрику (необходимо в случае приватных метрик).

Если необходимые поля введены и есть права на создание метрики: будет создана метрика, и ее можно будет использовать для расчетов.

## Ручной расчет метрики

Ручной расчет метрики доступен через калькулятор: достаточно выбрать необходимую метрику, указать значение и нажать кнопку Calculate.

**todo** metrics_manual_calculate.png

## Автоматический расчет метрики

Для автоматического вычисления метрики по алертам с использованием автоматики Beholder нужно просто указать метрику в редакторе алерта, который будет считаться по графикам.

**todo** metrics_auto_calculate.png