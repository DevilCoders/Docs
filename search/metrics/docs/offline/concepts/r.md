# R

В данном разделе приведено описание метрик, первой буквой в названии которой является <q>R</q> (без учета [оцененности](naming.md#judged)). {#list}

## RC {#rc}

Наличие в поисковой выдаче не менее n релевантных документов (с оценкой <q>R+</q> и выше).

### Расчет метрики {#rc-calc}

Для запроса является бинарной и принимает значения:

- <q>1</q> — в выдаче присутствуют n и более релевантных документов;
- <q>0</q> — количество релевантных документов в выдаче — менее n.

Для потока отражает долю запросов, в результатах поиска по которым присутствует как минимум n релевантных документов.

[К списку метрик](#list).


## rel {#rel}

Отклонение первого релевантного документа от первой позиции выдачи. Релевантными считаются документы, имеющие оценки <q>R+</q> и выше.

Метрика принимает значение <q>0</q>, если релевантный документ отсутствует в пределах заданной глубины выдачи.

### Расчет метрики {#rel-calc}

Значение метрики рассчитывается по формуле:

$rel = \frac{deep - i}{deep}, i /in [0; min /{deep; serplength /}), i /in /mathbb{N} { ,}$
 
где:

* $deep$ — рассматриваемая глубина выдачи;
* $serplength$ — длина поисковой выдачи;
* $i$ — позиция (начиная с нуля) первого релевантного документа.

> ## Пример 1 {#ex1}
> 
> Рассмотрим следующую выдачу:
> 
> $/left( /begin{array}{l} IR// NOT{ }JUDGED// IR// R+// R- /end{array} /right)$
> 
> В данном случае $serplength = 5$, $deep = 10$. Следовательно, $serplength < deep$. Таким образом, $i /in [0; 5)$. Т. к. нумерация начинается с нуля, а первый релевантный документ находится на четвертой позиции, то $i = 3$, и формула принимает вид:
> 
> $rel = \frac{10 - 3}{10} = 0,7$

> ## Пример 2 {#ex2}
> 
> Рассмотрим следующую выдачу:
> 
> $/left( /begin{array}{l} IR// NOT{ }JUDGED// NOT{ }JUDGED// NOT{ }JUDGED// IR// R+// NOT{ }JUDGED// IR// IR// IR// R- /end{array} /right)$
> 
> В данном случае $serplength = 11$, $deep = 10$. Следовательно, $deep < serplength$. Таким образом, $i /in [0; 10)$. Т. к. нумерация начинается с нуля, а первый релевантный документ находится на шестой позиции, то $i = 5$, и формула принимает вид:
> 
> $rel = \frac{10 - 5}{10} = 0,5$

> ## Пример 3 {#ex3}
> 
> Рассмотрим следующую выдачу:
> 
> $/left( /begin{array}{l} NOT{ }JUDGED// IR// R-// NOT{ }JUDGED /end{array} /right)$
> 
> В данном случае $serplength = 4$, $deep = 10$. Следовательно, $serplength < deep$. Таким образом, $i /in [0; 4)$. Релевантных документов в данном диапазоне нет и, следовательно:
> 
> $rel = 0$

{% include [rc-backtolist](../_includes/concepts/r/id-rc/backtolist.md) %}



## remapped-hyp-cg  {#remapped-hyp-cg}

Оценка релевантности поисковой выдачи (компонента $relevance_{i}$ метрики [tcg (3CG)](t.md#tcg)).

### Расчет метрики {#remapped-hyp-cg-calc}

Значение метрики равно сумме значений релевантности документов поисковой выдачи ($relevance_{i}$), умноженных на $\frac{1}{1 + i}$:

$remapped{-}hyp{-}cg = \sum\limits_{i=0}^{n} \frac{relevance_{i}}{1 + i}$
 
При расчете метрики используются следующие значения релевантности оцененных документов:

{% include [tcg-tcg-table-rel](../_includes/concepts/t/id-tcg/tcg-table-rel.md) %}


{% include [rc-backtolist](../_includes/concepts/r/id-rc/backtolist.md) %}



## resp-size {#resp-size}

Размер поисковой выдачи. Измеряется в байтах.

{% include [rc-backtolist](../_includes/concepts/r/id-rc/backtolist.md) %}



## resp-time {#resp-time-calc}

Время получения поисковой выдачи по запросу. Измеряется в миллисекундах.

{% include [rc-backtolist](../_includes/concepts/r/id-rc/backtolist.md) %}



## rus-wide-pfound  {#rus-wide-pfound}

Общая оценка качества поиска русскоязычных документов в латиническом потоке. При расчете метрики оценки документов на языках, отличных от русского, обнуляются.

### Расчет метрики {#rus-wide-pfound-calc}

Метрика рассчитывается по формуле [pfound](p.md#pfound), при этом вес документов на языках, отличных от русского, принимается за «0»:

$rus{-}wide{-}pfound = \sum\limits_{i=1}^{n} pLook_{i} * {pRel_{i}} { ,}$
 
где:

* $pLook_{i}$ — это вероятность просмотра $i$-го результата выдачи;
* $pRel_{i}$ — вероятностный вес элемента.

Вероятность просмотра `i`-го результата $pLook_{i}$ равна вероятности просмотра предыдущего элемента выдачи $pLook_{i-1}$ с поправкой на вероятностный вес предыдущего элемента и вероятность того, что пользователь дойдет до этого места:

$pLook_{i} = pLook_{i-1} * (1 - pRel_{i-1}) * (1 - pBreak) { ,}$
 
где:

* $pRel_{i-1}$ — вероятностный вес ($i-1$)-го элемента выдачи;
* $pBreak$ — вероятность того, что пользователь дойдет до $i$-го места (данная вероятность является константой: $pBreak=0,15$).

Вероятность просмотра первого элемента $pLook_{1}$ равна единице.

{% include [rc-backtolist](../_includes/concepts/r/id-rc/backtolist.md) %}


