Это бегемотный аналог [wizard/test_responses](https://a.yandex-team.ru/arc/trunk/arcadia/search/wizard/test_responses)

Действия при отсутствии актуальных канонических данных не меняются:

1. Подождать. Отставание теста от свежей ревизии — от 30 минут до 3 часов.
2. Откатиться и тестировать свои изменения поверх немного старой ревизии. Скрипт напишет номер ревизии.
3. Запустить тест примерно так: `USE_OUTDATED_CANONDATA=yes ya make -rA`. Тогда тесты будут запущены поверх новой ревизии, а канонические данные будут взяты самые свежие, которые есть — от более старой ревизии. Дифф может получиться с примесями, не сильно верьте ему.

Запускать `ya make -rA --test-stderr`
Параметр `--test-disable-timeout` следует добавлять если ожидаемое время тестирования больше часа, например при запуске всех шардов без готовых данных.

Список шардов по умолчанию берется [отсюда](https://a.yandex-team.ru/arc//trunk/arcadia/sandbox/projects/websearch/begemot/common/__init__.py?rev=3785931#L52).
Чтобы тестировать выборочно, нужно для каждого задать переменную окружения вида `ShardName=yes`, например `FailCache=yes`.

Чтобы запустить бегемот локально со своими параметрами запуска, нужно использовать переменную окружения `BG_ARGS`, например, `BG_ARGS="--fresh $ARCADIA/search/wizard/data/fresh/package --cache_size 4294967296"`.

Все данные для запуска бегемота берутся из одноименных Sandbox тасок и хранятся в папке `./tests_data/test_name`.
В папке `./out/test_name` для каждого теста можно увидеть все результаты: логи и дифы.
В файле `./out/test_info.json` для каждого ресурса теста хранится id сохраненной локальной копии, чтобы на повторных запусках теста не скачивать файлы повторно.

[Тикет](st.yandex-team.ru/BEGEMOT-1073)
