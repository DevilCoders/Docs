Архитектура расчета 2.0
=======================

Новый подход к расчёту. Основные цели:

- отказ от черного ящика, когда оно считается всё сразу и нет понимания, сколько
  времени еще будет считаться
- переход на python, т.к. логика расчетов становится всё сложнее, возможностей
  plsql уже стало не хватать. Кроме того, тесты на python проще писать


Основные изменения
------------------

- вместо одного большого SQL-запроса одновременно запускается неколько
  значительно меньших запросов, которые просто получают данные и отдают в python
- вся python логика разбита на 2 части:
    - master: занимается получением сырых данных из БД и отправкой заданий на
      расчет воркерам (через очередь). После получения результатов, сохраняет
      их в БД
    - worker: не работают с БД, получают данные из очереди, выполняют расчет и
      отправляют результат обратно в очередь

Основные структуры в БД пока остаются без изменений.

SQS
---

`SQS` используется в качестве брокера для celery.

- https://wiki.yandex-team.ru/sqs/
