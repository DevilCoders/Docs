## Jaeger
Настроен примитивный сбор трейсинга для api через jaeger. Делается это через jaeger-agent в отдельном боксе
а не напрямую через апи. Используется общая инсталляция поверх YTя, см. [доку](https://wiki.yandex-team.ru/jaeger/).

## Solomon
Метрики с приложений опять-таки собираются через соломон-агент в боксах, который забирает метрики из апи приложений.
Собираемые метрики:
1. АПИ, в разрезе метода и статускода:
   * Количество запросов
   * Время работы
1. Фоновые таски, в разрезе типа таски:
   * Время работы
   * Количество успехов
   * Количество фейлов
1. Выгрузка в логброкер, в разрезе топиков:
   * Время выгрузки
   * Количество выгруженных строк
   * Количество успешно выгруженных батчей
   * Количество сфейлившихся выгрузок батчей
1. Проставление возрастающих id:
   * Время обработки батча
   * Количество обработанных строк
   * Количество успешно обработанных батчей
   * Количество сфейлившихся батчей

Замечания:
* Для выгрузки в ЛБ в сборку метрик обёрнута только непосредственно отправка данных в ЛБ, извлечение данных из базы не учитывается.
* Для количества используется [RATE-метрики](https://solomon.yandex-team.ru/docs/concepts/data-model#rate), т.е. РПС и проч. считается на стороне соломона.
* Для времени работы используется [HIST_RATE](https://solomon.yandex-team.ru/docs/concepts/data-model#hist_rate).

## Мониторинги
Мониторинги описаны через [Monitorings-as-a-code](https://a.yandex-team.ru/arc/trunk/arcadia/paysys/sre/tools/monitorings/configs/billing30/stable/accounts.py).

Есть мониторинги на:
* Общеинфраструктурные, на живость инстансов деплоя и т.п.;
* Процент пятисоток АПИ
* Малое количество успешных ответов АПИ
* Количество фейлов:
    * Фоновых тасок
    * Выгрузки в LB
    * Простановки ID
* Малое количество успешных обработок:
   * Фоновых тасок
   * Выгрузки в LB
   * Простановки ID
* 95 перцентиль времени работы:
  * Методов АПИ
  * Фоновых тасок
  * Выгрузки в LB
  * Простановки ID
