# Введение

## О чем
*Configdepot* / *depot* / *депот* - сервис для конфигурирования микросервисов [Б52](https://wiki.yandex-team.ru/balance/billing30/).
Сервис скрывает технические подробности конфигурирования микросервисов Нового Биллинга, а также позволяет рендерить конфигурации с помощью шаблонов.

{% note info %}

Configdepot является [интеграцией](../configshop/integrations.md) для Конфигуратора.

{% endnote %}

## Глоссарий
* *Конфигуратор* / *Configshop* / *Конфигшоп* / *шоп* - [сервис Нового Биллинга](../configshop/template.md) конфигурирующий остальные сервисы Биллинга.
* *Конфигурация* - граф конфигурации в Конфигураторе, в рамках которого запускается интеграция с депотом.
* *Клиент* - пользователь Биллинга. (ex. Такси, Музыка)

## Общее описание
Основной сложностью конфигурации Нового Биллинга является stateless архитектура конфигураций Конфигуратора.
Запущенная конфигурация не знает ничего о других конфигурациях, с другой стороны Новый Биллинг требует хранить конфигурации всех клиентов в одном месте.
Депот предлагает решение этой проблемы, агрегируя конфигурации клиентов в своей базе и отрендеривая всех клиентов в один конфиг по необходимости.
Для запуска произвольных задач используется [Sandbox](https://docs.yandex-team.ru/sandbox/), позволяющий запускать всевозможные задачи от запуска бинарного файла с нужными аргументами до запуска сложной таски, которая сама конфигурирует сервис.
Дополнительно к этому в депоте реализована работа с GO-шаблонами, что позволяет получить еще большую гибкость в конфигурации сервисов.

{% note tip %}

Пример: С помощью депота можно отрендерить YAML файл, залить его в Sandbox и запустить [CREATE_RELEASE](https://a.yandex-team.ru/arcadia/infra/deploy_ci/create_release) тасклет, который подложит данный файл в виде слоя в Deploy stage.

{% endnote %}


## К кому обращаться, если хочется посоветоваться или посоветовать
[Спецназ Биллинга](https://wiki.yandex-team.ru/balance/swat)
<small> делаем быстро и точка. </small>
