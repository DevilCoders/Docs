Рефакторинг
===========

* Рефакторинг классов:
    * метод set_jira_id для некоторых можно вынести в DCSCompare,
      изменяя лишь название таблицы (+метод get_table_name())
* возможность контролировать кол-во строк на странице
* unitest:
    * ui.*
        * ui.web.PluginPager.get_pager_info:
            * math.ceil(float(24)/float(20)) == 2 
    * core.common.*
        * core.common.DCSDB:
            >> con = DCSDB(conn_str)
            >> if con.con():
            >>      fail!!!
    * compare.* - ?
* Рефакторинг метода PluginRunResultList.get().
* Вывести в интерфейс номер версии
* Экспорт в csv. Чек-бокс - выбор конкретных строк для экспорта.
* Организация таблиц (либо сделать view?):
    * главная на всех - cmp[_start] (+ поле code - код процедуры сравнения)
    * лог для всех - cmp_log
    * для остальных - таблицы: cmp_data_code
* добавить декоратор с входным параметром - строка вывода.
  Если не указана, то работать, как сейчас.
* определиться, в какой роли необходим доступ к функциональности в админке
* Использовать модуль abc для абстрактных классов вместо ошибки вида
  "method must be realized in derived class".
* Исправить все случаи использования конструктора класса DCSException 
  с одним параметром (возможно, предыдущий пункт исключит все такие случаи).
* Исправить логику проставления количества расхождений, а так же избавиться
  от ненужного возврата is_differ из всех методов compare, потому что это
  значение в последующем нигде не используется.
  Сейчас, например в bua, diff count проставляется до выполнения copy_jira_refs.
  Устанавливать количество расхождений после автопростановки jira_id.
* Удалить неспользуемые колонки:
    * data-таблицы: passport_id, login
    * cmp-таблицы: unsorted, jira_closed_dt
* В запросе copy_dt_query_template из core.common.DCSCompare.copy_jira_refs 
  путаница с датами - где-то мы используем cmp_data.dt, а где-то - 
  cmp.%(cmp_dt_field_name)s (то есть дата сверки). Нужно разобраться, почему
  это так, и в случае необходимости исправить.
* cpbt default dates
  - Сложность в том, что такси обновляют там данные только два раза в месяц под регламентнные запуски (https://st.yandex-team.ru/TAXIBACKEND-14809). Нужно определять предпологаемый день предыдущего регламентного обновления, и считать его дефолтным.

* `dc and prcbb post restore t_config update` 
  - Нужно добавить обновление путей к таблицам с откатами в постпереналивочный скрипт (проще, наверное, в тестовый репозиторий, прямо в сам тест)

* yt max partition_count do not pass if exceed yt_max_workers_count
  - Функция construct_default_job_spec
  - Если workers_count превышает yt_max_workers_count то обычно лучше не устанавливать partition_count, потому что yt, скорее всего, выделит больше воркеров.
  - Возможно, лучше применять эту логику, если workers_count > yt_max_workers_count * х, где х >= 2.
  
* JFYI: один раз в логах серванта не было логов алхимии (запросов) во время работы сверки. Сейчас посмотрел, вроде запросы в логах есть. Может был какой-то единичный случай.


Документация
============
* добавить генерацию документации по коду

* /doc/manual/ - описание логики работы:
    * назначение проекта
    * описание проекта
        * архитектура
        * добавление новой сверки
    * связанные проекты
        * front-end
