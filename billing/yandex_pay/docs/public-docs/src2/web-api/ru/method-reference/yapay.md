# YaPay

`YaPay` — глобальный объект SDK. Содержит объекты, методы и типы, необходимые для реализации работы c кнопкой {{ product }}.



## **Поля** {#enums}
#|
|| **Название** | **Тип** | **Описание** ||
|| --- | --- | --- ||
|| `PaymentEnv` | Enum | Окружение в котором совершается платеж. Значения:
* ` Production ` — продакшн-окружение.
* ` Sandbox ` — тестовое окружение.  ||
|| `CountryCode` | Enum | Код страны по стандарту ISO 3166-1 alpha-2. Значения:
* ` Ru ` — Россия.
* ` By ` — Республика Беларусь.  ||
|| `CurrencyCode` | Enum | Код валюты по стандарту ISO 4217. Значения:
* ` Rub ` — российский рубль.
* ` Byn ` — белорусский рубль.
* ` Usd ` — доллар США.
* ` Eur ` — евро.  ||
|| `PaymentMethodType` | Enum | Методы оплаты. Значения:
* ` Card ` — банковская карта.  ||
|| `AllowedAuthMethod` {#allowed-auth-method} | Enum | Тип платежного токена. Значения:
* ` CloudToken ` — тип токена, в который зашифровываются токенизированная карта (DPAN) и TAVV-криптограмма от платежной системы.
* ` PanOnly ` — тип токена, в который зашифровываются карточные данные (FPAN, номер карты).  ||
|| `AllowedCardNetwork` | Enum | Разрешенные платежные системы для проведения платежа. Значения:
* ` AmericanExpress ` — AmericanExpress.
* ` Discover ` — Discover.
* ` Jsb ` — JCB.
* ` Mastercard ` — Mastercard.
* ` Visa ` — Visa.
* ` VisaElectron ` — Visa Electron.
* ` Mir ` — МИР. - ` Maestro ` — Maestro.
* ` UnionPay ` — UnionPay.
* ` Uzcard ` — Uzcard.  ||
|| `AllowedCurrencies` | Enum | Разрешенные валюты для проведения платежа. Значения:
* ` AED ` — Дирхам ОАЭ.
* ` AMD ` — Армянский драм.
* ` AUD ` — Австралийский доллар.
* ` AZN ` — Азербайджанский манат.
* ` BGN ` — Болгарский лев.
* ` BRL ` — Бразильский реал.
* ` BYN ` — Белорусский рубль.
* ` CAD ` — Канадский доллар.
* ` CHF ` — Швейцарский франк.
* ` CNY ` — Китайский юань.
* ` CZK ` — Чешская крона.
* ` EUR ` — Евро.
* ` GBP ` — Фунт стерлингов.
* ` GEL ` — Грузинский лари.
* ` HKD ` — Гонконгский доллар.
* ` INR ` — Индийская рупия.
* ` KGS ` — Киргизский сом.
* ` KZT ` — Казахский тенге.
* ` PLN ` — Польский злотый.
* ` RON ` — Румынский лей.
* ` RUB ` — Российский рубль.
* ` SEK ` — Шведская крона.
* ` TRY ` — Турецкая лира.
* ` UAH ` — Украинская гривна.
* ` USD ` — Доллар США.
* ` UZS ` — Узбекский сум.
* ` ZAR ` — Южноафриканский рэнд. ||
|| `ButtonType` | Enum | Вид кнопки. Значения:
* ` Simple ` — иконка без подписи. Пример: {{ product }}.
* ` Pay ` — иконка с подписью. Пример: Оплатить с {{ product }}.  ||
|| `ButtonTheme` | Enum | Цвет кнопки. Значения:
* ` White ` — белая.
* ` WhiteOutlined ` — белая с контуром.
* ` Black ` — черная.  ||
|| `ButtonWidth` | Enum | Ширина кнопки. Значения:
* ` Auto ` — кнопка определяется автоматически.
* ` Max ` — кнопка размещается на всю ширину контейнера.  ||
|| `ButtonEventType` | Enum | События платежной кнопки. Значения:
* ` Click ` — нажатие кнопки {{ product }}.  ||
|| `PaymentEventType` | Enum | События формы. Значения:
* ` Ready ` — готово к работе.
* ` Abort ` — процесс прерван.
* ` Error ` — возникла ошибка.
* ` Process ` — в работе.  ||
|| `CompleteReason` | Enum | Тип завершения работы формы. Значения:
* ` Success ` — успешное завершение операции.
* ` Error ` — операция завершена с ошибкой.
* ` Close ` — форма закрыта по инициативе пользователя.
* ` AuthRedirect ` — требуется авторизация на стороне банка-эквайера, например, ввод смс-кода.  ||
|#





## Интерфейсы {#interfaces}



### ButtonOptions {#button-options}
**Поля:**
| **Название** | **Тип** | **Описание** |
| --- | --- | --- |
| `type` | ButtonType | Тип кнопки. |
| `theme` | ButtonTheme | Тема кнопки. |
| `width` | ButtonWidth | Ширина кнопки. |





### Merchant {#merchant}
**Поля:**
| **Название** | **Тип** | **Описание** |
| --- | --- | --- |
| `id` | string | ID продавца. |
| `name` | string | Имя продавца (отображается на платежной форме). |
| `url` | string | URL продавца (необязательное поле). |






### OrderTotal {#order-total}
**Поля:**
| **Название** | **Тип** | **Описание** |
| --- | --- | --- |
| `label` | string | Текст для поля total. |
| `amount` | string | Должно быть больше 0 и не содержать больше двух знаков после запятой. Например: 1.12, 5.1, 10. |




### OrderItem {#order-item}
**Поля:**
| **Название** | **Тип** | **Описание** |
| --- | --- | --- |
| `label` | string | Текст для поля total. |
| `amount` | string | Должно быть больше 0 и не содержать больше двух знаков после запятой. Например 1.12, 5.1, 10. |




### Order {#order}
**Поля:**
| **Название** | **Тип** | **Описание** |
| --- | --- | --- |
| `id` | string | ID заказа на стороне продавца. |
| `total` | OrderTotal | Общая стоимость. |
| `items` | OrderItem[] | Содержимое заказа. |





### PaymentMethod {#payment-method}
**Поля:**
| **Название** | **Тип** | **Описание** |
| --- | --- | --- |
| `type` | PaymentMethodType |  |
| `gateway` | string | ID поставщика платежных услуг. |
| `gatewayMerchantId` | string | ID продавца в системе поставщика платежных услуг. |
| `allowedAuthMethods` | AllowedAuthMethod[] | Типы токенов, которые поддерживает поставщик платежных услуг. |
| `allowedCardNetworks` | AllowedCardNetwork[] | Платежные системы, которые поддерживает сайт и поставщик платежных услуг. |





### RequiredFields {#required-fields}
**Поля:**
| **Название** | **Тип** | **Описание** |
| --- | --- | --- |
| `billingContact` | RequiredBillingContactFields | Данные плательщика, которые нужно вернуть вместе с токеном. |




### RequiredBillingContactFields {#required-billing-contact-fields}
**Поля:**
| **Название** | **Тип** | **Описание** |
| --- | --- | --- |
| `email` | boolean | Возвращать ли email пользователя. |






### PaymentData {#payment-data}
**Поля:**
| **Название** | **Тип** | **Описание** |
| --- | --- | --- |
| `env` | PaymentEnv | Окружение. |
| `version` | number | Версия JS SDK. |
| `countryCode` | CountryCode | Код страны. |
| `currencyCode` | CurrencyCode | Валюта. |
| `merchant` | Merchant | Информация о мерчанте. |
| `order` | Order | Информация о заказе. |
| `paymentMethods` | PaymentMethod[] | Список платежных методов. |
| `requiredFields` | RequiredFields | Запрашиваемые по платежу данные. |






### UpdatePaymentData {#update-payment-data}
**Поля:**
| **Название** | **Тип** | **Описание** |
| --- | --- | --- |
| `order` | Order | Информация о заказе. |






### ReadyToPayCheckParams {#ready-to-pay-check-params}
**Поля:**
| **Название** | **Тип** | **Описание** |
| --- | --- | --- |
| `merchantId` | string | ID продавца. |
| `paymentMethods` | PaymentMethod[] | Список платежных методов. |

