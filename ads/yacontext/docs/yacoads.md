# Yacoads: классификация баннеров

## Раздел рассказывает о классификации баннеров Яндекс Директа {#about}

На схеме ниже описан процесс классификации баннера с помощью классификаторов, входящих в состав Yacoads.

![](images/yacoads.png)

(1) Яндекс&nbsp;Директ передает в Yacoads данные о баннерах, а именно:

* идентификатор баннера;
* `landing_page` (URL-адрес страницы, на которую ведет баннер);
* ключевые фразы.

Категории подбираются тремя параллельно работающими классификаторами:

* (2) AdClassifier производит поиск документов по фразам баннера (по каждой отдельно и по фразе, склеенной из всех фраз) в индексе, сформированном из Яндекс&nbsp;Каталога, и возвращает категории найденных документов. Так как найденных документов и, соответственно, категорий может быть в этом случае слишком много, применяется фильтр.
* (3) BsClassify классифицирует документ, который скачивается модулем CachedSpider по `landing_page` баннера. Для классификации применяется [Наивный байесовский классификатор](http://ru.wikipedia.org/wiki/%D0%9D%D0%B0%D0%B8%D0%B2%D0%BD%D1%8B%D0%B9_%D0%B1%D0%B0%D0%B9%D0%B5%D1%81%D0%BE%D0%B2%D1%81%D0%BA%D0%B8%D0%B9_%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%82%D0%BE%D1%80).
* (4) CatFilter производит поиск `landing_page` в Яндекс&nbsp;Каталоге и, в случае успеха, возвращает найденные категории.

(5) Категории, полученные разными классификаторами, объединяются.

(6) Информация о категориях передается в Яндекс.Директ.

(7) Также информация о категориях, баннерах и фразах записывается в следующие таблицы базы данных Yacoads:

* `ads` — информация о баннерах (заголовок, текст, ключевые фразы, `landing page` и др.);
* `phrase` — уникальные фразы;
* `phrases` — соответствие баннер – фраза;
* `categories` — соответствие баннер – категория.

(8) Информация о ключевых фразах и категориях баннеров из базы данных передается в Yacotools для формирования словаря ключевых фраз и категорий (подробнее формирование словаря описано в разделе [Yacotools: вспомогательные инструменты](yacotools.md)).

