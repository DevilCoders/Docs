В этой директории лежат скрипты для расчёта метрик.

### Правилка конфигов факторов
Нужна чтобы тушить пердак дежурного в случае если алерты на факторы флапают не по делу.

####История
Есть алерты на факторы:
- код лежит [вот тут](https://a.yandex-team.ru/arc/trunk/arcadia/ads/quality/adv_machine/lib/mr_make_pool/stats/matrixnet/pool_stats_new.cpp)
- json-конфиги факторов лежат [вот тут](https://a.yandex-team.ru/arc/trunk/arcadia/ads/quality/adv_machine/data/factor_stat)
- [кубик](https://nirvana.yandex-team.ru/operation/faaa3472-77ba-4e64-9f54-f13b3a336170) в нирване, который шлёт сенсоры в соломон - нужно присобачить к графу обучения катбуста для того, чтобы работало

Для каждой формулы отдельный конфиг факторов. Выглядит так:
```json
{
    "MaxCoverage": 95,
    "FactorIndex": 1655,
    "FactorNameRegExp": "URL_SIMILARITY_COMMON_WORDS",
    "MinFstr": -0.2248513700000001,
    "MinCoverage": 75,
    "MaxFstr": 5.77514863
}
```
В случае если значение сенсора за последний момент обучения выходит за границы, алерт загорается, а вместе с ним и пердак дежурного.
Порядок действий:
- Посмотреть что случилось.
- Если по делу - чинить.
- Если нет, но хочется сделать всё осторожно (рекомендуется). То сходить в папку с json-конфигами факторов, выбрать нужный (соответствующий нужной формуле), подбить пороги, закоммитить.
- Если хочется быстро, но не всегда безопасно, то использовать эту тулзу (можно прокидывать несколько имён формул) сразу:
```code
./am_factor_stat --arcadia_root /home/$USER/arcadia --formulas SpyHit_sort_sampled,SpyHit_apc_ratio
```
- Прокатить MAKE_ADV_MACHINE_FORMULAS_REVISION
