# Тесты на дифф параметров экспериментов
Запускаются 2 теста с канонизацией
1) CanonizedStandWithAb - мерджатся настройки DefaultOpts из stand.json и настройки сервиса из абшницы (ресурс в ya.make)
2) CanonizedDaemonWithExpSettings - мерджатся настройки DefaultExperimentParameters из daemon.json с настройками stand.json и абшницей
В ya.make ut и ut_canonize в DATA указан ресурс из сандбокса bigb_ab_production_config.json
## Как работать с тестами
Ожидается, что настройки в демоне и стенде не меняются просто так без эксперимента.
Поэтому при изменении DefaultExperimentParameters и DefaultOpts тесты должны остаться зелеными. В исключительных случаях тесты канонизируются с аппрува проверяющего.
Если сам сервис экспериментальный, его можно добавить в исключения у теста (TODO: создать в тесте хешмапу с исключениями).

Если в ревью неожидаемо ломаются тесты, рекомендуется в **отдельном** ревью обновить ресурс в ut, ut_canonize (не забыть на ресурсе поставить important!) и канонизировать тесты.
При мердже настроек из абшницы в daemon.json или stand.json ресурс абшницы нужно обязательно обновить перед коммитом.

Канонизация тестов выполняется командой `ya make -Z`, файлы в `canondata` редактировать запрещено. После канонизации в файлах в этой директории можно увидеть дифф.

Текущая реализация не работает с настройками кворумной машины (все стенды в исключениях)
