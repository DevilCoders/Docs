### Docker compose в тестах caesar

* Зачем?

Использование docker compose обусловлено необходимостью подключения grut с тестам цезаря. Сами тесты достаточно медленные и  нагруженные, сильно приближенные к  таймауту, поэтому добавлять еще один рецепт со временем сборки 3 минуты (сборка рецепта входит в таймаут теста) иррационально

* Содержание теста

Это обычный тест ft_grut, инициализируются пустые профиля в цезаре, затем вызываются некоторые грутовые события и проверяются цезарьные профиля

* Техническая часть

В docker-compose 2 контейнера - pytest и grut, контейнер grut несет в себе поднятые инстансы yt и orm + object-api, на старте контейнер выбирает 4 рандомных свободных порта, на которые ставит yt http + rpc proxy, orm, object-api. Затем он складывает их в конфиг, который находится в расшаренном между контейнерами docker volume. Pytest контейнер берет порты из конфига и поднимает тест. В итоге получаем изолированный (только контейнеры теста знают на каких портах подняты сервисы) тест.   
В начале запуска тест ждет, пока не поднимится грут, это занимает ~50 sec

* Образ

Пересобрать образ: ./ads/bsyeti/caesar/tests/scripts/rebuild_grut_local.
Все конфиги обновятся сами.

По всем вопросам пишите @sestepanov, пока фича находится в тестовом режиме
