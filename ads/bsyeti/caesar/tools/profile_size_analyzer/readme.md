## Profile field size analyzer
Утилита для анализа весов полей в профилях цезаря (и не только). Сейчас может:
* Корректный подсчет веса протобуфа и вложенных в него сообщений. Примерный подсчет веса скалярных полей
* Рисование flame графа по весам полей и заливка его на sandbox

**Собирать утилиту нужно из этой папки**

### Авторизация и общие настройки

Возможно два вида авторизации (нужен доступ до YQL, sandbox):
* Из переменных окружения YQL_TOKEN и SANDBOX_TOKEN
* Из файла ~/.yql/token и ~/.sandbox/token

Общие настройки:

* ```--cluster``` - имя кластера (hahn, arnold и т.п.). По дефолту - hahn.
* ```--sample-rate``` - sample rate для исследуемой таблички 0 < sr <= 1 (часть строк, по которым будет считаться средний вес).
* ```--profile``` - имя профиля в стиле Bigb udf.  То есть для banner.proto имя это BannerProfile, в случае парсинга из строки, или BannerProfileProto, в случае парсинга из поля. Для user_profile.proto имя Profile. (не хотелось отличаться от имен, которые мы пишем при вызове Bigb::Parse<Profile name>)
* ```--field``` - имя табличного поля, в которой лежит профиль, если анализируете прото, лежащие в дампах. Если поле не предоставленно, то тулза попытается распарсить профиль, занимающий всю строку.
* ```--path``` - путь до исследуемой таблички на кластере от корня

Пример:

flamegraph для stable/Banners c семплированием 10%:

http://s3.mds.yandex.net/sandbox-469/2433774228/flamegraph.svg

### Запущен scheduler построения flame графа

https://sandbox.yandex-team.ru/scheduler/697853/view
