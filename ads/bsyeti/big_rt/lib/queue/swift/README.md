## Переход с qyt на swift queue

0. Создать swift queue (через cli как qyt, только с опцией --swift) и добавить сапплаер на нее в читателя (ревью с добавлением этого в баззард https://a.yandex-team.ru/review/1674655/files/2)
1. Тут два альтернативных варианта 
    <br>a) Использовать опцию EnableQytTransitionMode на писателе на время перехода
    <br>b) Остановить писателя в обычный QYT и вычитать оттуда все читателем
2. Настроить запись в swift queue в решардере (место с настройкой в решардере [тут](https://a.yandex-team.ru/arc/trunk/arcadia/ads/bsyeti/samogon/resharder/plugin/__init__.py?rev=r8216750#L59)) и включить писателя
3. После перехода отключить EnableQytTransitionMode, если использовалась


## Переход с swift queue на qyt

0. Переключить писателя в EnableQytTransitionMode (одноименная опция в конфиге).
   При этом писатель перестанет передавать данные по rpc и будет писать их под оффсетными транзакциями через qyt.
1. Тут два альтернативных варианта 
    <br>а) Переключить читателя в EnableQytTransitionMode. Тогда читатель будет обрабатывать входные сообщения целиком.
    <br>b) Через некоторое время остановить писателя и подождать пока читатель все вычитает.
2. Через некоторое время переключить запись в qyt.


## Как сбросить все оффсеты при пересоздании входного топика

Пусть есть топик, его читает решардер, пишет результат в swift queue, и ее читает воркер. 
И пусть мы его хотим пересоздать и оффсеты событий из этого топика пойдут с нуля.

Тогда у нас есть оффсеты входного топика в CS решардера и в оффсете воркера. Как их удалить:

1) Отключить чтение топика в решардере с перезапуском решардера
(важно, чтобы не осталось писателей в памяти которых есть seqNo sourceId-ов связанных с пересоздаваемым источником).
2) Удалить CS топика в решардере (это в простом случае, когда CS решардера потребляет именно этот один пересоздаваемый топик).
3) Удалить sourceId-ы сгенерированные обработкой этого топика из оффсета воркера. Это умеет big_rt_cli (drop_swift_source_ids).
4) Включить чтение топика в решардере.
