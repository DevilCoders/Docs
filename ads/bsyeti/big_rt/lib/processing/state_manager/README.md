# State manager
Это сущность, которая объединяет в себе знания о том, как загрузить что-нибудь для строк лога. Примерный интерфейс:

```
TFactory — создает менеджеров. Существует, чтобы можно было создавать одинаковы или разные менеджеры для шардов
TManager — хранилище стейтов, умеет загружать и сохранять
TRequest — запрос нужных данных для одной строки. Предполагается, что после загрузки, в нем будет ссылка на данные
```

Виды state manager'ов:
* `base` — базовый предок для остальных
* `generic` — базовый вариант, удаляет стейты через k эпох. Чтобы работать, достаточно определить Factory и методы `WriteStates` и `LoadStates`.
* `simple_proto` — аналогичен `generic`, но умеет сохранять стейты в динтаблицу
* `read_only` — игнорирует все записи стейтов
* `composite` — проксирует запросы нескольким дочерним менеджерам
* `multiple` — проксирует несколько запросов дочернему менеджеру
