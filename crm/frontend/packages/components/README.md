# Общие компоненты CRM

## Зависимые проекты:

-   space/frontend_static
-   apphost/nodejs/packages/admin-panel-ui

## Установка

Устанавливаем peer-dependencies.
Копипастим их из `package.json peerDependencies` в `package.json dependencies` проекта клиента.

```sh
yarn install @crm/components
```

или

```sh
npm install @crm/components
```

## Важно, Специфика сборки

Изначально весь код был во фронтенде спейса, собирался вебпаком настроенным для спейса.
После [этой задачи](https://st.yandex-team.ru/CRM-18844) этот код был вынесен сюда в отдельный пакет.

**Важно**: по сути никакой сборки сам пакет в себе не содержит.
`npm run build` лишь запускает `tsc` для `.ts` файлов и копирует ассеты в `/dist` папку.
Вся ответственность за сборку `.js`, `.css`, ассетов типа `.svg` лежит на проекте клиенте, такой как фронт спейса или фронт админки изоляции.
Пока это сделано так, потому что это самый простой и дешевый способ все это запустить.

Это означает, что конфиг вебпака - тоже зависимость, которая пока решается копипастой (_надеюсь временно_).
