# [GEOQ-1115](https://st.yandex-team.ru/GEOQ-1115) — Варианты итоговой метрики точности Справочника

### Варьируемые параметры

Для сравнения значений итоговой метрики перебираются все возможные комбинации 
следующих параметров:
1. **Динамическое окно** - период, за который берется пользовательский 
[фидбек](https://yt.yandex-team.ru/hahn/navigation?path=//home/sprav/altay/prod/snapshot/feedback.feedback) 
с изменением атрибутов. Этот период предшествует дню, за который считается 
метрика. Возможные варианты: **день**, **неделя**, **месяц**, **полгода**.
2. **Вклад динамических весов**. Итоговый вес атрибута - это взвешенная сумма 
базового веса (того что лежит в 
[json](https://a.yandex-team.ru/svn/trunk/arcadia/sprav/java/sunduk/nirvana/common/AttributesWeight.json)
) и динамического (рассчитанного по фидбеку). Возможные варианты: **0.0** 
(только базовый), **0.5** (их среднее), **1.0** (только динамический).
3. **Формула** - аггрегирующая функция весов и скоров атрибутов. Варианты: 
средневзвенное **арифметическое**, **геометрическое** и **гармоническое**.

### Как пользоваться
- Запустить бинарь `precision_metrics_comparison`. Пример запуска: 
`./precision_metrics_comparison --output-table //home/maps/users/olegvp/ref_base_metrics`
- Сохранить таблицу в формате "Schemaful DSV" под именем `ref_base_metrics.txt`
- В директории с cохраненной таблицей запустить jupyter-notebook `show_metrics.ipynb`

### Пример итоговых графиков

![Example](https://jing.yandex-team.ru/files/olegvp/ref_base_metrics.png)
