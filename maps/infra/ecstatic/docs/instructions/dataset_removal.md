# Удаление датасета

1. Убедиться, что никакие сервисы больше не используют этот датасет

2. Остановить генерацию датасета

3. Удалить все деплои датасета, добавив ``@fake deploy``

    ````
   generate dataset1 on tvm:12345
   @fake deploy dataset1 to example.com
   ````
   После этого на всех потребителях датасета позовутся switch хуки на пустую версию и после успешного завершения работы switch хука датасет будет удален с машинок.
   
   Если один из потребителей датасета будет использовать этот датасет, то при правильном написании switch и check хуков, датасет удалится только с switch in parallel хостов и через некоторое время загорится мониторинг
   
4. Удалить все версии датасета из ecstatic с помощью команды ``ecstatic remove``

    ```shell script
    ecstatic versions dataset1  | xargs -I{} ecstatic --tvm-id=12345 remove {}
    ```

5. Удалить все упоминания датасета из конфигов
