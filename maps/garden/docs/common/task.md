# Задача

Задача (`task`) - объект, создающий внутренние [ресурсы](resource.md) Огорода, получая на вход другие [ресурсы](resource.md).

Все задачи реализуются в классах-наследниках `maps.garden.sdk.core.Task`.

Каждая задача должна определять метод `__call__`. Этот метод вызывается для исполнения задачи. Аргументы метода - входные и выходные ресурсы.
Названия входных аргументов определяется тем, как задача регистрируется в графе (см. описание `graph builder`).

## Базовые классы задач
Следующие задачи и базовые классы поддержаны в ядре и плагинах Огорода:

* `YtTaskBase` - дополнительные методы для упрощения работы с YT
* `YqlTask` - выполнение YQL скрипта
* `UploadToSandboxTask` - загрузка данных в Сендбокс
* `UploadDatasetTask` - загрузка данных в Ecstatic

### `optional_task`
`optional_task` - это декоратор над задачей, которая на вход может принимать `OptionalResource` и создает на выходе другой `OptionalResource`.
Если среди входящих ресурсов присутствует пустой опциональный ресурс, то метод `__call__` задачи не вызывается и просто создается пустой выходной ресурс.
Иначе, вызываются методы задачи и создается непустой неопциональный выходной ресурс.

{% note alert %}

В огороде стоит ограничение на длительность выполнения задач в 12 часов.
Разработчики модулей должны учитывать это и стараться разбивать долгие задачи на несколько поменьше.

{% endnote %}
