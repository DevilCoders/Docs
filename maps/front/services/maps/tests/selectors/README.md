# Селекторы автотестов

В данном проекте хранится перечень селекторов интерфейса БЯК, используемых в автотестах. Проект является источником данных о расшифровке селекторов, которая используется при выгрузке тесткейсов автотестов в TestPalm.

## Начало работы с проектом

### Установка NodeJS

Для корректной работы с этим проектом необходимо иметь на компьютере установленную и доступную для работы через терминал утилиту `node` и пакетный менеджер `npm`.

Для установки `node` и `npm` на свой рабочий компьютер, необходимо открыть страницу загрузки на официальном сайте [NodeJS](https://nodejs.org/ru/download/) и скачать загрузочный файл подходящий для вашей операционной системы. По окончании загрузки, необходимо открыть скачанный файл и пройти все шаги, предложенные установщиком. После завершения установки необходимо перезагрузить компьютер, открыть терминал и проверить, что консольная утилита `node` и пакетный менеджер `npm` установлены в вашу систему.

Для проверки выполните в терминале следующие команды. После команды приведен ожидаемый вид ответа (символы после знака '#').

```bash
node -v
# v14.13.0
```

```bash
npm -v
# 6.14.8
```

### Установка зависимостей проекта

После успешной установки утилиты `node` и пакетного менеджера `npm` для начала корректной работы с проектом остается установить зависимости проекта. Для этого, находясь в корневой директории проекта, выполните в терминале следующую команду.

```bash
npm ci
```

По окончании установки зависимостей, проект можно считать настроенным и готовым к работе.

## Структура данных

Данные в это проекте хранятся в формате `json`.

Структура данных в файле `tests/selectors/selectors.json` представляет из себя объект. Ключами данного объекта являются строки, соответствующие селекторам, используемым в автотестах. Значения представляют из себя объекты описывающие соответствующий ключу селектор.

Объект описания селектора содержит следующие поля:

-   `description` - текстовое описание элемента, соответствующего селектору;
-   `screenshot` - ссылка на десктопный скриншот элемента, соответствующего селектору;
-   `touchScreenshot` - ссылка на десктопный скриншот элемента, соответствующего селектору.

## Пример добавления селектора

Для добавления нового селектора `.discovery-balloon-view` в проект необходимо:

1.  Откройте файл `selectors.json` и найдите конец документа.

```json
    ".photos-player-controls-view__button._type_backward": {
        "description": "элемент: Контрол \"Назад\" в превью фото",
        "screenshot": "https://jing.yandex-team.ru/files/zonovhtc/chrome_ZfPh3vitHP.jpg",
        "touchScreenshot": null
    }
}
```

2.  Поставьте запятую и добавьте новый пустой объект с ключом `.discovery-balloon-view`.

```json
   ".photos-player-controls-view__button._type_backward": {
       "description": "элемент: Контрол \"Назад\" в превью фото",
       "screenshot": "https://jing.yandex-team.ru/files/zonovhtc/chrome_ZfPh3vitHP.jpg",
       "touchScreenshot": null
   },
   ".discovery-balloon-view": {}
}
```

3. Заполните поля объекта описанием и скриншотами данного селектора. Обратите внимание. Если какое-либо поле не имеет данных (например, данный селектор отсутствует в тач версии карт), то его необходимо заполнить значением `null`.

```json
   ".photos-player-controls-view__button._type_backward": {
       "description": "элемент: Контрол \"Назад\" в превью фото",
       "screenshot": "https://jing.yandex-team.ru/files/zonovhtc/chrome_ZfPh3vitHP.jpg",
       "touchScreenshot": null
   },
   ".discovery-balloon-view": {
       "description": "элемент: Балун организации дискавери",
       "screenshot": "https://jing.yandex-team.ru/files/ktokarevahtc/2020-03-23_16.14.14-jYrvm.png",
       "touchScreenshot": null
   }
}
```

4. Сделайте `commit` с Вашими изменениями и сделайте `push` его на BitBucket.

## Работа с системой контроля версий

Для работы с проектом необходимо использовать систему контроля версий Arc. Исчерпывающие данные по работе с данной системой контроля версий можно найти в [Аркадии](https://a.yandex-team.ru/arc_vcs/outstaff).
