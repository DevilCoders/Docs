# Автоматическое изменение версий в StarTrek

__Специфично для интерфейсов карт__

[Подробнее](https://wiki.yandex-team.ru/maps/maps-workflow/#versionirovanie)

## Выкатка пакетов

После выкладки в тестинг пакета с версией, отличающейся минорной цифрой от предыдущей, переименовывает версию `dev` в `rc`, `next` в `dev` и создаем новую версию `next`.

Если тикет имеет один из статус `Открыт`, `В работе`, `Требуется информация` или `Code Review` и выставлена версия `dev`, то перед переименованием версий будет удалена версия `dev` и выставлена `next`.

После выкладки в продакшен переименовывает версию `rc` в `dd-nn-yyyy` и делаем ее released.

Адрес: `/version-controller/conductor`

Методы: POST

Параметры:
* `queue` — очередь, у которой надо будет менять версии.

## Коммиты

* Ставит версию `dev` при коммите в dev ветку.
* Ставит версию `rc` при коммите в rc ветку.

> Не ставит версию, если у тикета уже стоит какая-нибудь версия.

Адрес: `/version-controller/commit`

Методы: GET и POST
