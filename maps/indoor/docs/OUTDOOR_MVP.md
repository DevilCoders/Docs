# Outdoor radiomaps

Чтобы начать позиционироваться в аутдоре,
нужно в огороде сварить тайлы радиокарты, на которых будут видны трансмиттеры.

Сами трансмиттеры будут загружены в огород, как статические.
Ещё для этих трансмиттеров нужно как-то задать
indoor\_plan\_id, indoor\_level\_universal\_id
и предоставить релевантную геометрию для таких outdoor-ных уровней.

1.  Расставляем статические трансмиттеры на местности
    1.  Определяем айдишники имеющихся трансмиттеров
    2.  Как-то определяем их AB-параметры
    3.  Расставляем их в локации, где будет аутдор
    4.  Знаем, где они поставлены, так что знаем их координаты.
2.  Загружаем маяки как статические трансмиттеры для аутдора
    1.  Заполняем данные
        1.  Координаты, параметры, тип известны
        2.  plan\_id и level\_id придумываем из головы
            1.  сейчас max(object\_id) в няк = 4.5е9
            2.  Предлагаю взять смещение 1е12 для outdoor-планов.
            3.  Нумеровать их по возрастанию
            4.  В БД НЯК эти значения не попадут. Только в табличку ugc.static\_transmitter
3.  Геометрию для аутдор-радиокарты нужно доставить до огорода.
    1.  Что это будет за геометрия.
        1.  Предлагается взять полигональную геометрию (задел на сложную форму в будущем).
        2.  На первом этапе пусть в полигоне будет ббокс статических трансмиттеров с некоторым буффером.
4.  Как доставить данные в огород
    1.  Статические трансмиттеры приедут штатно.
    2.  Для геометрий предлагаю
        1.  Создать отдельную табличку в PG outdoor\_coverage(plan\_id, level\_id, geom)
        2.  В рамках MVP вручную внести в неё геометрии
        3.  Синхронизовать её в latest директорию в indoor\_radiomap на YT
        4.  Научить огородный модуль читать геометрии и из неё тоже.
