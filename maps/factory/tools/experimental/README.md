Данная папка содержит разные инструменты и данные для организации разметки по ранжированию спутниковых изображений.

## Предполагаемый порядок действий

* __Создать задание на Толоке с наcтройками из *toloka-config.txt*__.
Для создания задания необходимо задать настройки интерфейса либо через HTML/JS/CSS, либо через так называемый Конструктор шаблонов.
Настройки в *toloka-config.txt* соответствуют Конструктору шаблонов. Также надо установить название/описание/инструкцию, но это, разумеется, делается произвольно.
Вдобавок, необходимо добавить интеграцию с Яндекс.Диском по инструкции в документации Толоки, если этого не сделано ранее.
По итогам этой интеграции получится некоторый `common_folder_ID`, **не обязательно совпадающий** с расположением созданной папки, но заменяющий это самое расположение в спецификациях проектов.

* __С помощью тула *generate-images* сгенерировать изображения с разной обработкой__.
На вход подаются расположение одного cog'а (локально или на s3), координаты и размер изображений, а также желаемое расположение выходной папки (см. пример внутри исходника).
(Для нескольких cog'ов требуется несколько запусков.)
Также есть флаг, при выставлении которого идёт подсчёт метрик ERGAS (если здесь их не посчитать, то потом очень трудозатратно это сделать).
Однако этот подсчёт достаточно сильно увеличивает время выполнения, поэтому по умолчанию он не выполняется.
*Используемые в дальнейшем инструменты предполагают, что данный шаг был сделан именно при помощи generate-images*.
Конкретно я использовал параметры из *cogs_info.txt*.

* __Загрузить полученные папки на привязанный к Толоке Я.Диск__.
Предполагается, что путь к каждому файлу имеет формат `{common_folder_ID}/{generate-images_output_name}/{algorithm}.jpeg`, то есть каждая выходная папка *generate-images* лежит отдельно, и их объединяет лишь общая для всех проектов данного аккаунта папка.

* __С помощью тула *prepare-toloka-tasks* создать файл с заданиями__.
Инструмент черновой, есть что подчистить (см. исходник).
Отмечу, что одно из входных полей -- `common_folder_ID`, заданное на первом шаге.

* __По окончании разметки скачать результирующий файл и подать на вход *analyze_markup.ipynb*__.
Данный ноутбук содержит лоскуты кода для разных целей: усреднение попарных сравнений по респондентам, создание "турнирных" табличек с возможностью сохранения в файл, суммирование этих результатов с возможностью сохранения в файл, проверка на транзитивность.
По желанию можно много что ещё добавить.
