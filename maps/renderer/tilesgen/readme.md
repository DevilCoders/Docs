# Maps-Core-Renderer-Tilesgen

[[toc]]


## General information

Serves both vector and raster tiles of raster tiles(map, skl layers), json hotspot tiles(mapj, sklj), vector tiles(vmap2, vnav2).
Serves 3d models, fonts and icons for vector clients.

| Key | Value |
| --- | ----- |
| Call in case of obscurity | [Михаил Мартикайнен](https://staff.yandex-team.ru/martikainen), [Артем Козырев](https://staff.yandex-team.ru/grstray) |
| SRE | [Артем Козырев](https://staff.yandex-team.ru/grstray) |
| Sources | https://a.yandex-team.ru/arc/trunk/arcadia/maps/renderer/tilesgen |
| Service in ABC | https://abc.yandex-team.ru/services/maps-core-renderer-tilesgen/ |
| CI (TestEnv) | [maps_renderer/BUILD_DOCKER_AND_RELEASE_MAPS_CORE_RENDERER_TILESGEN](https://beta-testenv.yandex-team.ru/project/maps_renderer/job/BUILD_DOCKER_AND_RELEASE_MAPS_CORE_RENDERER_TILESGEN/history) |

### Browse tiles in web browser (use chromium-based for vector tiles, mozilla/safari for raster).

Note: generated by [maps/renderer/tools/l7test_url](https://a.yandex-team.ru/arc/trunk/arcadia/maps/renderer/tools/l7test_url)

| [Stable](https://l7test.yandex.ru/maps/213/moscow/?host_config[hosts][mapTiles]=https://core-renderer-tilesgen.maps.yandex.net/tiles?l=map%26%25c%26%25l&host_config[hosts][mapjTiles]=https://core-renderer-tilesgen.maps.yandex.net/tiles?l=mapj%26%25c%26%25l&host_config[hosts][sklTiles]=https://core-renderer-tilesgen.maps.yandex.net/tiles?l=skl%26%25c%26%25l&host_config[hosts][skljTiles]=https://core-renderer-tilesgen.maps.yandex.net/tiles?l=sklj%26%25c%26%25l&host_config[hosts][vectorGlyphs]=https://core-renderer-tilesgen.maps.yandex.net/vmap2/glyphs?lang={{lang}}%26font_id={{fontId}}%26range={{range}}&host_config[hosts][vectorImages]=https://core-renderer-tilesgen.maps.yandex.net/vmap2/icons?id={{id}}%26scale={{scale}}&host_config[hosts][vectorMeshes]=https://core-renderer-tilesgen.maps.yandex.net/vmap2/meshes?id={{id}}&host_config[hosts][vectorTiles]=https://core-renderer-tilesgen.maps.yandex.net/vmap2/tiles?lang={{lang}}%26x={{x}}%26y={{y}}%26z={{z}}%26zmin={{zmin}}%26zmax={{zmax}}%26v={{version}}&host_config[hosts][vectorIndoorTiles]=https://core-renderer-tilesgen.maps.yandex.net/indoor/tiles?lang={{lang}}%26x={{x}}%26y={{y}}%26z={{z}}%26zmin={{zmin}}%26zmax={{zmax}}&host_config[hosts][vectorIndoorImages]=https://core-renderer-tilesgen.maps.yandex.net/indoor/icons?id={{id}}%26scale={{scale}}&host_config[hosts][vectorIndoorMeshes]=https://core-renderer-tilesgen.maps.yandex.net/indoor/meshes?id={{id}}&host_config[hosts][vectorIndoorGlyphs]=https://core-renderer-tilesgen.maps.yandex.net/indoor/glyphs?lang={{lang}}%26font_id={{fontId}}%26range={{range}}&host_config[hosts][vectorIndoorPlans]=https://core-renderer-tilesgen.maps.yandex.net/indoor/plans?id={{id}}&host_config[inthosts][meta]=http://core-meta.maps.yandex.net/)
| [Datavalidation](https://l7test.yandex.ru/maps/213/moscow/?host_config[hosts][mapTiles]=https://core-renderer-tilesgen.datavalidation.maps.yandex.net/tiles?l=map%26%25c%26%25l&host_config[hosts][mapjTiles]=https://core-renderer-tilesgen.datavalidation.maps.yandex.net/tiles?l=mapj%26%25c%26%25l&host_config[hosts][sklTiles]=https://core-renderer-tilesgen.datavalidation.maps.yandex.net/tiles?l=skl%26%25c%26%25l&host_config[hosts][skljTiles]=https://core-renderer-tilesgen.datavalidation.maps.yandex.net/tiles?l=sklj%26%25c%26%25l&host_config[hosts][vectorGlyphs]=https://core-renderer-tilesgen.datavalidation.maps.yandex.net/vmap2/glyphs?lang={{lang}}%26font_id={{fontId}}%26range={{range}}&host_config[hosts][vectorImages]=https://core-renderer-tilesgen.datavalidation.maps.yandex.net/vmap2/icons?id={{id}}%26scale={{scale}}&host_config[hosts][vectorMeshes]=https://core-renderer-tilesgen.datavalidation.maps.yandex.net/vmap2/meshes?id={{id}}&host_config[hosts][vectorTiles]=https://core-renderer-tilesgen.datavalidation.maps.yandex.net/vmap2/tiles?lang={{lang}}%26x={{x}}%26y={{y}}%26z={{z}}%26zmin={{zmin}}%26zmax={{zmax}}%26v={{version}}&host_config[hosts][vectorIndoorTiles]=https://core-renderer-tilesgen.datavalidation.maps.yandex.net/indoor/tiles?lang={{lang}}%26x={{x}}%26y={{y}}%26z={{z}}%26zmin={{zmin}}%26zmax={{zmax}}&host_config[hosts][vectorIndoorImages]=https://core-renderer-tilesgen.datavalidation.maps.yandex.net/indoor/icons?id={{id}}%26scale={{scale}}&host_config[hosts][vectorIndoorMeshes]=https://core-renderer-tilesgen.datavalidation.maps.yandex.net/indoor/meshes?id={{id}}&host_config[hosts][vectorIndoorGlyphs]=https://core-renderer-tilesgen.datavalidation.maps.yandex.net/indoor/glyphs?lang={{lang}}%26font_id={{fontId}}%26range={{range}}&host_config[hosts][vectorIndoorPlans]=https://core-renderer-tilesgen.datavalidation.maps.yandex.net/indoor/plans?id={{id}}&host_config[inthosts][meta]=http://core-meta.datavalidation.maps.yandex.net/)
| [Datatesting](https://l7test.yandex.ru/maps/213/moscow/?host_config[hosts][mapTiles]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/tiles?l=map%26%25c%26%25l&host_config[hosts][mapjTiles]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/tiles?l=mapj%26%25c%26%25l&host_config[hosts][sklTiles]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/tiles?l=skl%26%25c%26%25l&host_config[hosts][skljTiles]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/tiles?l=sklj%26%25c%26%25l&host_config[hosts][vectorGlyphs]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/vmap2/glyphs?lang={{lang}}%26font_id={{fontId}}%26range={{range}}&host_config[hosts][vectorImages]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/vmap2/icons?id={{id}}%26scale={{scale}}&host_config[hosts][vectorMeshes]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/vmap2/meshes?id={{id}}&host_config[hosts][vectorTiles]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/vmap2/tiles?lang={{lang}}%26x={{x}}%26y={{y}}%26z={{z}}%26zmin={{zmin}}%26zmax={{zmax}}%26v={{version}}&host_config[hosts][vectorIndoorTiles]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/indoor/tiles?lang={{lang}}%26x={{x}}%26y={{y}}%26z={{z}}%26zmin={{zmin}}%26zmax={{zmax}}&host_config[hosts][vectorIndoorImages]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/indoor/icons?id={{id}}%26scale={{scale}}&host_config[hosts][vectorIndoorMeshes]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/indoor/meshes?id={{id}}&host_config[hosts][vectorIndoorGlyphs]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/indoor/glyphs?lang={{lang}}%26font_id={{fontId}}%26range={{range}}&host_config[hosts][vectorIndoorPlans]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/indoor/plans?id={{id}}&host_config[inthosts][meta]=https://core-meta.datatesting.maps.n.yandex.ru/)
| [Testing](https://l7test.yandex.ru/maps/213/moscow/?host_config[hosts][mapTiles]=https://core-renderer-tilesgen.testing.maps.yandex.net/tiles?l=map%26%25c%26%25l&host_config[hosts][mapjTiles]=https://core-renderer-tilesgen.testing.maps.yandex.net/tiles?l=mapj%26%25c%26%25l&host_config[hosts][sklTiles]=https://core-renderer-tilesgen.testing.maps.yandex.net/tiles?l=skl%26%25c%26%25l&host_config[hosts][skljTiles]=https://core-renderer-tilesgen.testing.maps.yandex.net/tiles?l=sklj%26%25c%26%25l&host_config[hosts][vectorGlyphs]=https://core-renderer-tilesgen.testing.maps.yandex.net/vmap2/glyphs?lang={{lang}}%26font_id={{fontId}}%26range={{range}}&host_config[hosts][vectorImages]=https://core-renderer-tilesgen.testing.maps.yandex.net/vmap2/icons?id={{id}}%26scale={{scale}}&host_config[hosts][vectorMeshes]=https://core-renderer-tilesgen.testing.maps.yandex.net/vmap2/meshes?id={{id}}&host_config[hosts][vectorTiles]=https://core-renderer-tilesgen.testing.maps.yandex.net/vmap2/tiles?lang={{lang}}%26x={{x}}%26y={{y}}%26z={{z}}%26zmin={{zmin}}%26zmax={{zmax}}%26v={{version}}&host_config[hosts][vectorIndoorTiles]=https://core-renderer-tilesgen.testing.maps.yandex.net/indoor/tiles?lang={{lang}}%26x={{x}}%26y={{y}}%26z={{z}}%26zmin={{zmin}}%26zmax={{zmax}}&host_config[hosts][vectorIndoorImages]=https://core-renderer-tilesgen.testing.maps.yandex.net/indoor/icons?id={{id}}%26scale={{scale}}&host_config[hosts][vectorIndoorMeshes]=https://core-renderer-tilesgen.testing.maps.yandex.net/indoor/meshes?id={{id}}&host_config[hosts][vectorIndoorGlyphs]=https://core-renderer-tilesgen.testing.maps.yandex.net/indoor/glyphs?lang={{lang}}%26font_id={{fontId}}%26range={{range}}&host_config[hosts][vectorIndoorPlans]=https://core-renderer-tilesgen.testing.maps.yandex.net/indoor/plans?id={{id}}&host_config[inthosts][meta]=https://core-meta.testing.maps.n.yandex.ru/)
|

[Compare all 4 environments on single page, raster](https://github.yandex-team.ru/pages/avlasyuk/split_view/index.html#ll=55.72610156792747,37.56076653377876!z=15!num_splits=4!title_0=PRODUCTION!title_1=TESTING!title_2=DATAVALIDATION!title_3=DATATESTING!url_0=https://core-renderer-tilesgen.maps.yandex.net/tiles?l=map&x=%25x&y=%25y&z=%25z&lang=ru_RU!url_1=https://core-renderer-tilesgen.testing.maps.yandex.net/tiles?l=map&x=%25x&y=%25y&z=%25z&lang=ru_RU!url_2=https://core-renderer-tilesgen.datavalidation.maps.yandex.net/tiles?l=map&x=%25x&y=%25y&z=%25z&lang=ru_RU!url_3=https://core-renderer-tilesgen.datatesting.maps.yandex.net/tiles?l=map&x=%25x&y=%25y&z=%25z&lang=ru_RU)

### Browse map on mobile device
Download, install, use Map/Map objects/Selection activities.

| [stable testapp](http://beta.m.ya.ru/ymta/trunk) for stable, dataprestable
| [testing testapp](http://beta.m.ya.ru/ymta/trunk_testing) for testing, datatesting, datavalidation
|

## What can go wrong

* No tiles on maps.yandex.ru or in mapkit-based apps(yandex maps, navigator, etc).
* No icons/fonts/3d models in vector clients. 
* Partial degradations: some tiles/icons/fonts are missing, tiles take ages to load. 

## How to rollback release
* Go to garden [Deployment -> Renderer Production](https://garden.maps.yandex-team.ru/renderer_deployment)
* Choose correct release and activate it (push "play" button) - after build finishes, release will be opened and activated on all hosts
* After that go to garden [Release -> Renderer](https://garden.maps.yandex-team.ru/renderer_publication) and delete "broken" release - that will close release and delete it from hosts, so that users with 'broken version' will get tiles from last active version instead of broken one.


You can manualy open/remove release by simulating ecstatic hooks:
* switch to `RELEASE_VERSION`:\
`ya tools sedem p_exec --dc sas --cmd 'sudo -u ecstatic /usr/lib/yandex/maps/staticrenderer/tools ecstatic-switch-hook-compiled --data-name=yandex-maps-renderer-compiled --data-version=RELEASE_VERSION --data-tag=style2-cis1' maps_core_renderer_tilesgen_prestable`

* remove release with version `RELEASE_VERSION`:\
`ya tools sedem p_exec --dc sas --cmd 'sudo -u ecstatic /usr/lib/yandex/maps/staticrenderer/tools ecstatic-remove-hook-compiled --data-name=yandex-maps-renderer-compiled --data-version=RELEASE_VERSION --data-tag=style2-cis1' maps_core_renderer_tilesgen_prestable`

## Deployment

1. Docker image will be built in TestEnv task [BUILD_DOCKER_AND_RELEASE_MAPS_CORE_RENDERER_TILESGEN](https://beta-testenv.yandex-team.ru/project/maps_tests/job/BUILD_DOCKER_AND_RELEASE_MAPS_CORE_RENDERER_TILESGEN/history) after a commit.
2. The new image will be automatically released to [testing](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_testing/), [designtestingtesting](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_designtestingtesting/), [load](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_load/).
3. Check manually that bugs are fixed.
4. Deploy to prestable: call `maps/renderer/tilesgen$ ya tool sedem release start .`
5. Wait for a successful prestable deployment: [prestable](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_prestable/), [datatestingload](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_datatestingload/).
6. Check service monitorings for the next 24 hours.
7. Deploy to stable: check tag version in output of `maps/renderer/tilesgen$ ya tool sedem release info .` and call `maps/renderer/tilesgen$ ya tool sedem release step . TAG_VERSION stable`
8. Wait for a successful stable deployment: [stable](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_prestable/), [datatesting](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_datatesting/), [experiments](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_experiments/)
9. Check service monitorings and have fun.


## Service infrastructure

### Instances, graphics, monitorings

| Staging | Nanny service | Graphics panel | Monitoring checks | Balancers |
| ------- | ------------- | -------------- | ----------------- |-----------|
| stable | [maps_core_renderer_tilesgen_stable](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_stable/) | [core-renderer-tilesgen.stable](https://yasm.yandex-team.ru/template/panel/maps-core-renderer-tilesgen-stable-panel-main/) | [maps_core_renderer_tilesgen_stable](https://juggler.yandex-team.ru/aggregate_checks/?query=host%3Dmaps_core_renderer_tilesgen_stable&view=tiles&limit=200) | [core-renderer-tilesgen.maps.yandex.net](https://nanny.yandex-team.ru/ui/#/awacs/namespaces/list/core-renderer-tilesgen.maps.yandex.net/show/) |
| prestable | [maps_core_renderer_tilesgen_prestable](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_prestable/) | [core-renderer-tilesgen.prestable](https://yasm.yandex-team.ru/template/panel/maps-core-renderer-tilesgen-prestable-panel-main/) | [maps_core_renderer_tilesgen_prestable](https://juggler.yandex-team.ru/aggregate_checks/?query=host%3Dmaps_core_renderer_tilesgen_prestable&view=tiles&limit=200) | --- |
| experiments | [maps_core_renderer_tilesgen_experiments](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_experiments/) | [core-renderer-tilesgen.experiments](https://yasm.yandex-team.ru/template/panel/maps-core-renderer-tilesgen-experiments-panel-main/) | [maps_core_renderer_tilesgen_experiments](https://juggler.yandex-team.ru/aggregate_checks/?query=host%3Dmaps_core_renderer_tilesgen_experiments&view=tiles&limit=200) | --- |
| dataprestable | [maps_core_renderer_tilesgen_dataprestable](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_dataprestable/) | [core-renderer-tilesgen.dataprestable](https://yasm.yandex-team.ru/template/panel/maps-core-renderer-tilesgen-dataprestable-panel-main/) | [maps_core_renderer_tilesgen_dataprestable](https://juggler.yandex-team.ru/aggregate_checks/?query=host%3Dmaps_core_renderer_tilesgen_dataprestable&view=tiles&limit=200) | --- |
| datavalidation | [maps_core_renderer_tilesgen_datavalidation](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_datavalidation/) | [core-renderer-tilesgen.datavalidation](https://yasm.yandex-team.ru/template/panel/maps-core-renderer-tilesgen-datavalidation-panel-main/) | [maps_core_renderer_tilesgen_datavalidation](https://juggler.yandex-team.ru/aggregate_checks/?query=host%3Dmaps_core_renderer_tilesgen_datavalidation&view=tiles&limit=200) |  [core-renderer-tilesgen.datavalidation.maps.yandex.net](https://nanny.yandex-team.ru/ui/#/awacs/namespaces/list/core-renderer-tilesgen.datavalidation.maps.yandex.net/show/) |
| datatesting | [maps_core_renderer_tilesgen_datatesting](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_datatesting/) | [core-renderer-tilesgen.datatesting](https://yasm.yandex-team.ru/template/panel/maps-core-renderer-tilesgen-datatesting-panel-main/) | [maps_core_renderer_tilesgen_datatesting](https://juggler.yandex-team.ru/aggregate_checks/?query=host%3Dmaps_core_renderer_tilesgen_datatesting&view=tiles&limit=200) | [core-renderer-tilesgen.datatesting.maps.yandex.net](https://nanny.yandex-team.ru/ui/#/awacs/namespaces/list/core-renderer-tilesgen.datatesting.maps.yandex.net/show/) |
| datatestingprestable | [maps_core_renderer_tilesgen_datatestingprestable](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_datatestingprestable/) | [core-renderer-tilesgen.datatestingprestable](https://yasm.yandex-team.ru/template/panel/maps-core-renderer-tilesgen-datatestingprestable-panel-main/) | [maps_core_renderer_tilesgen_datatestingprestable](https://juggler.yandex-team.ru/aggregate_checks/?query=host%3Dmaps_core_renderer_tilesgen_datatestingprestable&view=tiles&limit=200) | --- |
| datatestingvalidation | [maps_core_renderer_tilesgen_datatestingvalidation](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_datatestingvalidation/) | [core-renderer-tilesgen.datatestingvalidation](https://yasm.yandex-team.ru/template/panel/maps-core-renderer-tilesgen-datatestingvalidation-panel-main/) | [maps_core_renderer_tilesgen_datatestingvalidation](https://juggler.yandex-team.ru/aggregate_checks/?query=host%3Dmaps_core_renderer_tilesgen_datatestingvalidation&view=tiles&limit=200) | [core-renderer-tilesgen-datatestingvalidation.maps.n.yandex.ru](https://nanny.yandex-team.ru/ui/#/services/balancers/list/production/sections/list/maps-core-renderer-tilesgen-datatesting-validation-slb) |
| datatestingload | [maps_core_renderer_tilesgen_datatestingload](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_datatestingload/) | [core-renderer-tilesgen.datatestingload](https://yasm.yandex-team.ru/template/panel/maps-core-renderer-tilesgen-datatestingload-panel-main/) | [maps_core_renderer_tilesgen_datatestingload](https://juggler.yandex-team.ru/aggregate_checks/?query=host%3Dmaps_core_renderer_tilesgen_datatestingload&view=tiles&limit=200) | |
| testing | [maps_core_renderer_tilesgen_testing](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_testing/) | [core-renderer-tilesgen.testing](https://yasm.yandex-team.ru/template/panel/maps-core-renderer-tilesgen-testing-panel-main/) | [maps_core_renderer_tilesgen_testing](https://juggler.yandex-team.ru/aggregate_checks/?query=host%3Dmaps_core_renderer_tilesgen_testing&view=tiles&limit=200) | [core-renderer-tilesgen.testing.maps.yandex.net](https://nanny.yandex-team.ru/ui/#/awacs/namespaces/list/core-renderer-tilesgen.testing.maps.yandex.net/show/) |
| load | [maps_core_renderer_tilesgen_load](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_load/) | [core-renderer-tilesgen.load](https://yasm.yandex-team.ru/template/panel/maps-core-renderer-tilesgen-load-panel-main/) | [maps_core_renderer_tilesgen_load](https://juggler.yandex-team.ru/aggregate_checks/?query=host%3Dmaps_core_renderer_tilesgen_load&view=tiles&limit=200) | |

[Monitorings all (tag=a_prj_maps-core-renderer-tilesgen)](https://juggler.yandex-team.ru/aggregate_checks/?query=tag%3Da_prj_maps-core-renderer-tilesgen&view=tiles&statuses=WARN%2CCRIT)

### Instances, graphics, monitorings (designtesting)
| Staging | Nanny service | Graphics panel | Monitoring checks | Balancers |
| ------- | ------------- | -------------- | ----------------- |-----------|
| designtesting | [maps_core_renderer_tilesgen_designtesting](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_designtesting/) | [core-renderer-tilesgen.designtesting](https://yasm.yandex-team.ru/template/panel/maps-core-renderer-tilesgen-designtesting-panel-main/) | [maps_core_renderer_tilesgen_designtesting](https://juggler.yandex-team.ru/aggregate_checks/?query=host%3Dmaps_core_renderer_tilesgen_designtesting&view=tiles&limit=200) |  [core-renderer-designtesting.maps.n.yandex.ru (common)](https://nanny.yandex-team.ru/ui/#/services/balancers/list/production/sections/list/maps-core-renderer-designtesting-stable-slb) |
| designtestingtesting | [maps_core_renderer_tilesgen_designtestingtesting](https://nanny.yandex-team.ru/ui/#/services/catalog/maps_core_renderer_tilesgen_designtestingtesting/) | [core-renderer-tilesgen.designtestingtesting](https://yasm.yandex-team.ru/template/panel/maps-core-renderer-tilesgen-designtestingtesting-panel-main/) | [maps_core_renderer_tilesgen_designtestingtesting](https://juggler.yandex-team.ru/aggregate_checks/?query=host%3Dmaps_core_renderer_tilesgen_designtestingtesting&view=tiles&limit=200) |  [core-renderer-designtesting-testing.maps.n.yandex.ru (common)](https://nanny.yandex-team.ru/ui/#/services/balancers/list/production/sections/list/maps-core-renderer-designtesting-testing-slb) |


### Dashboards

* Renderer backends:
    [maps_core_renderer_tilesgen](https://nanny.yandex-team.ru/ui/#/services/dashboards/catalog/maps_core_renderer_tilesgen)
* L7-balancer backends:
    [maps_core_renderer_tilesgen_balancer_all](https://nanny.yandex-team.ru/ui/#/services/dashboards/catalog/maps_core_renderer_tilesgen_balancer_all)


### Balancers

#### Stable

desc | link
---|---
L3-L7 balancers in nanny | https://nanny.yandex-team.ru/ui/#/awacs/namespaces/list/core-renderer-tilesgen.maps.yandex.net/show/
l3manager | https://l3.tt.yandex-team.ru/service/4275
racktables | https://racktables.yandex-team.ru/index.php?page=ipv4rspool&pool_id=10508
common metrics | https://yasm.yandex-team.ru/template/panel/balancer_common_panel/fqdn=core-renderer-tilesgen.maps.yandex.net;itype=balancer;ctype=prod;metaprj=balancer;locations=man,sas,vla;prj=core-renderer-tilesgen-maps;signal=service_total;timelines=0.03,0.05,0.07,0.1,0.3,0.5,1,5,10/
portoinst metrics | https://yasm.yandex-team.ru/template/panel/balancer_portoinst_panel/fqdn=core-renderer-tilesgen.maps.yandex.net;itype=balancer;ctype=prod;metaprj=balancer;locations=man,sas,vla;prj=core-renderer-tilesgen-maps;
файрвол puncher | https://puncher.yandex-team.ru/?rules=exclude_rejected&sort=destination&values=all&systems=&destination=core-renderer-tilesgen.maps.yandex.net

#### Datavalidation

desc | link
---|---
L3-L7 balancers in nanny | https://nanny.yandex-team.ru/ui/#/awacs/namespaces/list/core-renderer-tilesgen.datavalidation.maps.yandex.net/show/
l3manager | https://l3.tt.yandex-team.ru/service/8788
racktables | https://racktables.yandex-team.ru/index.php?page=ipv4rspool&pool_id=14468
common metrics | https://yasm.yandex-team.ru/template/panel/balancer_common_panel/fqdn=core-renderer-tilesgen.datavalidation.maps.yandex.net;itype=balancer;ctype=prod;metaprj=balancer;locations=man,sas,vla;prj=core-renderer-tilesgen-datavalidation-maps;signal=service_total;timelines=0.03,0.05,0.07,0.1,0.3,0.5,1,5,10/
portoinst metrics | https://yasm.yandex-team.ru/template/panel/balancer_portoinst_panel/fqdn=core-renderer-tilesgen.datavalidation.maps.yandex.net;itype=balancer;ctype=prod;metaprj=balancer;locations=man,sas,vla;prj=core-renderer-tilesgen-datavalidation-maps;
файрвол puncher | https://puncher.yandex-team.ru/?rules=exclude_rejected&sort=destination&values=all&systems=&destination=core-renderer-tilesgen.datavalidation.maps.yandex.net

#### Datatesting

desc | link
---|---
L3-L7 balancers in nanny | https://nanny.yandex-team.ru/ui/#/awacs/namespaces/list/core-renderer-tilesgen.datatesting.maps.yandex.net/show/
l3manager | https://l3.tt.yandex-team.ru/service/4171
racktables | https://racktables.yandex-team.ru/index.php?page=ipv4rspool&pool_id=10404
common metrics | https://yasm.yandex-team.ru/template/panel/balancer_common_panel/fqdn=core-renderer-tilesgen.datatesting.maps.yandex.net;itype=balancer;ctype=prod;metaprj=balancer;locations=man,sas,vla;prj=core-renderer-tilesgen-datatesting-maps;signal=service_total;timelines=0.03,0.05,0.07,0.1,0.3,0.5,1,5,10/
portoinst metrics | https://yasm.yandex-team.ru/template/panel/balancer_portoinst_panel/fqdn=core-renderer-tilesgen.datatesting.maps.yandex.net;itype=balancer;ctype=prod;metaprj=balancer;locations=man,sas,vla;prj=core-renderer-tilesgen-datatesting-maps;
файрвол puncher | https://puncher.yandex-team.ru/?rules=exclude_rejected&sort=destination&values=all&systems=&destination=core-renderer-tilesgen.datatesting.maps.yandex.net

#### Testing

desc | link
---|---
L3-L7 balancers in nanny | https://nanny.yandex-team.ru/ui/#/awacs/namespaces/list/core-renderer-tilesgen.testing.maps.yandex.net/show/
l3manager | https://l3.tt.yandex-team.ru/service/4168
racktables | https://racktables.yandex-team.ru/index.php?page=ipv4rspool&pool_id=10401
common metrics | https://yasm.yandex-team.ru/template/panel/balancer_common_panel/fqdn=core-renderer-tilesgen.testing.maps.yandex.net;itype=balancer;ctype=prod;metaprj=balancer;locations=man,sas,vla;prj=core-renderer-tilesgen-testing-maps;signal=service_total;timelines=0.03,0.05,0.07,0.1,0.3,0.5,1,5,10/
portoinst metrics | https://yasm.yandex-team.ru/template/panel/balancer_portoinst_panel/fqdn=core-renderer-tilesgen.testing.maps.yandex.net;itype=balancer;ctype=prod;metaprj=balancer;locations=man,sas,vla;prj=core-renderer-tilesgen-testing-maps;
файрвол puncher | https://puncher.yandex-team.ru/?rules=exclude_rejected&sort=destination&values=all&systems=&destination=core-renderer-tilesgen.testing.maps.yandex.net

#### Datatesting in testing

desc | link
---|---
Section in common balancer | https://nanny.yandex-team.ru/ui/#/services/balancers/list/production/sections/list/maps-core-renderer-tilesgen-datatesting-testing-slb

### Balancers urls

* Stable:
    http://core-renderer-tilesgen.maps.yandex.net/
* Datavalidation:
    http://core-renderer-tilesgen.datavalidation.maps.yandex.net/
* Datatesting:
    http://core-renderer-tilesgen.datatesting.maps.yandex.net/
* Testing:
    http://core-renderer-tilesgen.testing.maps.yandex.net/

## SLA

[Report in stat](https://stat.yandex-team.ru/Maps_Plus_Beta/SLA/maps_core_renderer_tilesgen)


## Ecstatic datasets

| Testing | Datatesting | Stable |
| ------ | ------- | ----------- |
| [yandex-maps-renderer-compiled](http://core-ecstatic-coordinator.testing.maps.yandex.net/pkg/yandex-maps-renderer-compiled/versions) | [yandex-maps-renderer-compiled](http://core-ecstatic-coordinator.datatesting.maps.yandex.net/pkg/yandex-maps-renderer-compiled/versions) | [yandex-maps-renderer-compiled](http://ecstatic.maps.yandex.net/pkg/yandex-maps-renderer-compiled/versions) |
| --- | [yandex-maps-renderer-compiled-designtesting](http://core-ecstatic-coordinator.datatesting.maps.yandex.net/pkg/yandex-maps-renderer-compiled-designtesting/versions) | [yandex-maps-renderer-compiled-designtesting](http://ecstatic.maps.yandex.net/pkg/yandex-maps-renderer-compiled-designtesting/versions) |
| [yandex-maps-renderer-blacklist](http://core-ecstatic-coordinator.testing.maps.yandex.net/pkg/yandex-maps-renderer-blacklist/versions) | [yandex-maps-renderer-blacklist](http://core-ecstatic-coordinator.datatesting.maps.yandex.net/pkg/yandex-maps-renderer-blacklist/versions) | [yandex-maps-renderer-blacklist](http://ecstatic.maps.yandex.net/pkg/yandex-maps-renderer-blacklist/versions) |
| [yandex-maps-renderer-fonts](http://core-ecstatic-coordinator.testing.maps.yandex.net/pkg/yandex-maps-renderer-fonts/versions) | [yandex-maps-renderer-fonts](http://core-ecstatic-coordinator.datatesting.maps.yandex.net/pkg/yandex-maps-renderer-fonts/versions) | [yandex-maps-renderer-fonts](http://ecstatic.maps.yandex.net/pkg/yandex-maps-renderer-fonts/versions) |


## Known clients

* [mobile proxy](https://wiki.yandex-team.ru/geo-infra/Tablica-otvetstvennyx-za-geo-servisy/maps_mobile/)
* [renderer cacher (%maps_vec)](https://wiki.yandex-team.ru/geo-infra/Tablica-otvetstvennyx-za-geo-servisy/maps_vec/)


## Logs

Look for file logs inside containers in Nanny services

| Name | URL/path |
| ---- | -------- |
| renderer-tilesgen (staticrenderer) | `/var/log/yandex/maps/yandex-maps-staticrenderer/` |
| staticrenderer-tools | `/var/log/yandex/maps/staticrenderer` |
| nginx | `/var/log/nginx` |
| roquefort | `/var/log/yandex/maps/roquefort` |
| ecstatic | `/var/log/yandex/maps/ecstatic-agent` |
| supervisord | `/var/log/supervisor` |
| syslog (unfiltered) | `/var/log/syslog` |
| cron | `/var/log/cron.log` |
| [YT](https://yql.yandex-team.ru) | `USE hahn; SELECT * FROM RANGE([logs/maps-log/1d], [2018-12-01], [2018-12-01]) WHERE tskv_format='yandex-maps-staticrenderer'` |

Look for poi logs for raster

| Name | URL/path |
| ---- | -------- |
| renderer-tilesgen (staticrenderer) | `/var/log/yandex/maps/yandex-maps-staticrenderer/LB_POI_RASTER_STAT.log` |
| logbroker | https://lb.yandex-team.ru/logbroker/accounts/maps-core-renderer-tilesgen/poi-raster-stat |
| data transfer | https://yc.yandex-team.ru/folders/foo5eko3pr2atujti94n/data-transfer/transfer/dttcgm5mrll9va7ejg70 |
| YT | https://yt.yandex-team.ru/hahn/navigation?path=//logs/maps-core-renderer-tilesgen-poi-raster-stat |

## Regressions

| Type | URL |
|---|---|
| Configurations | https://a.yandex-team.ru/arc/trunk/arcadia/maps/renderer/tilesgen/regression |
| Ammo generator scheduler | https://sandbox.yandex-team.ru/scheduler/18986/view |
| Shoot schedulers | https://sandbox.yandex-team.ru/schedulers?status=WAITING&tags=MAPS-RENDERER-TILESGEN&task_type=SHOOT_VIA_TANKAPI&limit=50 |
| Graphics (load) | https://lunapark.yandex-team.ru/regress/MAPSRENDER?service=tilesgen |
| Graphics (datatestingload) | https://lunapark.yandex-team.ru/regress/MAPSRENDER?service=tilesgen_datatesting |


## Design testing

[Service description](https://wiki.yandex-team.ru/MixailMartikajjnen/designTesting)


### Browse designtesting tiles in web browser:
[Testing](https://l7test.yandex.ru/maps/213/moscow/?host_config%5Bhosts%5D%5BmapjTiles%5D=https%3A%2F%2Fcore-renderer-designtesting-testing.maps.n.yandex.ru%2Ftiles%3Fl%3Dmapj%26%25c&host_config%5Bhosts%5D%5BmapTiles%5D=https%3A%2F%2Fcore-renderer-designtesting-testing.maps.n.yandex.ru%2Ftiles%3Fl%3Dmap%26%25c&host_config%5Bhosts%5D%5BskljTiles%5D=https%3A%2F%2Fcore-renderer-designtesting-testing.maps.n.yandex.ru%2Ftiles%3Fl%3Dsklj%26%25c&host_config%5Bhosts%5D%5BsklTiles%5D=https%3A%2F%2Fcore-renderer-designtesting-testing.maps.n.yandex.ru%2Ftiles%3Fl%3Dskl%26%25c&host_config%5Bhosts%5D%5BvectorGlyphs%5D=https%3A%2F%2Fcore-renderer-designtesting-testing.maps.n.yandex.ru%2Fvmap2%2Fglyphs%3Flang%3D%7B%7Blang%7D%7D%26font_id%3D%7B%7BfontId%7D%7D%26range%3D%7B%7Brange%7D%7D&host_config%5Bhosts%5D%5BvectorImages%5D=https%3A%2F%2Fcore-renderer-designtesting-testing.maps.n.yandex.ru%2Fvmap2%2Ficons%3Fid%3D%7B%7Bid%7D%7D%26scale%3D%7B%7Bscale%7D%7D&host_config%5Bhosts%5D%5BvectorMeshes%5D=https%3A%2F%2Fcore-renderer-designtesting-testing.maps.n.yandex.ru%2Fvmap2%2Fmeshes%3Fid%3D%7B%7Bid%7D%7D&host_config%5Bhosts%5D%5BvectorTiles%5D=https%3A%2F%2Fcore-renderer-designtesting-testing.maps.n.yandex.ru%2Fvmap2%2Ftiles%3Flang%3D%7B%7Blang%7D%7D%26x%3D%7B%7Bx%7D%7D%26y%3D%7B%7By%7D%7D%26z%3D%7B%7Bz%7D%7D%26zmin%3D%7B%7Bzmin%7D%7D%26zmax%3D%7B%7Bzmax%7D%7D&jsapi-version=2.1.74&ll=37.603411%2C55.747173&z=15.87) |
[Stable](https://l7test.yandex.ru/maps/213/moscow/?host_config%5Bhosts%5D%5BmapjTiles%5D=https%3A%2F%2Fcore-renderer-designtesting.maps.n.yandex.ru%2Ftiles%3Fl%3Dmapj%26%25c&host_config%5Bhosts%5D%5BmapTiles%5D=https%3A%2F%2Fcore-renderer-designtesting.maps.n.yandex.ru%2Ftiles%3Fl%3Dmap%26%25c&host_config%5Bhosts%5D%5BskljTiles%5D=https%3A%2F%2Fcore-renderer-designtesting.maps.n.yandex.ru%2Ftiles%3Fl%3Dsklj%26%25c&host_config%5Bhosts%5D%5BsklTiles%5D=https%3A%2F%2Fcore-renderer-designtesting.maps.n.yandex.ru%2Ftiles%3Fl%3Dskl%26%25c&host_config%5Bhosts%5D%5BvectorGlyphs%5D=https%3A%2F%2Fcore-renderer-designtesting.maps.n.yandex.ru%2Fvmap2%2Fglyphs%3Flang%3D%7B%7Blang%7D%7D%26font_id%3D%7B%7BfontId%7D%7D%26range%3D%7B%7Brange%7D%7D&host_config%5Bhosts%5D%5BvectorImages%5D=https%3A%2F%2Fcore-renderer-designtesting.maps.n.yandex.ru%2Fvmap2%2Ficons%3Fid%3D%7B%7Bid%7D%7D%26scale%3D%7B%7Bscale%7D%7D&host_config%5Bhosts%5D%5BvectorMeshes%5D=https%3A%2F%2Fcore-renderer-designtesting.maps.n.yandex.ru%2Fvmap2%2Fmeshes%3Fid%3D%7B%7Bid%7D%7D&host_config%5Bhosts%5D%5BvectorTiles%5D=https%3A%2F%2Fcore-renderer-designtesting.maps.n.yandex.ru%2Fvmap2%2Ftiles%3Flang%3D%7B%7Blang%7D%7D%26x%3D%7B%7Bx%7D%7D%26y%3D%7B%7By%7D%7D%26z%3D%7B%7Bz%7D%7D%26zmin%3D%7B%7Bzmin%7D%7D%26zmax%3D%7B%7Bzmax%7D%7D&jsapi-version=2.1.74&ll=37.603411%2C55.747173&z=15.87)

[Compare raster tiles with stable/testing](https://github.yandex-team.ru/pages/avlasyuk/split_view/index.html#ll=55.72610156792747,37.56076653377876!z=15!num_splits=4!title_0=PRODUCTION!title_1=TESTING!title_2=PRODUCTION%20DESIGN_TST!title_3=TESTING%20DESIGN_TST!url_0=http://core-renderer-tilesgen.maps.yandex.net/tiles?l=map&x=%25x&y=%25y&z=%25z&lang=ru_RU!url_1=https://core-renderer-tilesgen.testing.maps.yandex.net/tiles?l=map&x=%25x&y=%25y&z=%25z&lang=ru_RU!url_2=https://core-renderer-designtesting.maps.n.yandex.ru/tiles?l=map&x=%25x&y=%25y&z=%25z&lang=ru_RU!url_3=https://core-renderer-designtesting-testing.maps.n.yandex.ru/tiles?l=map&x=%25x&y=%25y&z=%25z&lang=ru_RU)


## Experiments
* [Active experiments](https://core-renderer-stylerepo.maps.yandex.net/experiments/?active=true&format=json)


### Browse experiment tiles in web (chromium based only).

Copy link and replace all values of `experimental_map_design` argument with design id.

Note: generated by [maps/renderer/tools/l7test_url](https://a.yandex-team.ru/arc/trunk/arcadia/maps/renderer/tools/l7test_url)
Note: only basemap tiles will come from experiments, not indoor tiles.

| [Stable](https://l7test.yandex.ru/maps/213/moscow/?host_config[hosts][mapTiles]=https://core-renderer-tilesgen.maps.yandex.net/tiles?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26l=map%26%25c%26%25l&host_config[hosts][mapjTiles]=https://core-renderer-tilesgen.maps.yandex.net/tiles?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26l=mapj%26%25c%26%25l&host_config[hosts][sklTiles]=https://core-renderer-tilesgen.maps.yandex.net/tiles?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26l=skl%26%25c%26%25l&host_config[hosts][skljTiles]=https://core-renderer-tilesgen.maps.yandex.net/tiles?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26l=sklj%26%25c%26%25l&host_config[hosts][vectorGlyphs]=https://core-renderer-tilesgen.maps.yandex.net/vmap2/glyphs?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26lang={{lang}}%26font_id={{fontId}}%26range={{range}}&host_config[hosts][vectorImages]=https://core-renderer-tilesgen.maps.yandex.net/vmap2/icons?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26id={{id}}%26scale={{scale}}&host_config[hosts][vectorMeshes]=https://core-renderer-tilesgen.maps.yandex.net/vmap2/meshes?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26id={{id}}&host_config[hosts][vectorTiles]=https://core-renderer-tilesgen.maps.yandex.net/vmap2/tiles?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26lang={{lang}}%26x={{x}}%26y={{y}}%26z={{z}}%26zmin={{zmin}}%26zmax={{zmax}}%26v={{version}}&host_config[hosts][vectorIndoor]=https://core-renderer-tilesgen.maps.yandex.net/&host_config[inthosts][meta]=http://core-meta.maps.yandex.net/)
| [Datatesting](https://l7test.yandex.ru/maps/213/moscow/?host_config[hosts][mapTiles]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/tiles?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26l=map%26%25c%26%25l&host_config[hosts][mapjTiles]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/tiles?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26l=mapj%26%25c%26%25l&host_config[hosts][sklTiles]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/tiles?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26l=skl%26%25c%26%25l&host_config[hosts][skljTiles]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/tiles?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26l=sklj%26%25c%26%25l&host_config[hosts][vectorGlyphs]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/vmap2/glyphs?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26lang={{lang}}%26font_id={{fontId}}%26range={{range}}&host_config[hosts][vectorImages]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/vmap2/icons?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26id={{id}}%26scale={{scale}}&host_config[hosts][vectorMeshes]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/vmap2/meshes?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26id={{id}}&host_config[hosts][vectorTiles]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/vmap2/tiles?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26lang={{lang}}%26x={{x}}%26y={{y}}%26z={{z}}%26zmin={{zmin}}%26zmax={{zmax}}%26v={{version}}&host_config[hosts][vectorIndoor]=https://core-renderer-tilesgen.datatesting.maps.yandex.net/&host_config[inthosts][meta]=https://core-meta.datatesting.maps.n.yandex.ru/)
| [Testing](https://l7test.yandex.ru/maps/213/moscow/?host_config[hosts][mapTiles]=https://core-renderer-tilesgen.testing.maps.yandex.net/tiles?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26l=map%26%25c%26%25l&host_config[hosts][mapjTiles]=https://core-renderer-tilesgen.testing.maps.yandex.net/tiles?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26l=mapj%26%25c%26%25l&host_config[hosts][sklTiles]=https://core-renderer-tilesgen.testing.maps.yandex.net/tiles?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26l=skl%26%25c%26%25l&host_config[hosts][skljTiles]=https://core-renderer-tilesgen.testing.maps.yandex.net/tiles?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26l=sklj%26%25c%26%25l&host_config[hosts][vectorGlyphs]=https://core-renderer-tilesgen.testing.maps.yandex.net/vmap2/glyphs?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26lang={{lang}}%26font_id={{fontId}}%26range={{range}}&host_config[hosts][vectorImages]=https://core-renderer-tilesgen.testing.maps.yandex.net/vmap2/icons?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26id={{id}}%26scale={{scale}}&host_config[hosts][vectorMeshes]=https://core-renderer-tilesgen.testing.maps.yandex.net/vmap2/meshes?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26id={{id}}&host_config[hosts][vectorTiles]=https://core-renderer-tilesgen.testing.maps.yandex.net/vmap2/tiles?experimental_map_design=7f8b739b-49cb-4bcc-9ffc-01a419b8b062%26lang={{lang}}%26x={{x}}%26y={{y}}%26z={{z}}%26zmin={{zmin}}%26zmax={{zmax}}%26v={{version}}&host_config[hosts][vectorIndoor]=https://core-renderer-tilesgen.testing.maps.yandex.net/&host_config[inthosts][meta]=https://core-meta.testing.maps.n.yandex.ru/)
|

## Blacklist
1. Use [arm](https://abc.yandex-team.ru/services/maps-core-jams-arm/) map (permission required) to find an object you want to block
2. Switch to blacklist tab and press the button "Create area"
3. Draw a contour around object
    * To avoid unintentional blocking of objects quite close to particular one, it is recommended to use max available map zoom
4. In case target is visible only on lower zooms (city or district name), tags or text should be specified
    * If tags and text are empty, all text objects inside area will be blocked
5. Press "Save" button to add area to the blacklist
6. Use "Export" button to send blacklist on tilesgen machines
7. Wait for new datasets with [data](http://ecstatic.maps.yandex.net/pkg/yandex-maps-renderer-blacklist/versions) and [version](http://ecstatic.maps.yandex.net/pkg/yandex-maps-renderer-blacklist-version/versions) to become active (~15min)

