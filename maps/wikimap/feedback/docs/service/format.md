# Описание полей `OriginalTask`

Объект [`OriginalTask`](https://a.yandex-team.ru/arc/trunk/arcadia/maps/wikimap/feedback/api/schemas/v1/original-task.json) передаётся при создании фидбека. Ниже описание полей, общих для всех типов фидбека.


| Поле                           | Обязательное | Описание                                                                                                                                                                                                                                       |
| ------------------------------ | ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| form_id                        | Да           | ID формы. Кто должен обработать заявку.<br/>`toponym` - народная карта.<br/>`organization` - справочник.<br/>`route` - тоже народная карта.<br/>`other` - саппорты (в сансаре). Варианты в [списке типов фидбека](types.md).                                                                |
| form_type                      | ~            | Тип формы. Идентифицирует форму, из которой был отправлен фидбек.                                                                                                                                                                              |
| question_id                    | Да           | ID формы вопроса. Варианты в [списке типов фидбека](types.md).                                                                                                                                                                                                     |
| answer_id                      | Да           | ID формы ответа. Варианты в [списке типов фидбека](types.md).                                                                                                                                                                                                      |
| object_id                      | ~            | ID объекта в рамках сервиса.<br/>Или ID организации в справочнике или ID объекта НК<br/><i>(Поле необязательное для добавление объектов и комментария)</i>                                                                                     |
| object_uri                     | ~            | URI объекта для геокодера<br/><i>(Поле обязательное для редактирования объектов, если не указан `object_id`)</i>                                                                                                                               |
| object_url                     | ~            | URL объекта в рамках сервиса<br/>Ссылка на объект в сервисе<br/><i>(Поле необязательное для добавление объектов и комментария)</i>                                                                                                             |
| form_context_id                |              | Место в UI сервиса, из которого вызывается форма отзыва. Используется для аналитики. [Документация](https://github.yandex-team.ru/maps/maps/blob/dev/docs/feedback.md#точки-входа-в-формы-фидбека).                                            |
| origin_id                      |              | Оригинальный ID в сервисе.                                                                                                                                                                                                                     |
| origin                         |              | Оригинальный сервис.                                                                                                                                                                                                                           |
| question_context               |              | Изменяемые поля объекта до редактирования пользователем.                                                                                                                                                                                       |
| answer_context                 |              | Изменяемые поля объекта после редактирования пользователем.                                                                                                                                                                                    |
| message                        |              | Сообщение от пользователя                                                                                                                                                                                                                      |
| support_message                |              | Сообщение от асессора                                                                                                                                                                                                                          |
| form_point                     | Да           | Координата точки, на которую пользователь отправил фидбек                                                                                                                                                                                      |
| attached_photos                |              | Массив id фотографий, которые были загружены через метод [feedback-photo](https://github.yandex-team.ru/maps/upload-api/blob/master/docs/v1/spec.yaml) в [upload-api](https://github.yandex-team.ru/maps/upload-api)                           |
| user_full_name                 |              | Полное имя пользователя                                                                                                                                                                                                                        |
| user_email                     |              | Email пользователя                                                                                                                                                                                                                             |
| form_context                   |              | Данные, актуальные для конкретной формы, которую заполнил пользователь                                                                                                                                                                         |
| form_context.assignment_id     |              | ID задания, которому соответствовала заполненная форма                                                                                                                                                                                         |
| form_context.client_context_id |              | Контекст формы, полученный из урла: означает, откуда пользователь пришёл в форму, например, вид пуша                                                                                                                                           |
| form_context.search_text       |              | Поисковый запрос пользователя, из которого пользователь перешёл в форму фидбека                                                                                                                                                                |
| metadata                       | Да           | Информация о клиенте                                                                                                                                                                                                                           |
| metadata.client_id             | Да           | ID клиента. Примеры: `mobile_maps_android` или `mobile_maps_ios`                                                                                                                                                                               |
| metadata.version               | Да           | Версия API. Надо просто передавать `1.0`                                                                                                                                                                                                       |
| metadata.application_version   |              | Версия клиентского приложения                                                                                                                                                                                                                  |
| metadata.uuid                  |              | uuid пользователя из AppMetrika. Только для мобильных клиентов.                                                                                                                                                                                |
| metadata.device_id             |              | device_id пользователя из AppMetrika. Только для мобильных клиентов.                                                                                                                                                                           |
| metadata.uid                   |              | uid пользователя, если тот авторизован                                                                                                                                                                                                         |
| metadata.locale                | Да           | Локаль пользователя. Пример: `ru_RU`                                                                                                                                                                                                           |
| metadata.user_coordinate       |              | Текущее местоположение пользователя.                                                                                                                                                                                                           |
| metadata.user_region_id        |              | Регион пользователя.                                                                                                                                                                                                                           |
| metadata.yandexuid             |              | Значение куки yandexuid пользователя. Используется только в web версии.                                                                                                                                                                        |
| metadata.ip                    |              | IP-адрес пользователя. Если не был передан, то будет использоваться первое значение из заголовка [X-Forwarded-For](https://developer.mozilla.org/ru/docs/Web/HTTP/Заголовки/X-Forwarded-For). Его необходимо пробрасывать при обращении к API. |
| metadata.bebr_session_id       |              | bebr-сессия, из которой был отправлен фидбек                                                                                                                                                                                                   |
| metadata.map_layer             |              | Идентификатор слоя карты, выбранного у пользователя.                                                                                                                                                                                           |
| metadata.map_zoom              |              | Мастштаб карты, выбранный у пользователя.                                                                                                                                                                                                      |
