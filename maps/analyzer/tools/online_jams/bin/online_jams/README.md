Непрерывное скачивание онлайн пробок в protobuf формате в таблицу на YT или конвертировать protobuf таблицы на YT в пробочный формат
===

Утилита позволяет скачать данные из ecstatic в protobuf формате таблицу пробок на YT
Утилита также позволяет protobuf пробки на YT конвертировать в пробочный формат

Интерактивный запуск сбора онлайн пробок
====
```bash
./online_jams collect -u <protobuf_jams_table_at_yt>
```

Демонизированный запуск сбора онлайн пробок
====
```bash
nohup ./online_jams collect -u <protobuf_jams_table_at_yt> &
```

Остановка демона сбора онлайн пробок, с возможностью завершить текущие работы
====
```bash
pkill -int online_jams
```

Остановка демона сбора онлайн пробок, немедленно (остаются не завершенные процессы)
====
```bash
pkill -int online_jams && pkill -int online_jams

```

Остановка интерактивного процесса сбора онлайн пробок
====
```
CTRL+C - нажать в консоли (однократно для завершения текущих работ, двукратно для немедленного завершения работы основного процесса)
```

Общее описание сбора пробок
====
```
Утилита многопроцессная. Процессы поделены на группы, каждая из групп отвечает за свой тип обработки датасета. Датасеты поделены на группы по
времени, внутри группы датасеты делятся на подгруппы (12 штук - по состоянию на 2020-10-16). 
Работа строится так:
1) Сканирование ecstatic на наличие новых активных dataset-ов
2) При наличии новых активных dataset-ов скачивание их в текущую папку на локальной машине (результы = дирректории с *.protobuf файлами, скачивает 1 процесс ecstatic группами dataset-ов)
3) Загрузка protobuf фалов c пробками в колонку таблицы на YT
4) Удаление данных частичных конвертированных и загруженных dataset-ов в локальной дирректории
```

Текущие проблемы
====
`
Тикет: https://st.yandex-team.ru/GEOINFRA-1410 - подвисает ecstatic при скачивании, это может не давать запускать ecstatic повторно
`

Запуск конвертации пробок в формате protobuf из таблицы на YT в пробочный формат
===
```bash
./online_jams unpack -i <protobuf_jams_table_on_yt> -o <output_jams_table_on_yt>
```

Обеще описание конверсии пробок из protobuf в пробочный формат
===
```
1) по protobuf из соответствующей строки проводится обработка аналогичная утилте inspect_jams
2) выходные результаты склеиваются в результирующей таблице
```
