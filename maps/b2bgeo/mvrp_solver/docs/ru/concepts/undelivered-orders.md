# Возможные причины нераспределенных заказов

### Планирование на качестве `low`

Поправить значение `options.quality` на `normal`.

### Ошибки в координатах заказов или склада

Проверить корректность координат склада и заказов.

Типовые ошибки в данных:
* Широта и долгота перепутаны местами.
* Из-за ошибок при геокодировании некоторые координаты сильно отличаются от остальных – заказ по факту указан, как расположенный в другом городе или стране.

### Слишком низкие значения штрафов за невыполнение заказа (`penalty.drop`)

Изменить значения `penalty.drop`. Они должны быть на 2-3 порядка больше, чем остальные стоимости, и не должны быть равны 0. По умолчанию это значение равно 1 000 000.

### Заказ не помещается ни в одно транспортное средство

Убедиться, что заказ можно поместить хотя бы в одно из транспортных средств.

Проверять вместимость по всем параметрам:

* `weight_kg` - вместимость по весу;
* `volume` - вместимость по объему;
* `units` - вместимость по грузовым единицам.

При необходимости поправить вместимость транспортных средств.

Следует учитывать дополнительные нюансы:

1. У транспортного средства могут быть определены значения `capacity.limit` - ограничение по загрузке в процентах от указанной вместимости.
2. У транспортного средства и у заказа по параметру `weight_kg` заданы значения по умолчанию. Заказ по умолчанию весит 1 кг, вместимость транспортного средства по умолчанию 200 кг. Если не заполнен ни вес, ни объем у транспортного средства, а у заказа не заполнен объем и указан вес более 200 кг – то он будет не распределен.

### Заказы суммарно не помещаются в имеющиеся транспортные средства (количества ТС недостаточно для такого объема заказов)

Убедиться, что суммарной вместимости транспортных средств хватит, чтобы перевезти все заказы.
При необходимости поправить вместимость или добавить дополнительные транспортные средства.

Выяснить, могут ли ТС делать несколько рейсов. То есть суммарная вместимость ТС может быть меньше объема заказов, при этом параметр `max_runs` должен быть больше 1 как минимум на части ТС.

### Заказ нельзя выполнить без нарушения окна, а окно заказа жесткое

Сделать все окна на заказах мягкими, расширить окна заказов или использовать оба варианта.

Типовые ошибки в данных:
* Окно заказа заканчивается слишком рано - в него нельзя успеть без опоздания с учетом указанных времени начала смены ТС и времени начала работы склада.
* Заказ с жестким окном находится слишком далеко – чтобы успеть на него, нужно выезжать на много раньше. Необходимо указать соответствующее время начала смены ТС и время начала работы склада.

### Какой-то из заказов нельзя выполнить без нарушения окна смены ТС, а окно смены жесткое

Сделать все окна на сменах мягкими, добавить дополнительные смены для машин, расширить границы смен машин или использовать несколько подходящих вариантов.

### ТС не успевает выполнить заказы и вернуться на склад до завершения окна склада, а окно склада жесткое

Расширить окно склада или сделать окно на складе мягким.

Возникает, только если выставлена настройка `return_to_depot = true`.

### На заказе указан тег, которого нет ни на одном из ТС

Убрать лишние значения `required_tags` на заказах.

Типовые ошибки в данных:
* В написании тегов допущена опечатка (фактически на заказах и на машинах тег разный).
* В написании тегов используется разный регистр (теги чувствительны к регистру).

### На заказах и ТС указаны теги, но по определенному тегу суммарная вместимость ТС слишком мала по сравнению с объемом заказов

Убрать лишние значения `required_tags` на заказах, проставить нужный тeг на большем количестве ТС или использовать оба варианта.

### На заказах и ТС указаны теги, есть ручное планирование, в котором все можно распределить без нарушений, но при автоматическом планировании возникают дропы  

Включить опцию `options.weighted_drop_penalty = true`.

### На заказах заполнены `load_types` и указаны `incompatible_load_types`, но суммарной вместимости ТС недостаточно для перевозки всех заказов с учетом правил несовместимости

Убрать лишние значения несовместимых заказов `incompatible_load_types` или убрать лишние значения `load_types` с заказов.


<p class="p"><a href="feedback.html" class="xref button">Написать в службу поддержки</a></p>
