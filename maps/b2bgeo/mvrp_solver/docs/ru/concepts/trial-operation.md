# Шаг 5. Опытная эксплуатация

На этом шаге необходимо внедрить продукт и начать его постоянное использование. Несмотря на то, что после предыдущего шага есть рабочее решение по интеграции, опыт показывает: в реальной работе возникают ранее не выявленные замечания. Часто это требует внесения корректировок в интеграцию (и, возможно, ввода дополнительных справочных данных). Поэтому переход к шагу опытной эксплуатации нельзя воспринимать как завершение интеграции. Скорее всего, доработки потребуются и на этом этапе.

1. На данном шаге есть вероятность столкнуться с сопротивлением персонала и подрядчиков (не всегда явным). Подумайте заранее, какие риски могут возникнуть с мотивацией людей и как этого избежать.

   - Логисты могут бояться потерять свою важность для компании.
   - Водители/курьеры могут думать, что на новых маршрутах они будут получать меньше денег (или работать больше, а зарабатывать так же);
   - ИТ-подрядчики (как правило, те, которых наняли за фиксированную стоимость) могут настаивать, что они выполнили все работы по исходному техническому заданию и новые доработки должны оцениваться и оплачиваться отдельно.

   Желательно, чтобы ваши сотрудники были заинтересованы во внедрении новой системы.

1. Оцените результаты маршрутизации на данных прошедших периодов. К оценке привлеките сотрудников, которые занимаются построением маршрутов. Сформулируйте перечень конкретных замечаний к результатам.

1. Замечания разделите по приоритету (критичность для использования маршрутов) и по обоснованности (замечания обоснованы, если есть веская причина, по которой маршруты необходимо формировать именно так). Часто бывает, что критика результатов оптимизации обусловлена только устоявшейся привычкой планирования. Например: «Точки в этих районах мы всегда планировали вместе, так сложилось».

1. Как правило, большинство замечаний можно устранить изменением настроек алгоритма. Если из документации не ясно, как это сделать, обратитесь в техническую поддержку (по электронной почте [routing-support@yandex-team.ru](mailto:routing-support@yandex-team.ru) или через форму [Обратной связи](https://yandex.ru/routing/doc/vrp/concepts/feedback.html)).

1. Если вы хотите дополнительно убедиться, что использование продукта будет оправдано, проведите параллельное планирование с последующей оценкой метрик: стройте маршруты, как это происходит сейчас, и одновременно запускайте Яндекс.Маршрутизацию на тех же данных. По итогам оцените ключевые метрики (количество машин, пробег, время, количество плановых нарушений окон заказов, общее время нарушений окон заказов). Особенности этого метода:

   - Чтобы результат сравнения был корректным, у алгоритма и логиста должен быть одинаковый набор ограничений. Несоответствия бывают неожиданными: во временном окне смены, перегрузе машины, совместимости заказов между собой, совместимости заказов и машин и&nbsp;т.&nbsp;п. Снимайте ограничения алгоритма там, где их нарушает логист. Имеет значение даже возможность перегруза на 1&nbsp;кг и опоздания на 1&nbsp;минуту.
   - При необходимости прогоните маршруты логиста через алгоритм, если известно соответствие машины и заказа. При планировании с помощью Excel используйте лист Routes или теги (создайте для каждой машины уникальный тег и укажите его заказах, назначенных на нее). При работе с API задействуйте функциональность [допланирования](https://yandex.ru/routing/doc/vrp/concepts/additional-planning.html).

1. Начните реальные проезды по маршрутам. По их итогам регулярно собирайте обратную связь с логистов и водителей и анализируйте отличия факта от плана.

1. Основные причины отклонений факта от плана:

   - Водители выезжают со склада позднее запланированного и, как следствие, начинают опаздывать (поскольку фактические пробки уже отличаются от прогнозных). В этом случае необходимо контролировать время выезда со склада.
   - Водители не придерживаются плановой последовательности маршрутов.
   - Сдвигается фактическое временное окно заказа.
   - Водители попадают с привычных маршрутов в новый незнакомый район. В этом случае нужно ехать по Яндекс.Навигатору.
   - Водители проводят на точке больше времени, чем запланировано. С этой причиной необходимо разбираться отдельно по каждому случаю. Возможно, плановое сервисное время слишком оптимистично и его нужно увеличить. Чтобы замерить реальное время на точке, практикуется проезд по маршруту с секундомером.

1. Уделите внимание справедливой мотивации водителей/курьеров. Если оплата труда привязана к какой-то переменной (точке, пробегу, времени), то, как правило, сотрудники рассчитывают на более-менее одинаковое для всех распределение маршрутов. Для этого вы можете использовать опцию [равномерной загрузки](https://yandex.ru/routing/doc/vrp/concepts/balanced-groups.html). Имейте в виду, что справедливость не обязательно должна достигаться в конкретном планировании: ее можно обеспечивать на периоде. В разделе об опции равномерной загрузки (см. ссылку выше) описано, как это сделать. Потребуются определенные изменения на вашей стороне.

1. Бывает, что после планирования нужно редактировать маршруты вручную. Иногда это действительно оправдано (возник какой-то нюанс, который не мог быть учтен в алгоритме). Но если таких корректировок много, значит, в настройках чего-то не хватает и желательно это поправить. Иначе возникает ситуация, что вы используете продукт не в полной мере. Попробуйте собрать обратную связь с логистов и систематизировать основные причины корректировок, например:

   - неверные координаты заказа;
   - неправильно указана совместимость заказов и машин, совместимость заказов между собой, сервисное время, время работы водителей и&nbsp;т.&nbsp;п.

   Большинство причин можно устранить изменением настроек и исходных данных. Переходите к [шагу 6](commercial-operation.md).

<p class="p"><a href="feedback.html" class="xref button">Написать в службу поддержки</a></p>
