# Возможности.

## Отправка гипотезы.

### Обычная отправка.
Создаю `hypothesisPublisher`, вызываю `publish`. По умолчанию будет
публиковаться в желаемых регионах, но можно передать параметр
`onlyDesiredRegions == false`, чтобы осуществить публикацию гипотезы в любом
регионе.

### Создание гипотез в определенных регионах.
Хочу создать гипотезы только в определенных регионах.
Создаю `hypothesisPublisher`, создаю `geobaseLookup`, передаю `geobaseLookup` и
вектор (или THashSet) регионов в `setRegionFilter` как `RegionWhiteList`,
вызываю `publish`.

### Создание гипотез во всех регионах, кроме заданных.
Создаю `hypothesisPublisher`, создаю `geobaseLookup`, передаю `geobaseLookup` и
вектор (или THashSet) регионов в `setRegionFilter` как `RegionBlackList`,
вызываю `publish`.

### Создание гипотез только в окрестности имеющихся панорам или зеркал.
Чтобы публиковать гипотезы только для тех мест, где рядом есть панорамы или
зеркала, следует использовать метод `setHotspotVicinityFilter`, передавая в
качестве аргумента радиус поиска hotspot-а в метрах. Гипотеза будет
опубликована только тогда, когда либо от сервиса `stvdescr`, либо от сервиса
`mrc-browser` будет получена информация о наличии hotspot-а, находящегося в
заданной окрестности от гипотезы.


## Закрытие гипотезы.

Некоторые гипотезы могли уже быть взяты в работу картографами. По умолчанию
они закрываться не будут, но можно передать параметр
`closeAcquiredHypothesis == true` в метод `revoke` и закрыть их.

### Закрытие в области.
Хочу закрыть гипотезы. Вызываю revoke от bbox-а области.

### Закрытие гипотез в определенных регионах.
Аналогично методу publish нужно установить фильтр с помощью метода
`setRegionFilter`.

### Закрытие по id.
Вызываем метод `getTasksFromSmallNeighborhood`, парсим json-ы, доставая из них
id гипотез, и сами выбираем, какие гипотезы закрыть. В методе `revoke` по
`hypothesisId` никакие проверки (принадлежность желаемому региону,
взята гипотеза в работу или нет) работать не будут. Предполагается, что
клиент сам парсит json-ы и уверен в том, какие гипотезы закрывает.
