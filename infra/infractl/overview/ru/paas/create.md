# Создание микросервиса

Для создания и запуска нового микросервиса необходимо выполнить следующие шаги.

[Подробнее о командах infractl](../infractl/commands.md)

## Шаг 1.

Создаем директорию или в уже существующей выполняем команду:

```bash
ya infractl init
```

При запуске команды без аргументов, вам будет предложено выбрать язык программирования, шаблон микросервиса, облако и систему деплоя. 

После выполнения команды, в каталоге у вас появится микросервис и все необходимые для работы файлы.

## Шаг 2.

Редактируем файл `service.toml` согласно [документации](scheme.md).

После внесения всех необходимых правок выполняем команду:

```bash
ya infractl generate
```

Команда сгенерирует новую версию `a.yaml` согласно обновленному файлу спецификации микросервиса, и добавит/изменит другие файлы если это необходимо.

На данном этапе у вас будет полностью готовый к запуску микросервис, остается создать merge request, пройти ревью, после чего запустить релиз для создания всего необходимого окружения и деплоя первой версии микросервиса.

## Шаг 3.

Далее запускаем **релиз из интерфейса The CI** или выполняем команду:

```bash
ya infractl release
```

Запуск команды без аргументов запустит резил, который включает все шаги: создание инфраструктурных компонентов и окружений, деплой сервиса во все окружения.