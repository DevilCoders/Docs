# Service Labels

##  Что это? {#whats-it}

Сервису в Nanny можно присвоить набор label'ов (ярлыков). Label представляет собой пару ключ-значение, например, `{geo: msk}` или `{ctype: stable}`.

![labels.png](https://jing.yandex-team.ru/files/sshipkov/labels.c50235d.png)

Label'ы используются для разметки сервисов, с помощью которой:

* Сервисы можно группировать в [дашбордах](dashboards/tutorial.md);
* Таскгруппы на выкладку сервисов можно группировать на [панелях alemate](alemate/task_panels.md);
* На [странице списка сервисов](https://nanny.yandex-team.ru/ui/#/services/) можно вместо построения дерева по категориям, построить его по произвольному порядку label'ов.

Labels в сервисе **не попадают в тэги инстансов сервиса**. Рассмотрим этот момент подробнее.

###  Отличие от тэгов gencfg {#gencfg-tags-diference}

Для разметки инстансов в облаке используются тэги (`itags, instance_tags`), разметку инстансов этими тэгами выполняет gencfg, при этом service labels никак не учитываются. Иными словами тэги gencfg и service labels — это параллельные конструкции. Тэги в gencfg — это разметка  (фильтрация, группировка и т.д.) **инстансов**, label'ы в сервисах — это разметка **сервисов**. При этом service labels никак не влияют на тэги инстансов.

###  Как вычисляются Service Labels {#computing}

Часто тэги генерилки (которые не `cgset_memory_recharge_on_pgfault_1` или `a_topology_stable-91-r13`), а так называемые "ортогональные тэги", которые использует, например, Голован, могут быть одинаковыми для всех инстансов сервиса и тогда можно сказать, что они практически один-в-один соответствуют лейблам сервиса.

Но это не всегда так. Например, сервис может быть не на группах генерилки (пока), сервис может быть на нескольких группах генерилки (например, в разных локациях), тогда у его инстансов набор тэгов будет различным, что не позволит один-в-один спроецировать их в label'ы сервиса.

Кнопка **Update labels** в UI сервиса пытается вывести ортогональные тэги из тэгов инстансов gencfg — как раз выполнить эту проекцию, однако, как было замечено выше, не всегда это возможно сделать однозначно.

