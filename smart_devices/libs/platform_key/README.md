# Платформенные ключи

Для некоторых платформ нет возможности на производстве сгенерить ключ и довезти
до бекенда, поэтому ключ зашивается в прошивку.
Для таких платформ релизная сборка обязательно требует ключа, который нужно
зашить; см тикет [QUASAR-940](https://st.yandex-team.ru/QUASAR-940) или
[QUASAR-2075](https://st.yandex-team.ru/QUASAR-2075).

Варианты ключей для локальной разработки лежат в
`yandex_io/misc/cryptography/platform_keys/`.  При сборке в CI, в переменную
окружения `QUASAR_PLATFORM_KEYS_DIR` кладется путь до настоящего ключа, взятого
из секретницы.

Задача сборки образа прошивки сверяет, что был взят нужный ключ -- sha256-сумма
использованного файла пишется в файл `platformKey.h.sha256` в директории с
результатами сборки демонов (sha256 берется от всего файла ключа).
